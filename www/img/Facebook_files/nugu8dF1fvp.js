/*!CK:2313593872!*//*1434123745,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["\/vWEk"]); }

__d("ProfileSubFollowStatus",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={REGULAR_FOLLOW:"follow",RECAP:"recap",SEE_FIRST:"see_first",SEE_LESS:"see_less"};},null);
__d("XAdPreferencesCategoryInfoController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ads\/preferences\/category_info\/",{ad_id:{type:"Int",required:true},category_fbid:{type:"Int",required:true}});},null);
__d("AdsPreferencesInterestListItem.react",["AdPreferencesDesktopStrings","AsyncRequest","Image.react","Layout.react","xuiglyph","React","ReactLayeredComponentMixin","XAdPreferencesCategoryInfoController","XUIContextualDialog.react","XUIContextualDialogTitle.react","XUIContextualDialogBody.react","XUIText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=j.Column,v=j.FillColumn,w=l,x=w.PropTypes,y=l.createClass({displayName:"AdsPreferencesInterestListItem",mixins:[m],propTypes:{adID:x.number.isRequired,interest:x.object.isRequired,isListItem:x.bool.isRequired,onInterestClick:x.func.isRequired,removed:x.bool.isRequired,setDialog:x.func,setReportDialog:x.func},getInitialState:function(){return {xHover:false,iHover:false,interestHover:false,enterTimeout:-1,suggestions:{}};},_xHover:function(event){this.setState({xHover:!this.state.xHover});},_xOver:function(event){this.setState({xHover:true});},_iHover:function(event){this.setState({iHover:!this.state.iHover});},_interestHover:function(z){this.setState({interestHover:z});},_interestEnter:function(event,z,aa){if(aa){this._interestHover(true);}else{var ba=setTimeout(this._interestEnter.bind(this,true,true,true),250);this.setState({enterTimeout:ba});}},_interestLeave:function(event){this._interestHover(false);clearTimeout(this.state.enterTimeout);},_handleInterestClick:function(event){var z=this.refs['toggle_'+this.props.interest.id];this.props.onInterestClick(this.props.interest,this.props.removed,z);},_onInterestTextClick:function(event){if(this.state.suggestions>0&&this.props.setDialog){this.props.setDialog(this.props.interest,this.state.suggestions);}else{var z=n.getURIBuilder().setInt('ad_id',this.props.adID).setInt('category_fbid',this.props.interest.id).getURI();new h(z).setHandler(function(aa){var ba=aa.payload,ca=ba.suggestions,da=this.props.interest;if(!da.description)da.description=t._("Ta preferencja zosta\u0142a dodana przez Ciebie.");this.setState({suggestions:ca});if(this.props.setDialog)this.props.setDialog(da,ba.suggestions);}.bind(this)).send();}},_onReportPreferenceClick:function(event){if(this.props.setReportDialog)this.props.setReportDialog(this.props.interest);},render:function(){var z=((this.state.iHover?"hidden_elem":'')),aa=((!this.state.iHover?"hidden_elem":'')),ba=((this.state.interestHover&&this.props.isListItem?"_2imp":'')+(!this.state.interestHover&&this.props.isListItem?' '+"_2imq":'')+(this.props.removed?' '+"hidden_elem":'')),ca=!this.props.isListItem?null:l.createElement("span",{className:ba,ref:this.props.interest.name,onMouseEnter:this._iHover,onMouseLeave:this._iHover},l.createElement(i,{className:z,src:k({name:'info-solid',shade:'light',size:'medium'})}),l.createElement(i,{className:aa,src:k({name:'info-solid',shade:'dark',size:'medium'})})),da=l.createElement("span",{className:ba,onMouseEnter:this._xHover,onMouseLeave:this._xHover,onMouseMove:this._xOver},l.createElement(i,{className:((this.state.xHover?"hidden_elem":'')),src:k({name:'cross',shade:'dark'})}),l.createElement(i,{className:((!this.state.xHover?"hidden_elem":'')),src:k({name:'cross',shade:'accent'})})),ea=l.createElement("div",{className:"_2imr"},l.createElement("a",{href:"#"},t._("Cofnij"))),fa=l.createElement(r,{className:((this.props.removed?"_2ims":'')),size:"small",weight:"bold","data-fbid":this.props.interest.id},this.props.interest.name),ga=(!this.props.isListItem||this.props.removed)?fa:l.createElement("a",{onClick:this._onInterestTextClick},fa),ha=(("_2imt")+(!this.props.isListItem?' '+"_2imu":'')),ia=l.createElement(v,null,l.createElement("a",{onClick:this._onReportPreferenceClick,className:ba},l.createElement(r,{size:"small",weight:"bold"},"[FB-Only] Report"))),ja=(this.props.isListItem&&this.props.setReportDialog)?ia:null;return (l.createElement("li",{className:ha,onMouseEnter:this._interestEnter,onMouseLeave:this._interestLeave},l.createElement(j,null,l.createElement(v,null,ga,l.createElement("span",{className:"_2imv"},ca)),ja,l.createElement(u,{className:"mlm"},l.createElement("div",{onClick:this._handleInterestClick,className:"_2imw",ref:'toggle_'+this.props.interest.id},!this.props.removed?da:ea)))));},renderLayers:function(){var z=this.props.interest.description?this.props.interest.description:t._("Ta preferencja zosta\u0142a dodana przez Ciebie.");return {contextualDialog:l.createElement(o,{contextRef:function(){return this.refs[this.props.interest.name];}.bind(this),shown:this.state.iHover,position:"above",focusContextOnHide:false,width:o.WIDTH.NORMAL},l.createElement(p,null,g.about_this_ads_preference),l.createElement(q,null,z))};}});e.exports=y;},null);
__d("XAdPreferencesInterestsWriteController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ads\/preferences\/edit_interests\/",{ad_id:{type:"Int",required:true},action:{type:"Enum",required:true,enumType:1},type:{type:"Enum",required:true,enumType:1},fbids:{type:"IntVector",required:true}});},null);
__d("XAdPreferencesNUXController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ads\/preferences\/nux\/",{type:{type:"String",required:true}});},null);
__d("XAdsPreferencesFeedbackController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/ads\/preferences\/feeedback\/",{ad_id:{type:"Int",required:true},favorite:{type:"Enum",required:true,enumType:1}});},null);
__d("AdsPrefs",["AdsPreferencesInterestListItem.react","AsyncRequest","CSS","DOM","Event","React","XAdPreferencesInterestsWriteController","XAdPreferencesNUXController","XAdsPreferencesFeedbackController","csx","cx","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();function s(w,x){i.toggleClass(w,"hidden_elem");var y=i.hasClass(w,"hidden_elem")?'ad_useful':'ad_neutral',z=o.getURIBuilder().setInt('ad_id',x).setEnum('favorite',y).getURI(),aa=new h(z);aa.send();}function t(){var w=n.getURIBuilder().setString('type','interest_nux_ts').getURI();new h(w).send();}function u(w,x,y){var z=x?'add':'del',aa=m.getURIBuilder().setInt('ad_id',w.adID).setEnum('action',z).setEnum('type','interest').setIntVector('fbids',[w.id]).getURI();new h(aa).send();l.render(l.createElement(g,{className:"_589n",adID:w.adID,interest:w,isListItem:false,onInterestClick:u,removed:!x}),document.getElementById(w.rootID));if(w.dialog&&y!=null){t();w.dialog.setContext(y);w.dialog.show();}}var v={initRHCFeedback:function(w,x,y){r(k.listen(x,'click',function(z){s(y,w);z.kill();}));},createListElement:function(w,x,y,z,aa,ba){var ca={id:x,name:y,adID:w,rootID:z,dialog:ba};l.render(l.createElement(g,{className:"_589n",adID:w,interest:ca,isListItem:false,onInterestClick:u,removed:false}),document.getElementById(z));},initExpandable:function(w){r(k.listen(w,'click',function(x){var y=j.scry(w,"div._2fdq")[0],z=j.scry(w,"._4r43")[0],aa=j.scry(w,"._1uhj")[0];i.toggleClass(z,'hidden_elem');i.toggleClass(aa,'hidden_elem');i.toggleClass(y,'hidden_elem');}));},toggleFavorite:function(w){var x=j.find(w.getRoot(),'.img');s(x,w.getLabel());}};e.exports=v;},null);
__d("EntstreamFeedObjectDigest",["DOM","EntstreamFeedObject","EntstreamFeedObjectFollowup","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l={toggleDigest:function(m,n,o){var p=m.getValue()==='digest_on'?o.digest_off:o.digest_on,q=h.getRoot(k(n)),r=i.getFollowup(q);if(r){var s=i.getFollowupMessage(r);g.replace(s,p);}else i.addFollowup(q,p,"_521o");}};e.exports=l;},null);
__d("EntstreamFeedObjectFollow",["EntstreamFeedObject","EntstreamFeedObjectFollowup","Event","Parent","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m={toggleFollow:function(n,o,p){var q=n.getValue()=='follow_post'?p.follow_post:p.unfollow_post,r=g.getRoot(l(o)),s=h.getFollowup(r);if(s){h.replaceFollowupMessage(s,q);}else{s=h.addFollowup(r,q,"_521o")||h.getFollowup(r);i.listen(s,'click',function(event){var t=event.getTarget(),u="_1f89";if(j.byClass(t,u)){m.toggleFollow(n,o,p);n.toggleMenuItem();}});}}};e.exports=m;},null);
__d("EntstreamFeedObjectHide",["Event","CSS","EntstreamFeedObject","EntstreamFeedObjectFollowup","Focus","TabbableElements","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o={hide:function(p,q){var r=i.getRoot(n(p));r=i.getHscrollOuterRootIfAvailable(r);j.addFollowup(r,q);h.addClass(r,"_i6m");o.setFocus(r);},registerUnhide:function(p,q){g.listen(p,'click',function(){if(q)q.send();var r=i.getRoot(p);r=i.getHscrollOuterRootIfAvailable(r);o.unhide(r);});},setFocus:function(p){var q=l.find(p);if(q&&q[0])k.setWithoutOutline(q[0]);},unhide:function(p){j.removeFollowup(p);h.removeClass(p,"_i6m");o.setFocus(p);}};e.exports=o;},null);
__d("XFeedSubFollowController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/feed\/profile\/sub_follow\/",{id:{type:"Int"},action:{type:"Enum",enumType:1},location:{type:"Int"},__asyncDialog:{type:"Int"}});},null);
__d("EntstreamFeedObjectSeeFirst",["DOM","DOMQuery","CSS","EntstreamFeedObject","XFeedSubFollowController","AsyncRequest","ProfileSubFollowStatus","ge","cx","csx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=73,r={toggleSeeFirst:function(s,t,u){var v=h.find(s,"._zw-"),w=h.find(s,"._zw_"),x=i.hasClass(v,'hidden_elem'),y=x?m.REGULAR_FOLLOW:m.SEE_FIRST,z=u.see_first_target_id,aa=k.getURIBuilder().setInt('id',z).setEnum('action',y).setInt('location',q).getURI(),ba=new l(aa).setHandler(function(){var ca=j.getRoot(n(t)),da=h.scry(ca,"._zwz");if(x){i.addClass(w,'hidden_elem');i.removeClass(v,'hidden_elem');if(da.length>0)g.remove(da[0]);}else{i.addClass(v,'hidden_elem');i.removeClass(w,'hidden_elem');if(da.length===0){var ea=g.create('img',{src:'/images/feed/control/seefirst_icon.png'});i.addClass(ea,"_zwz");var fa=h.find(ca,"._4r_y");g.prependContent(fa,ea);}}});ba.send();}};e.exports=r;},null);
__d("YouTube",["CSS","DOM","DOMQuery","Event","Keys","LitestandStoryInsertionStatus","SubscriptionsHandler","UserAgent_DEPRECATED","Focus","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();function r(s,t,u){"use strict";var v=new m();v.addSubscriptions(j.listen(s,'load',this.listening.bind(this)),l.registerBlocker(function(){return this.playerState===r.STATE_PLAYING;}.bind(this)));p(this,{iframe:s,autofocus:t,autoplay:u,playerState:r.STATE_UNSTARTED,muted:false,volume:100,currentTime:0,timer:null,handler:v});if(t)o.set(s);}r.prototype.id=function(){"use strict";return this.iframe.id;};r.prototype.post=function(s){"use strict";s.id=this.id();this.iframe.contentWindow.postMessage(JSON.stringify(s),'*');};r.prototype.listening=function(){"use strict";this.post({event:'listening'});clearTimeout(this.timer);this.timer=setTimeout(this.listening.bind(this),100);};r.prototype.update=function(s){"use strict";if(s.event=='initialDelivery'){clearTimeout(this.timer);if((n.webkit()||n.firefox())&&s.info&&s.info.debugText.match(/flashVersion/)){this.addAccessibleButtons();if(n.firefox())this.iframe.tabIndex=-1;}}if(s.info)['playerState','muted','volume','currentTime'].forEach(function(t){if(s.info.hasOwnProperty(t))this[t]=s.info[t];}.bind(this));};r.prototype.togglePlay=function(){"use strict";this.post({event:'command',func:(this.playerState==r.STATE_PLAYING)?'pauseVideo':'playVideo'});};r.prototype.toggleMute=function(){"use strict";this.post({event:'command',func:this.muted?'unMute':'mute'});};r.prototype.addAccessibleButtons=function(){"use strict";this.addAccessibleButton('Mute',"_505m",this.toggleMute.bind(this));this.addAccessibleButton('Play',"_505n",this.togglePlay.bind(this));};r.prototype.addAccessibleButton=function(s,t,u){"use strict";var v=h.create('button',{'class':t,tabindex:0},s);h.insertAfter(this.iframe,v);this.handler.addSubscriptions(j.listen(v,'click',u),j.listen(v,'mouseover',g.hide.bind(null,v)),j.listen(this.iframe,'mouseout',g.show.bind(null,v)),j.listen(v,'focus',function(){if(!this.autoplay&&this.playerState==r.STATE_UNSTARTED){this.post({event:'command',func:'playVideo'});this.post({event:'command',func:'pauseVideo'});}}.bind(this)),j.listen(v,'keydown',function(w){switch(w.keyCode){case k.UP:case k.DOWN:this.post({event:'command',func:'setVolume',args:[this.volume+((w.keyCode==k.UP)?10:-10)]});w.prevent();break;case k.RIGHT:case k.LEFT:this.post({event:'command',func:'seekTo',args:[this.currentTime+((w.keyCode==k.RIGHT)?10:-10)]});w.prevent();break;}}.bind(this)));return v;};r.prototype.destroy=function(){"use strict";this.handler.release();delete r.instances[this.id()];if(!Object.keys(r.instances).length)r.handler.remove();};r.register=function(s,t,u){"use strict";if(!window.postMessage)return;if(!Object.keys(r.instances).length)r.handler=j.listen(window,'message',function(w){try{var x=JSON.parse(w.data);if(r.instances[x.id])r.instances[x.id].update(x);}catch(w){}});var v=new r(i.find(s,'iframe'),t,u);r.instances[v.id()]=v;};p(r,{STATE_UNSTARTED:-1,STATE_PLAYING:1,instances:{},handler:null});e.exports=r;},null);
__d("EntstreamHomeFeedObjectHide",["AsyncRequest","CSS","DOM","EntstreamFeedObject","EntstreamFeedObjectHide","Event","TrackingNodes","YouTube","csx","cx","ge","fbt","$"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();var t={stopVideo:function(u){var v=s(u),w=i.find(v,"^._5jmm"),x=i.scry(w,'iframe');for(var y=0;y<x.length;y++){var z=n.instances[i.getID(x[y])];if(z&&(z.playerState===n.STATE_PLAYING))z.togglePlay();}var aa=i.scry(w,'video');for(var ba=0;ba<aa.length;ba++)if(('paused' in aa[ba])&&!aa[ba].paused)if(typeof aa[ba].pause==='function')aa[ba].pause();},hide:function(u,v,w,x){t.stopVideo(u);var y=j.getRoot(q(u)),z=h.hasClass(y,"_5pat"),aa;if(z&&w=='afrostart'){aa='';}else{var ba=w=='hide'||w=='afrostart'?r._("To zdarzenie jest aktualnie ukryte w Aktualno\u015bciach."):r._("To zdarzenie zosta\u0142o oznaczone jako spam."),ca=w=='hide'||w=='afrostart'?r._("Poka\u017c ponownie"):r._("Cofnij"),da=m.getTrackingInfo(m.types.UNHIDE_LINK),ea=i.create('a',{href:'#','data-ft':da},ca),fa={};if(v)fa.token=v;if(x)fa.hideable_token=x;var ga=new g().setURI('/ajax/entstream/home/story/unhide').setMethod('POST').setData(fa).setRelativeTo(ea);k.registerUnhide(ea,ga);aa=i.create('div',{'class':"_1f86"},[ba,' ',ea]);}k.hide(u,aa);},registerHide:function(u,v,w,x){l.listen(u,'click',function(){t.hide(u.getAttribute('id'),v,w,x);});}};e.exports=t;},null);
__d("MenuTogglingItem",["DOM","MenuItem"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(){"use strict";if(h!==null)h.apply(this,arguments);}k.prototype.handleClick=function(){"use strict";this.toggleMenuItem();return j.handleClick.call(this);};k.prototype.toggleMenuItem=function(){"use strict";this._swap('ajaxify','toggleAjaxify');this._swap('value','toggleValue');this._toggleItemText();};k.prototype.setValue=function(l){"use strict";this._data.value=l;};k.prototype._toggleItemText=function(){"use strict";var l=this._anchor;this._swap('markup','toggleMarkup');g.replace(l,this._renderItemContent());};k.prototype._swap=function(l,m){"use strict";var n=this._data[l];this._data[l]=this._data[m];this._data[m]=n;};e.exports=k;},null);
__d("EntstreamHomeFeedObjectOptionsMenu",["AdsPrefs","BanzaiLogger","CSS","DOM","EntstreamFeedObject","EntstreamFeedObjectDigest","EntstreamFeedObjectSeeFirst","EntstreamFeedObjectFollow","EntstreamHomeFeedObjectHide","MenuTogglingItem","UFICentralUpdates","UFIConstants","cx","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();function u(v,w,x,y,z,aa,ba,ca,da,ea,fa){v.subscribe('itemclick',function(ha,ia){var ja=ia.item.getRoot(),ka=ja.getAttribute('data-feed-option-name'),la=i.hasClass(ja,"_50o2")||i.hasClass(ja,"_50o0");if(ka)h.log('FeedStoryOptionMenuLoggerConfig',{option_name:ka,is_secondary:la?1:0,event_type:'clk',feed_location:ba,session_id:ca,is_sponsored:da,is_self_story:ea});if(typeof ia.item.getValue!=='function')return;switch(ia.item.getValue()){case 'hide':case 'markspam':case 'afrostart':o.hide(w,x,ia.item.getValue(),z);break;case 'afro_direct_action':var ma=k.getRoot(t(w));ma=k.getHscrollOuterRootIfAvailable(ma);var na=ia.item.getRoot().getAttribute('data-optimistic-hide');if(na){var oa=j.create('div',{className:"_5lum"});j.appendContent(oa,ia.item.getRoot().getAttribute('data-action-in-progress-string'));j.insertBefore(ma.firstChild,oa);i.addClass(ma,"_i6m");}break;case 'follow_post':case 'unfollow_post':n.toggleFollow(ia.item,w,y);break;case 'ad_useful':case 'ad_neutral':g.toggleFavorite(ia.item);ha.kill();break;case 'digest_on':case 'digest_off':l.toggleDigest(ia.item,w,y);break;case 'toggle_see_first':m.toggleSeeFirst(ja,w,y);break;}}.bind(this));var ga=false;v.subscribe('show',function(){h.log('FeedStoryOptionMenuLoggerConfig',{option_name:'root',event_type:'clk',feed_location:ba,session_id:ca,is_sponsored:da,is_self_story:ea});if(Object.getOwnPropertyNames(fa).length&&!ga){ga=true;h.log('AdsPreferencesLoggerConfig',fa);}var ha=i.hasClass(v.getRoot(),"_50o1"),ia=i.hasClass(v.getRoot(),"_50n_");v.forEachItem(function(ja){var ka=ja.getRoot(),la=ka.getAttribute('data-feed-option-name'),ma=i.hasClass(ka,"_50o2"),na=i.hasClass(ka,"_50o0"),oa=i.hasClass(ka,"_50nd"),pa=i.hasClass(ka,"_50ne"),qa=(ha&&ma)||(ia&&na)||(!ha&&oa)||(!ia&&pa),ra=ma||na;if(la&&!qa)h.log('FeedStoryOptionMenuLoggerConfig',{option_name:la,is_secondary:ra?1:0,event_type:'imp',feed_location:ba,session_id:ca,is_sponsored:da,is_self_story:ea});ja.onShow();});});q.subscribe('update-actions',function(ha,ia){if(ia.payloadsource===r.UFIPayloadSourceType.USER_ACTION){var ja=ia.actions||[];for(var ka=0;ka<ja.length;ka++)if(ja[ka].actiontype===r.UFIActionType.ADD_COMMENT_ACTION){if(ja[ka].feedbackfbid!=aa)return;v.getRoot();v.forEachItem(function(la){if(la instanceof p&&la.getValue()==='unfollow_post')la.handleClick();});}}});}e.exports=u;},null);
__d("KeyboardShortcuts",["KeyEventController","Layer","ModalLayer"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(l,m,n){"use strict";this.key=l;this.handler=m;this.filter=n;this.register();}j.prototype.register=function(){"use strict";this.token=g.registerKey(this.key,this.handler,this.filter);};j.prototype.remove=function(){"use strict";this.token.remove();};var k={_tokens:[[]],register:function(l,m,n){n=n||{};var o=n.allowDefault?m:function(event,s){m.apply(this,arguments);event.prevent();},p=n.baseFilters||[g.defaultFilter],q=function(event,s){for(var t=0,u=p.length;t<u;t++)if(!p[t](event,s))return false;return !n.filter||n.filter(event,s);},r=new j(l,o,q);this._tokens[this._tokens.length-1].push(r);return r;},init:function(){h.subscribe('show',function(l,m){if(m.hasBehavior(i))this.pushLayer();}.bind(this));h.subscribe('hide',function(l,m){if(m.hasBehavior(i))this.popLayer();}.bind(this));},pushLayer:function(){var l=this._tokens[this._tokens.length-1];l&&l.forEach(function(m){m.remove();});this._tokens.push([]);},popLayer:function(){var l=this._tokens.length-1;if(l<0)return;var m=this._tokens[l];m.forEach(function(o){o.remove();});this._tokens.pop();var n=this._tokens[l-1];n&&n.forEach(function(o){o.register();});}};k.init();e.exports=k;},null);
__d("FeedBaseKeyboardController",["$","AccessibilityLogger","Arbiter","AsyncDialog","AsyncRequest","Banzai","BanzaiODS","BanzaiNectar","CSS","DOM","DOMScroll","DOMQuery","Event","Focus","KeyboardShortcuts","LikeConfirmer","NavigationMessage","Parent","Run","Scroll","SubscriptionsHandler","Vector","ViewportBounds","emptyFunction","ge","getActiveElement","isAsyncScrollQuery","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){b.__markCompiled&&b.__markCompiled();var ia;function ja(){ia=o.hasClass(document.documentElement,'tinyViewport')?0:g('pagelet_bluebar').offsetTop+g('pagelet_bluebar').offsetHeight;}setTimeout(ja,0);s.listen(window,'resize',ha(ja));function ka(la){"use strict";this.root=la;this.init();}ka.prototype.getStories=function(){"use strict";};ka.prototype.getParentStory=function(la){"use strict";};ka.prototype.isStory=function(la){"use strict";};ka.prototype.isHoldoutStory=function(la){"use strict";};ka.prototype.getHeadline=function(la){"use strict";};ka.prototype.getPreviousStory=function(la){"use strict";};ka.prototype.getNextStory=function(la){"use strict";};ka.prototype.setSelected=function(la,ma){"use strict";};ka.prototype.clickLike=function(){"use strict";};ka.prototype.clickComment=function(){"use strict";};ka.prototype.clickShare=function(){"use strict";};ka.prototype.clickSeeMore=function(){"use strict";};ka.prototype.clickLeft=function(){"use strict";};ka.prototype.clickRight=function(){"use strict";};ka.prototype.openAttachment=function(){"use strict";};ka.prototype.focusComposer=function(){"use strict";var la=ea('pagelet_composer');if(!la)la=ea('pagelet_group_composer');if(la){var ma=p.scry(la,'textarea')[0];if(ma){t.set(ma);q.scrollToTop(true);}}};ka.prototype.getScrollOffset=function(){"use strict";return 10;};ka.prototype.getAnimationLength=function(la){"use strict";return Math.min(Math.abs(ba.getElementPosition(la).y-ca.getTop()-z.getTop(document.body)),400);};ka.prototype.findTop=function(){"use strict";var la=this.getStories();for(var ma=0;ma<la.length;ma++)if(ba.getElementPosition(la[ma]).y>ba.getScrollPosition().y)return la[ma];};ka.prototype.onLeave=function(){"use strict";this.subscriptions&&this.subscriptions.release();};ka.prototype.getHelpDialogRequest=function(){"use strict";if(!this.dialogRequest){this.dialogRequest=new k('/ajax/keyboard_shortcuts');this.dialogRequest.setReadOnly(true);}else if(this.dialogRequest.transport)return null;return this.dialogRequest;};ka.prototype.init=function(){"use strict";y.onLeave(this.onLeave.bind(this));this.subscriptions=new aa();this.subscriptions.addSubscriptions(i.subscribe(w.NAVIGATION_BEGIN,this.onLeave.bind(this)),u.register('j',this.vert.bind(this,1)),u.register('k',this.vert.bind(this,-1)),u.register('l',function(){var la=this.getParentStory(fa());v.like(function(){this.setSelected(la,false);this.clickLike();}.bind(this),fa());}.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('c',this.clickComment.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('o',this.openAttachment.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('p',this.focusComposer.bind(this)),u.register('s',this.clickShare.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('SLASH',function(){var la=this.getHelpDialogRequest();if(la){la.setRelativeTo(fa());j.send(la);}}.bind(this),{filter:function(event,la){return event.getModifiers().shift;}}),u.register('RETURN',this.clickSeeMore.bind(this),{filter:this.hasExpandableStoryInFocus.bind(this)}),u.register('LEFT',this.clickLeft.bind(this),{filter:this.hasActiveStory.bind(this)}),u.register('RIGHT',this.clickRight.bind(this),{filter:this.hasActiveStory.bind(this)}),s.listen(this.root,'focusin',function(event){var la=event.getTarget();if(!this.isStory(la)){var ma=(la.nodeName=='OBJECT'||la.nodeName=='EMBED'||la.nodeName=='IFRAME'),na=this.getParentStory(la),oa=this.selected;if(na&&!ma&&oa){this.setSelected(na,true);this.selected=na;}}}.bind(this)));};ka.prototype.hasActiveStory=function(event,la){"use strict";var ma=fa();return !(ma&&o.shown(ma))||!!this.getParentStory(ma);};ka.prototype.hasExpandableStoryInFocus=function(event,la){"use strict";var ma=fa();return !!(ma.getElementsByClassName('text_exposed_root').length&&!ma.getElementsByClassName('text_exposed_root text_exposed').length);};ka.prototype.click=function(la){"use strict";if(!this.selected)return;var ma;for(var na=0,oa=arguments.length;na<oa;na++){ma=p.scry(this.selected,arguments[na])[0];if(ma&&o.shown(ma)){ma.click();return;}}};ka.prototype.vert=function(la){"use strict";if(!this.scrollInitialized){this.subscriptions.addSubscriptions(s.listen(document,'scroll',function(){if(this.selected&&!this.scrolling)this.setSelected(null,false);}.bind(this)));this.scrollInitialized=true;}var ma,na;if(this.selected){if(l.isEnabled('kbshortcuts_feed')){na=la>0?'kbshortcuts.scroll_down':'kbshortcuts.scroll_up';m.bumpEntityKey('kbshortcuts_feed',na);n.log('feed_scroll',na,{});}h.logJKKey();if(this.selected.id=='pagelet_composer'){ma=la>0?this.getStories()[0]:null;if(this.isHoldoutStory(ma))ma=this.getPreviousStory(ma);}else if(la===0){ma=this.selected;}else ma=la>0?this.getNextStory(this.selected):(this.getPreviousStory(this.selected)||ea('pagelet_composer'));if(!ma){return;}else if(!r.isElementNode(ma)){o.removeClass(this.selected,'selectedStorySimple');this.selected=ma;return this.vert(la);}}if(!ma||x.byClass(ma,'hidden_elem')||!p.contains(document,ma)){ma=this.findTop();if(ma&&la<0)ma=this.getPreviousStory(ma);if(this.isHoldoutStory(ma))ma=this.getPreviousStory(ma);}if(!ma)return;this.anim&&this.anim.stop();var oa=(Date.now()-(this.lastScroll||0)>30);if(la!==0)var pa=this.setFocused.bind(this,ma);if(ga()){oa=false;pa();pa=da;}this.scrolling=true;this.scrollingTimer&&window.clearTimeout(this.scrollingTimer);this.anim=q.scrollTo(ma,oa?this.getAnimationLength(ma):0,false,ba.getViewportDimensions().y-ia-this.getScrollOffset(),0,function(){this.scrollingTimer=window.setTimeout(function(){this.scrolling=false;}.bind(this),300);var qa=ba.getScrollPosition();pa();if(qa.distanceTo(ba.getScrollPosition())!==0)q.scrollTo(qa,0);}.bind(this));this.setSelected(ma,true);this.lastScroll=Date.now();};ka.prototype.isInteractive=function(la){"use strict";return ((la.nodeName=='INPUT')||(la.nodeName=='BUTTON')||(la.nodeName=='TEXTAREA')||(la.nodeName=='A')||!!x.byAttribute(la,'contenteditable'));};ka.prototype.setTabindexOnHeadline=function(la,ma){"use strict";if(this.isStory(la)){var na=this.getHeadline(la);if(na)na.tabIndex=ma;}};ka.prototype.setTabindexOnStory=function(la,ma){"use strict";if(this.isStory(la))la.tabIndex=ma;};ka.prototype.setFocused=function(la){"use strict";if(this.isStory(la))t.setWithoutOutline(la);};e.exports=ka;},null);
__d("GroupViewportTracking",["DOM","csx","ViewportTracking","Banzai","$"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();for(var l in i)if(i.hasOwnProperty(l))n[l]=i[l];var m=i===null?null:i.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=i;function n(){"use strict";if(i!==null)i.apply(this,arguments);}n.prototype.getDataFromConfig=function(o){"use strict";this.timeout=o.record_delay;};n.prototype.getTimeout=function(){"use strict";return this.timeout;};n.prototype.getAllStories=function(){"use strict";return g.scry(k('pagelet_group_mall'),"._5pat");};n.prototype.getStoryID=function(o){"use strict";var p=JSON.parse(o.getAttribute('data-ft'));return p.id;};n.prototype.getDataToLog=function(o){"use strict";return JSON.parse(o.getAttribute('data-ft'));};n.prototype.sendDataToLog=function(o,p){"use strict";if(this.useBanzai)j.post('group_feed_tracking',p);};e.exports.init=function(o){n.instance=new n();n.instance.init(o);};e.exports.getInstance=function(){return n.instance;};},null);
__d("FbFeedKeyboardController",["CSS","DOM","DOMQuery","FeedBaseKeyboardController","Focus","JSXDOM","Parent","FbFeedHighlight","csx","cx","ge","getActiveElement"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();function s(x){if(x.previousElementSibling)return x.previousElementSibling;x=x.previousSibling;while(x&&!i.isElementNode(x))x=x.previousSibling;return x||null;}function t(x){if(x.nextElementSibling)return x.nextElementSibling;x=x.nextSibling;while(x&&!i.isElementNode(x))x=x.nextSibling;return x||null;}for(var u in j)if(j.hasOwnProperty(u))w[u]=j[u];var v=j===null?null:j.prototype;w.prototype=Object.create(v);w.prototype.constructor=w;w.__superConstructor__=j;function w(){"use strict";if(j!==null)j.apply(this,arguments);}w.prototype.getStories=function(x){"use strict";return i.scry(x||this.root,"._5jmm");};w.prototype.isHoldoutStory=function(x){"use strict";return !!x&&g.hasClass(x,'holdoutAdStory');};w.prototype.isRelevantStory=function(x){"use strict";return i.isElementNode(x)&&!this.isHoldoutStory(x);};w.prototype.isStory=function(x){"use strict";return g.hasClass(x,"_5jmm");};w.prototype.clickLike=function(){"use strict";this.click('.UFILikeLink');var x=this.getParentStory(r());if(x){var y=i.scry(x,'.UFILikeLink');for(var z=0;z<y.length;z++)if(!g.hasClass(y[z],'accessible_elem'))k.setWithoutOutline(y[z]);}};w.prototype.clickComment=function(){"use strict";this.click('.comment_link');};w.prototype.clickShare=function(){"use strict";this.click('.share_action_link');};w.prototype.clickSeeMore=function(){"use strict";this.click('.see_more_link');};w.prototype.clickLeft=function(){"use strict";this.click("._1mri");};w.prototype.clickRight=function(){"use strict";this.click("._2fu-");};w.prototype.openAttachment=function(){"use strict";this.click("._5dec","a._52c6","._4-eo",'.uiVideoThumb');};w.prototype.getHeadline=function(x){"use strict";return i.scry(x,"h5._5pbw")[0];};w.prototype.getPreviousSibling=function(x){"use strict";var y=s(x);if(y&&this.getParentStory(y))return y;y=null;var z=m.byClass(x,"_5pcb");if(z){var aa=i.scry(z,"._5jmm"),ba=aa.indexOf(x);while(ba>-1){if(ba===0){y=q('pagelet_composer');y=y&&m.byClass(y,"_5jmm");}else if(ba>0){y=aa[ba-1];if(y.offsetHeight>0)break;}ba--;}}return y||this.selected;};w.prototype.getPreviousStory=function(x){"use strict";var y=this.getPreviousSibling(x);while(y&&!this.isStory(y))y=this.getPreviousSibling(y);return y;};w.prototype.getParentStory=function(x){"use strict";return m.byClass(x,"_5jmm");};w.prototype.getNextSibling=function(x){"use strict";var y=t(x);if(y&&this.getParentStory(y))return y;y=null;var z=m.byClass(x,"_5pcb");if(z){var aa=i.scry(z,"._5jmm"),ba=aa.indexOf(x);if(ba>-1){y=aa[++ba];while(y&&y.offsetHeight===0)y=aa[++ba];}}else if(q('pagelet_composer',x))y=i.scry(document,"div._5pcb ._5jmm")[0];return y||this.selected;};w.prototype.getNextStory=function(x){"use strict";var y=this.getNextSibling(x);while(y&&!this.isStory(y))y=this.getNextSibling(y);return y;};w.prototype.setSelected=function(x,y){"use strict";if(x){var z="_5qdu",aa=i.scry(x,"._5qdu");if(!aa.length&&y)h.prependContent(x,l.div({className:z}));}if(y){this.selected&&this.setTabindexOnStory(this.selected,'-1');this.selected&&g.removeClass(this.selected,"_5qdv");this.selected=x;x&&this.setTabindexOnStory(x,'0');x&&g.addClass(x,"_5qdv");n.highlightSingle(x);}};w.init=function(x){"use strict";new w(x);};e.exports=w;},null);