/*!CK:3007578014!*//*1434123751,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["tSPyJ"]); }

__d("MessagesViewerSetID",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={MESSAGES:"messages",MESSAGES_VIEW_ALL_IN_THREAD:"messages:view_all_in_thread"};},null);
__d("MNCommerceErrors",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ALREADY_UNLINKED:1893001};},null);
__d("MNCommerceLoggerEvents",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={GEN_CALL:"gen_call",DUPLICATE_CALL:"duplicate_call",ERROR:"error",GEN_SHIPMENT_ENT:"gen_shipment_ent",GEN_SHIPMENT_TRACKING_ENT:"gen_shipment_tracking_ent",SHIPMENT_NOTIFICATION_READY:"shipment_notification_ready",SHIPMENT_NOTIFICATION_SENT:"shipment_notification_sent",ASYNC_EXECUTION:"async_execution",ASYNC_SCHEDULE:"async_schedule",ASYNC_THROTTLE:"async_throttle",ASYNC_USER_ACCOUNT_DISABLED:"async_user_account_disabled",ASYNC_GEN_DATA_ERROR:"async_gen_data_error",TRACKING_SHUTDOWN_WITH_EXCEPTION_ERROR:"tracking_shutdown_with_exception",TRACKING_SHUTDOWN_WITH_RETRY_ERROR:"tracking_shutdown_with_retry",DELIVERED_STATS:"delivered_stats",USER_LINKED:"user_linked",USER_LINK_FAILED:"user_link_failed",USER_TOKEN_DECRYPTION_FAILED:"user_token_decryption_failed",USER_TOKEN_DELIVERY_ATTEMPT:"user_token_delivery_attempt",USER_TOKEN_DELIVERED:"user_token_delivered",USER_TOKEN_DELIVERY_FAILED:"user_token_delivery_failed",USER_TOKEN_CRITICAL_LOOKUP:"user_token_critical_lookup",USER_TOKEN_LOOKUP_FAILED:"user_token_lookup_failed",USER_UNLINKED:"user_unlinked",USER_UNLINK_FAILED:"user_unlink_failed",USER_UNLINK_BUSINESS_NOTIFIED:"user_unlink_business_notified",USER_UNLINK_BUSINESS_NOTIFICATION_FAILED:"user_unlink_business_notification_failed",PLUGIN_CLIENT_RENDERED:"plugin_client_rendered",PLUGIN_RENDERED:"plugin_rendered",PLUGIN_HIDDEN_ALREADY_LINKED:"plugin_hidden_already_linked",PLUGIN_BLOCKED:"plugin_blocked",PLUGIN_UPDATES_DISALLOWED:"plugin_updates_disallowed",PLUGIN_UPDATES_REALLOWED:"plugin_updates_reallowed",PLUGIN_ASSOC_MUTATE_FAILED:"plugin_assoc_mutate_failed",PLUGIN_ASSOC_READ_FAILED:"plugin_assoc_read_failed",ORDER_CANCELLED:"order_cancelled",ORDER_CANCELLATION_FAILED:"order_cancellation_failed",SEND_MESSAGE_WITH_ROBOTEXT:"send_message_with_robotext",SEND_MESSAGE_WITH_ATTACHMENT:"send_message_with_attachment",SEND_MESSAGE_WITH_LOG_MESSAGE:"send_message_with_log_message",SEND_MESSAGE_FAILURE:"send_message_failure",DIALOG_OPENED:"dialog_opened",DIALOG_CLOSED:"dialog_closed",DIALOG_LOAD_ERROR:"dialog_load_error",DIALOG_LOAD_SUCCESS:"dialog_load_success",NOT_YOU_CLICKED:"not_you_clicked",RECEIPTS:"receipts",CANCELLATIONS:"cancellations",SHIPMENTS:"shipments",PROCESSED_RECEIPTS:"processedreceipts",NOW_IN_STOCK:"nowinstock",UPDATE_RECEIPTS:"updatereceipts"};},null);
__d("MNCommerceReplyTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={COMMERCE_LINK:2};},null);
__d("P2PPaymentLogMessageSubtype",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={SENT_IN_GROUP:"sent_in_group",CANCELED_SENDER_RISK:"canceled_sender_risk",CANCELED_DECLINED:"canceled_declined",CANCELED_RECIPIENT_RISK:"canceled_recipient_risk",CANCELED_EXPIRED:"canceled_expired",CANCELED_SAME_CARD:"canceled_same_card",CANCELED_CUSTOMER_SERVICE:"canceled_customer_service",CANCELED_CHARGEBACK:"canceled_chargeback",CANCELED_SYSTEM_FAIL:"canceled_system_fail"};},null);
__d("StickerAssetType",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={IMAGE:"BestEffortImage",SPRITE:"SpriteImage",PADDED_SPRITE:"PaddedSpriteImage"};},null);
__d("TypingDetector",["ArbiterMixin","Event","Input","Run","TypingStates","copyProperties","createObjectFrom","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();function o(p,q){this._input=p;this._ignoreKeys={};this._getValueFn=q;}l(o.prototype,g,{_timeout:7000,_currentState:k.INACTIVE,init:function(){this.init=n;this.reset();this._subscription=h.listen(this._input,'keyup',this._update.bind(this));j.onUnload(this._onunload.bind(this));},reset:function(){clearTimeout(this._checkTimer);this._checkTimer=null;this._lastKeystrokeAt=null;this._currentState=k.INACTIVE;},setIgnoreKeys:function(p){this._ignoreKeys=m(p);},destroy:function(){this._subscription.remove();},_onunload:function(){if(this._currentState==k.TYPING)this._transition(k.QUITTING);},_update:function(event){var p=h.getKeyCode(event),q=this._currentState;if(!this._ignoreKeys[p]){var r=this._getValueFn?this._getValueFn():i.getValue(this._input);if(r.trim().length===0){if(q==k.TYPING)this._transition(k.INACTIVE);}else if(q==k.TYPING){this._recordKeystroke();}else if(q==k.INACTIVE){this._transition(k.TYPING);this._recordKeystroke();}}},_transition:function(p){this.reset();this._currentState=p;this.inform('change',p);},_recordKeystroke:function(){this._lastKeystrokeTime=Date.now();if(!this._checkTimer)this._checkTimer=setTimeout(this._checkTyping.bind(this),this._timeout);},_checkTyping:function(){var p=this._lastKeystrokeTime+this._timeout,q=Date.now();if(q>p){this._transition(k.INACTIVE);}else{clearTimeout(this._checkTimer);this._checkTimer=setTimeout(this._checkTyping.bind(this),p-q+10);}}});e.exports=o;},null);
__d("TypingDetectorController",["AsyncRequest","AvailableList","AvailableListConstants","ChannelConnection","ChatVisibility","Keys","TypingDetector","TypingStates","copyProperties","emptyFunction","setTimeoutAcrossTransitions","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();function s(t,u,v,w,x,y){"use strict";this.userID=t;this.input=u;this.source=v;this.threadID=x;this.remoteState=n.INACTIVE;this.notifyTimer=null;w=w||{};this.notifyDelay=w.notifyDelay||this.notifyDelay;this._typingDetector=new m(u,y);this._typingDetector.init(w);this._typingDetector.subscribe('change',this._stateChange.bind(this));}s.prototype.setUserAndThread=function(t,u){"use strict";if(this.userID!==t||this.threadID!==u){this.resetState();this.userID=t;this.threadID=u;}};s.prototype.setIgnoreEnter=function(t){"use strict";var u=t?[l.RETURN]:[];this._typingDetector.setIgnoreKeys(u);};s.prototype.resetState=function(){"use strict";this._notifyState(n.INACTIVE);this.remoteState=n.INACTIVE;this._typingDetector.reset();clearTimeout(this.notifyTimer);this.notifyTimer=null;};s.prototype.destroy=function(){"use strict";this.resetState();this._typingDetector.destroy();};s.prototype._stateChange=function(t,u){"use strict";if(u!=n.QUITTING){clearTimeout(this.notifyTimer);this.notifyTimer=q(r(this._notifyState,this,u),this.notifyDelay);}else this._notifyState(u,true);};s.prototype._notifyState=function(t,u){"use strict";if((!this.userID&&!this.threadID)||!k.isOnline()||t===this.remoteState||j.disconnected())return;this._sendRequest(t,this.userID,u);};s.prototype._sendRequest=function(t,u,v){"use strict";this.remoteState=t;var w={typ:t,to:u,source:this.source,thread:this.threadID};new g().setHandler(this._onTypResponse.bind(this,u)).setErrorHandler(p).setData(w).setURI('/ajax/messaging/typ.php').setAllowCrossPageTransition(true).setOption('asynchronous',!v).send();};s.prototype._onTypResponse=function(t,u){"use strict";var v=u.getPayload()||{};if(v.offline)h.set(t,i.OFFLINE,'typing_response');};o(s.prototype,{notifyDelay:1000});e.exports=s;},null);
__d("ChatMiniSidebarSearchSource",["requireWeak","AbstractSearchSource","AsyncRequest","ChatSortUsers","CurrentUser","MercuryParticipantTypes","SearchableEntry","SearchSourceCallbackManager","ShortProfiles","TokenizeUtil","copyProperties","emptyFunction","isValidUniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=null;g(['OrderedFriendsList'],function(x){return t=x;});for(var u in h)if(h.hasOwnProperty(u))w[u]=h[u];var v=h===null?null:h.prototype;w.prototype=Object.create(v);w.prototype.constructor=w;w.__superConstructor__=h;function w(x){this.$ChatMiniSidebarSearchSource0=new n({parseFn:p.parse,matchFn:p.isQueryMatch,indexFn:x.indexFn});this.$ChatMiniSidebarSearchSource1=[];this.$ChatMiniSidebarSearchSource2=x.queryRequests||[];this.$ChatMiniSidebarSearchSource3=false;}w.prototype.bootstrapImpl=function(x){o.fetchAll().then(function(){this.$ChatMiniSidebarSearchSource3=true;this.$ChatMiniSidebarSearchSource4();x();}.bind(this));};w.prototype.searchImpl=function(x,y,z){var aa=null,ba={},ca=z&&z.onQueryFinished,da=z&&z.onQueryStarted;da&&da(x);var ea=this.$ChatMiniSidebarSearchSource0.search(x,function(ha){if(!aa){aa=ha;aa.forEach(function(ia){return ba[ia.getUniqueID()]=true;});}else ha.forEach(function(ia){var ja=ia.getUniqueID();if(!ba[ja]){aa.push(ia);ba[ja]=true;}});y(aa,x);if(x.length===1&&this.$ChatMiniSidebarSearchSource3)ca&&ca(x);}.bind(this),z);if(!ea||!this.$ChatMiniSidebarSearchSource2||!this.$ChatMiniSidebarSearchSource2.length||x.length===0){ca&&ca(x);return;}if(x.length===1){if(this.$ChatMiniSidebarSearchSource3)ca&&ca(x);return;}var fa={value:x,existing_ids:aa&&aa.map(function(ha){return ha.getUniqueID();}).join(','),needs_friends:!this.$ChatMiniSidebarSearchSource3,limit:z&&z.threadLimit},ga=this.$ChatMiniSidebarSearchSource2.length;this.$ChatMiniSidebarSearchSource2.forEach(function(ha){this.$ChatMiniSidebarSearchSource5(fa,ha,function(ia){this.$ChatMiniSidebarSearchSource6(this.$ChatMiniSidebarSearchSource7(this.$ChatMiniSidebarSearchSource8(ia)),x);ga--;if(ga===0){this.$ChatMiniSidebarSearchSource0.setQueryStringAsExhausted(x);ca&&ca(x);}}.bind(this));}.bind(this),this);};w.prototype.getBootstrappedEntries=function(x){return this.bootstrap(function(){return x(this.$ChatMiniSidebarSearchSource1||[]);}.bind(this));};w.prototype.getAllEntriesMap=function(){return this.$ChatMiniSidebarSearchSource0.getAllEntries();};w.prototype.$ChatMiniSidebarSearchSource4=function(){var x=o.getCachedProfileIDs(),y=x.filter(function(aa){var ba=o.getNow(aa);return (aa==k.getID()||ba.type===l.FRIEND);});y.sort(j.sort);var z=y.map(this.$ChatMiniSidebarSearchSource9);this.$ChatMiniSidebarSearchSource0.addLocalEntries(z);if(z.length)this.$ChatMiniSidebarSearchSource1=this.$ChatMiniSidebarSearchSource1.concat(z);};w.prototype.$ChatMiniSidebarSearchSource7=function(x){return x.map(this.$ChatMiniSidebarSearchSourcea,this);};w.prototype.$ChatMiniSidebarSearchSourcea=function(x,y){if(x.mercury_thread){if(!t)return null;return t.normalizeThreadEntry(x,y);}var z=x.text,aa=x.uid;if(!z||!s(aa))return null;return new m({uniqueID:aa,title:z,order:t?t.getActiveRank(aa):0,subtitle:x.subtext,type:x.render_type||x.type,photo:x.photo,uri:x.path,auxiliaryData:{isMessengerUser:x.is_messenger_user}});};w.prototype.$ChatMiniSidebarSearchSource8=function(x){var y=x.getPayload();if(Array.isArray(y)){return y;}else if(y&&y.entries){return y.entries;}else return [];};w.prototype.$ChatMiniSidebarSearchSource9=function(x,y){var z=o.getNow(x),aa=x==k.getID()?l.FRIEND:z.type,ba=[z.additionalName,z.alternateName].concat(z.searchTokens||[]).join(' ');return new m({uniqueID:x,title:z.name,order:y,subtitle:z.additionalName,keywordString:ba,type:aa,photo:z.thumbSrc,uri:z.uri,auxiliaryData:{isMessengerUser:z.is_messenger_user}});};w.prototype.$ChatMiniSidebarSearchSource5=function(x,y,z,aa){new i(y.uri).setData(q({},x,y.data)).setMethod('GET').setReadOnly(true).setHandler(z).setErrorHandler(aa||r).setAllowCrossPageTransition(true).send();};w.prototype.$ChatMiniSidebarSearchSource6=function(x,y){if(x.length)this.$ChatMiniSidebarSearchSource0.addQueryEntries(x,y);};w.prototype.addLocalEntries=function(x){this.$ChatMiniSidebarSearchSource0.addLocalEntries(x);};w.prototype.refreshData=function(){o.fetchAll();g(['AvailableList'],function(x){return x.update();});};e.exports=w;},null);
__d("MercuryMessageError.react",["CurrentUser","ImmutableObject","MercuryErrorInfo","MercuryMessageActions","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=k,o=n.PropTypes,p=k.createClass({displayName:"MercuryMessageError",propTypes:{authorFBID:o.string,message:o.instanceOf(h).isRequired},getDefaultProps:function(){return {authorFBID:g.getID()};},render:function(){var q=this.props.message,r=q.error_data;return (k.createElement("div",k.__spread({},this.props,{className:m(this.props.className,this._getClassNameFromStatus(q)),tabIndex:i.isTransient(r)?0:null,onClick:i.isTransient(r)?this.messageResend:null}),k.createElement("div",{className:"_2fs1"}),k.createElement("span",{dangerouslySetInnerHTML:{__html:this._getTextFromStatus(q)}})));},messageResend:function(){j.getForFBID(this.props.authorFBID).resend(this.props.message);},_getClassNameFromStatus:function(q){if(i.hasErrorStatus(q)){return (("_2fs2")+(' '+"_2fs3")+(i.isTransient(q.error_data)?' '+"_2fs4":'')+(i.isPermanent(q.error_data)?' '+"_2fs5":''));}else return "_2fs6 _2fs2";},_getTextFromStatus:function(q){var r='',s=q.error_data;if(i.hasErrorStatus(q))r=i.getMessage(s);if(typeof r==='object'&&r.__html)r=r.__html;return r;}});e.exports=p;},null);
__d("MercuryAudioPlayer",["Event","Arbiter","DOM","Flash","UserAgent_DEPRECATED","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=200;function n(){if(k.webkit()&&!k.chrome())return false;var w=i.create('audio'),x=false;try{if(!!w.canPlayType)if(w.canPlayType('video/mp4;').replace(/^no$/,''))x=true;}finally{return x;}}function o(){return j.isAvailable();}var p=function(){this.interval=null;this.arbiterInstance=null;this.audio=i.create('audio');g.listen(this.audio,'playing',function(){this.informAttachment('playing',this.audio.currentTime);this.interval=setInterval(function(){this.informAttachment('playing',this.audio.currentTime);}.bind(this),m);}.bind(this));g.listen(this.audio,'ended',function(){clearInterval(this.interval);this.informAttachment('finished');}.bind(this));};l(p.prototype,{setAudio:function(w,x){this.audio.setAttribute('src',w);this.arbiterInstance=x;},informAttachment:function(w,x){if(this.arbiterInstance)this.arbiterInstance.inform(w,x);},play:function(){this.audio.play();this.informAttachment('played');},resume:function(){this.audio.play();this.informAttachment('played');},pause:function(){this.audio.pause();clearInterval(this.interval);this.informAttachment('paused');},getType:function(){return 'html5';}});var q=function(){this.src=null;this.arbiterInstance=null;var w=i.create('div');document.body.appendChild(w);this.swf=j.embed('/swf/SoundStreamPlayer.swf',w,null,{});this.interval=null;h.subscribe('soundstream/finished',function(){clearInterval(this.interval);this.informAttachment('finished');}.bind(this));};l(q.prototype,{setAudio:function(w,x){this.src=w;this.arbiterInstance=x;},informAttachment:function(w,x){if(this.arbiterInstance)this.arbiterInstance.inform(w,x);},play:function(){this.swf.playSound(this.src);this.interval=setInterval(function(){var w=this.swf.getCurrentTime();this.informAttachment('playing',w);}.bind(this),m);this.informAttachment('played');},resume:function(){this.swf.resume();this.informAttachment('played');},pause:function(){clearInterval(this.interval);this.swf.pause();this.informAttachment('paused');},getType:function(){return 'flash';}});function r(){if(n()){return new p();}else if(o())return new q();return false;}var s=null,t=null,u=0;function v(w,x){this.src=w;this.arbiterInstance=x;this.audio_id=++u;s!==null||(s=r());if(!s)return false;}l(v.prototype,{getType:function(){if(!s){return false;}else return s.getType();},play:function(w){if(w&&t==this.audio_id){s.resume();}else{this.pause();t=this.audio_id;s.setAudio(this.src,this.arbiterInstance);s.play();}},pause:function(){s.pause();}});e.exports=v;},null);
__d("MercuryAttachmentAudioClip.react",["Arbiter","ArbiterMixin","MercuryAudioPlayer","CurrentUser","JSLogger","LeftRight.react","MercuryShareAttachmentRenderLocations","React","SubscriptionsHandler","cx","fbt","joinClasses","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();var t=n,u=t.PropTypes,v='MercuryAttachmentAudioClip/play',w=k.create('mercury_audio_clip'),x=n.createClass({displayName:"AudioClip",mixins:[h],propTypes:{duration:u.number,location:u.oneOf(m.getValues()),rootClassName:u.string,showHelp:u.bool,src:u.string.isRequired,width:u.number},getInitialState:function(){this.logged=false;return {time:0,playing:false,started:false,duration:this.props.duration,audioPlayer:new i(this.props.src,this)};},componentDidMount:function(){this._subscriptionsHandler=new o();this._subscriptionsHandler.addSubscriptions(this.subscribe('playing',this.updateTime),this.subscribe('played',s(this.setState,this,{playing:true,started:true})),this.subscribe('paused',s(this.setState,this,{playing:false})),this.subscribe('finished',s(this.setState,this,{playing:false,started:false,time:this.props.duration})),g.subscribe(v,function(y,z){if(this.props.src!=z)this.setState({time:0});}.bind(this)));},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release();},updateTime:function(y,z){this.setState({time:z});},play:function(){if(this.state.playing){this.state.audioPlayer.pause();}else{this.state.audioPlayer.play(this.state.started);g.inform(v,this.props.src);if(!this.logged){this.logged=true;w.log('play',{uid:j.getID(),duration:this.props.duration});}}},_formatSeconds:function(y){if(y){y=Math.ceil(y);var z=y%60;if(z<10)z='0'+z;var aa=Math.floor(y/60);return aa+':'+z;}else return null;},_renderPlayer:function(y,z){return (n.createElement("a",{className:"_1miz _2e-1",href:"#",style:{width:y},onClick:this.play},n.createElement("span",{className:"_1mi- _2e-2"},n.createElement("i",{className:"_1mi_ _2e-3"})),n.createElement("span",{className:"_1mj0 _2e-4 _3oh-"},z),n.createElement("div",{className:"_1mj1 _2e-5"})));},render:function(){var y=this.state.time,z=this.state.playing,aa=this._formatSeconds(this.state.duration),ba=this.props.location===m.MESSENGER,ca=this.props.width||170;if(ba){var da=this.props.duration;if(da>10){ca=240;}else if(da>5){ca=200;}else if(da>2){ca=160;}else ca=120;}var ea=null,fa=Math.ceil((y*(ca+2))/this.state.duration);if(ba)fa=Math.ceil((y*(ca+24))/this.state.duration);if(this.state.audioPlayer&&this.state.audioPlayer.getType()){var ga=this._renderPlayer(ca,aa),ha=this._renderPlayer(ca,aa),ia=(("_1mj2")+(' '+"_2e-6")+(z&&(y!==0)?' '+"_1mj3":'')+(z&&(y===0)?' '+"_4g4x":''));ea=(n.createElement("div",{className:ia},ga,n.createElement("div",{className:"_1mj4 _2e-7",style:{width:fa}},ha)));}else ea=(n.createElement("div",{className:"_1mj2"},n.createElement("div",{className:"_1miz"},n.createElement(l,null,n.createElement("a",{className:"_1mj5",href:this.props.src},n.createElement("span",{className:"_3qi6"},n.createElement("i",{className:"_1mj6"})),n.createElement("span",{className:"_1mj7"},q._("Wiadomo\u015b\u0107 g\u0142osowa")),n.createElement("span",{className:"_1mj8"},aa)),n.createElement("a",{href:this.props.src,className:"_1mj9"},n.createElement("i",{className:"_1mja"}))))));return (n.createElement("div",{className:r((("_1mjb")+(ba?' '+"_454y":'')),this.props.rootClassName)},ea));}});e.exports=x;},null);
__d("MercuryAttachmentConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={SIDE_LENGTH:9};e.exports=g;},null);
__d("MercuryAttachmentFile.react",["Image.react","LeftRight.react","Link.react","MercuryAttachment","ReactComponentWithPureRenderMixin","React","ix","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q=l,r=q.PropTypes,s=l.createClass({displayName:"MercuryAttachmentFile",propTypes:{name:r.string.isRequired,open_url:r.string,rel:r.string,type:r.string.isRequired,url:r.string},mixins:[k],_renderFileLinks:function(){if(this.props.open_url)return (l.createElement("div",{className:"_59gs"},l.createElement(i,{target:"_blank",href:this.props.open_url},p._("otw\u00f3rz")),' ',"·",' ',l.createElement(i,{href:this.props.url},p._("pobierz"))));return l.createElement("div",null);},render:function(){var t=o(j.getAttachIconClass(this.props.type),"_59go _59gq");if(this.props.url)return (l.createElement(h,{className:t},l.createElement(i,{href:this.props.url},l.createElement(h,null,l.createElement(g,{src:m('/images/messaging/docs/generic.png')}),l.createElement("span",{className:"_59gp"},this.props.name))),this._renderFileLinks()));return (l.createElement(h,{className:t},l.createElement(g,{src:m('/images/messaging/docs/generic.png')}),l.createElement("span",{className:"_59gp"},this.props.name)));}});e.exports=s;},null);
__d("ChatImageArrowDirection",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g({BOTH:null,LEFT:null,RIGHT:null});e.exports=h;},null);
__d("ChatImageWithArrow.react",["BackgroundImage.react","ChatImageArrowDirection","Link.react","MercuryAttachmentConstants","React","XUISpinner.react","cx","getVendorPrefixedName","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=k,q=p.PropTypes,r=30,s=15,t=k.createClass({displayName:"ChatImageWithArrow",propTypes:{arrowDirection:q.oneOf(Object.keys(h)),onClick:q.func,height:q.number.isRequired,isLoading:q.bool,rootClassName:q.string,sideLength:q.number,source:q.string,width:q.number.isRequired},getDefaultProps:function(){return {sideLength:j.SIDE_LENGTH,isLoading:false};},render:function(){this._arrowWidth=Math.floor(this.props.sideLength/Math.sqrt(2));this._extendedPhotoWidth=Math.ceil(this._getWidth()+this._arrowWidth);if(this.props.isLoading)return this._renderUploadingBubble();var u=o((("_4yp6")+(this.props.arrowDirection!==h.BOTH?' '+"_2nlo":'')),this.props.rootClassName),v,w;switch(this.props.arrowDirection){case h.BOTH:v=[this._renderArrowWithBorder(h.LEFT),this._renderArrowWithBorder(h.RIGHT)];w=[this._renderArrowWithNoBorder(h.LEFT),this._renderArrowWithNoBorder(h.RIGHT)];break;case h.LEFT:case h.RIGHT:v=this._renderArrowWithBorder(this.props.arrowDirection);w=this._renderArrowWithNoBorder(this.props.arrowDirection);break;}return this._renderLink(k.createElement("div",{className:u},v,k.createElement("div",{className:"_52kr",style:{width:this._getWidth(),height:this._getHeight()}},k.createElement("div",{className:"_4yp9",style:{backgroundImage:'url('+this.props.source+')',width:this._extendedPhotoWidth,height:this._getHeight()}})),w));},_getWidth:function(){return Math.max(this.props.width,s);},_getHeight:function(){return Math.max(this.props.height,r);},_renderLink:function(u){if(this.props.onClick)return (k.createElement(i,{onClick:this.props.onClick},u));return u;},_calculateArrowTransform:function(u,v,w,x){if(v===h.LEFT){return 'translate('+w+'px, '+x+'px)'+'rotate(45deg)';}else return 'translate('+(u-w)+'px, '+x+'px)'+'rotate(45deg)';},_calculateArrowImageTransform:function(u,v,w,x){if(v===h.LEFT){return 'rotate(-45deg)'+'translate(-'+(this._arrowWidth+w)+'px,'+'-'+x+'px)';}else return 'rotate(-45deg)'+'translate(-'+(u-w)+'px, -'+x+'px)';},_renderUploadingBubble:function(){var u={width:this.props.sideLength,height:this.props.sideLength},v={width:this.props.sideLength,height:this.props.sideLength},w=n('transform');if(w){u[w]=this._calculateArrowTransform(this._getWidth(),this.props.arrowDirection,0,this.props.sideLength);v[w]=this._calculateArrowTransform(this._getWidth(),this.props.arrowDirection,0,Math.floor(this.props.sideLength-this._getHeight()));}return (k.createElement("div",{className:"_4yp6"},k.createElement("div",{className:"_4ypa",style:u}),k.createElement("div",{className:"_4ypb",style:{width:this._getWidth(),height:this._getHeight()}},k.createElement(l,{size:"small"})),k.createElement("div",{className:"_4ype",style:v})));},_renderArrowWithBorder:function(u){var v={width:this.props.sideLength,height:this.props.sideLength},w={},x=n('transform');if(x){v[x]=this._calculateArrowTransform(this._getWidth(),u,0,this.props.sideLength);w[x]=this._calculateArrowImageTransform(this._getWidth(),u,0,this.props.sideLength);return (k.createElement("div",{className:(("_4ypf")+(u===h.LEFT?' '+"_2nlp":'')+(u===h.RIGHT?' '+"_2nlq":'')),key:'border:'+u,style:v},k.createElement(g,{backgroundSize:"cover",className:"_4ypg",height:this._getHeight(),src:this.props.source,style:w,width:this._extendedPhotoWidth})));}},_renderArrowWithNoBorder:function(u){var v={width:this.props.sideLength,height:this.props.sideLength},w={},x=1,y=n('transform');if(y){v[y]=this._calculateArrowTransform(this._getWidth(),u,x,this.props.sideLength-this._getHeight());w[y]=this._calculateArrowImageTransform(this._getWidth(),u,x,this.props.sideLength);}return (k.createElement("div",{className:(("_4yph")+(u===h.LEFT?' '+"_2nlp":'')+(u===h.RIGHT?' '+"_2nlq":'')),key:'noBorder:'+u,style:v},k.createElement(g,{backgroundSize:"cover",className:"_4ypg",height:this._getHeight(),src:this.props.source,style:w,width:this._extendedPhotoWidth})));}});e.exports=t;},null);
__d("MercuryAttachmentPhoto.react",["Bootloader","ChatImageArrowDirection","ChatImageWithArrow.react","MercuryMessageInfo","React"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=k,m=l.PropTypes,n=k.createClass({displayName:"MercuryAttachmentPhoto",propTypes:{height:m.number,image:m.object.isRequired,message:m.object.isRequired,width:m.number},_handleClickPicture:function(o){var p=this.props.image;g.loadModules(["MessagesViewer"],function(q){q.bootstrapWithConfig({src:p.preview_url,endpoint:p.url,fbid:p.metadata.fbid,dimensions:p.metadata.dimensions,disablePaging:true},null);});},render:function(){var o=j.isInbound(this.props.message);return (k.createElement(i,{arrowDirection:o?h.LEFT:h.RIGHT,source:this.props.image.preview_url,height:this.props.height,width:this.props.width,onClick:this._handleClickPicture,isLoading:!!this.props.image.preview_uploading}));}});e.exports=n;},null);
__d("ChatGridImage.react",["Link.react","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h,k=j.PropTypes,l=h.createClass({displayName:"ChatGridImage",propTypes:{isLoading:k.bool,onClick:k.func,size:k.number.isRequired,source:k.string},render:function(){if(this.props.isLoading)return (h.createElement("div",{className:"_4ypb",style:{width:this.props.size,height:this.props.size}}));return (h.createElement(g,{onClick:this.props.onClick},h.createElement("div",{className:"_332l",style:{backgroundImage:'url('+this.props.source+')',width:this.props.size,height:this.props.size}})));}});e.exports=l;},null);
__d("MercuryAttachmentPhotoGrid.react",["Bootloader","ChatGridImage.react","ChatImageArrowDirection","ChatImageWithArrow.react","Grid.react","MercuryAttachmentType","MercuryMessageInfo","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=k.GridItem,q=n,r=q.PropTypes,s=n.createClass({displayName:"MercuryAttachmentPhotoGrid",propTypes:{images:r.arrayOf(r.object).isRequired,size:r.number.isRequired,message:r.object.isRequired},_generateClickHandler:function(t){var u=this.props.images.some(function(v){return v.attach_type===l.ANIMATED_IMAGE;});return (function(v){g.loadModules(["MessagesViewer"],function(w){w.bootstrapWithConfig({src:t.preview_url,endpoint:t.url,fbid:t.metadata.fbid,dimensions:t.metadata.dimensions,disablePaging:u},null);});});},render:function(){var t=this.props.images,u=t.length,v=(u==2||u==4)?2:3,w=Math.floor(this.props.size/v),x=m.isInbound(this.props.message),y=x?0:v-1,z=[];for(var aa=0;aa<t.length;aa++)if(aa===y){z.push(n.createElement(p,{key:aa},n.createElement(j,{arrowDirection:x?i.LEFT:i.RIGHT,source:t[aa].preview_url,height:w,width:w,isLoading:!!t[aa].preview_uploading,onClick:this._generateClickHandler(t[aa])})));}else z.push(n.createElement(p,{key:aa},n.createElement(h,{isLoading:!!t[aa].preview_uploading,onClick:this._generateClickHandler(t[aa]),size:w,source:t[aa].preview_url})));return (n.createElement(k,{cols:v,className:"_5b2w",spacing:"_5b2x",alignh:"right"},z));}});e.exports=s;},null);
__d("MessagingRecipientTypeaheadItem.react",["BackgroundImage.react","ChatTypeaheadConstants","ImageBlock.react","LeftRight.react","React","SplitImage.react","MercuryThreadMetadataRawRenderer","TypeaheadViewItem","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=k,r=q.PropTypes,s=k.createClass({displayName:"MessagingRecipientTypeaheadItem",propTypes:Object.assign({},n.propTypes,{imageSize:r.number.isRequired}),mixins:[n.Mixin],isThreadRecipient:function(){return this.props.entry.getType()===h.THREAD_TYPE;},_getImage:function(){var t=this.props.entry;if(t.getType()===h.THREAD_TYPE&&!t.getPhoto()){var u=t.getAuxiliaryData();return (k.createElement(l,{size:this.props.imageSize,srcs:u.participantsToRender.map(function(v){return v.image_src;})}));}if(t.getPhoto())return (k.createElement(g,{width:this.props.imageSize,height:this.props.imageSize,backgroundSize:"cover",src:t.getPhoto()}));return k.createElement("span",null);},_getThreadParticipantList:function(){if(!this.isThreadRecipient())return null;var t=this.props.entry;return m.renderRawParticipantList(t.getUniqueID(),t.getAuxiliaryData().participantsToRender,t.getAuxiliaryData().thread.participants.length-1,{names_renderer:m.renderShortNames});},_getTitle:function(){var t=this.props.entry;if(this.isThreadRecipient()&&!t.getTitle())return this._getThreadParticipantList();return t.getTitle();},_getSubtitle:function(){var t=this.props.entry;if(this.isThreadRecipient()&&!t.getTitle())return this._getThreadParticipantList();return t.getSubtitle()?t.getSubtitle().split(' \u00b7 ')[0]:null;},render:function(){var t=this._getSubtitle(),u=p((("_599m")+(' '+"_55xn")+(!t?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":'')),this.props.className);return (k.createElement("li",{"aria-selected":this.props.selected,className:u,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role},k.createElement(i,{spacing:"medium"},this._getImage(),k.createElement(j,null,k.createElement("div",null,k.createElement("div",{className:"_55xt _599p"},this._getTitle()),k.createElement("div",{className:"_55z3 _599q"},t)),this.props.children))));}});e.exports=s;},null);
__d("MessagingRecipientSelectedList.react",["Image.react","LeftRight.react","Map","MessagingRecipientTypeaheadItem.react","React","cx","fbt","xuiglyph"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=k,p=o.PropTypes,q=k.createClass({displayName:"MessagingRecipientSelectedList",propTypes:{entries:p.instanceOf(i),onSelect:p.func.isRequired},_renderSelectedEntry:function(r){var s=n({name:'cross',shade:'dark',size:'small'});return (k.createElement(j,{key:r.getUniqueID(),entry:r,imageSize:24,onSelect:this.props.onSelect},k.createElement(g,{className:"_1jm4",src:s})));},render:function(){var r=(m._("Wy\u015blij do:")),s=[];this.props.entries.forEach(function(t){return s.push(this._renderSelectedEntry(t));}.bind(this));return (k.createElement("div",{className:"_1jm5"},k.createElement(h,{className:"_1jm6 _2ph-"},k.createElement("span",null,r),k.createElement("span",null,this.props.entries.size)),k.createElement("ul",null,s)));}});e.exports=q;},null);
__d("MessagingRecipientTypeaheadView.react",["CenteredContainer.react","Link.react","Map","MessagingRecipientTypeaheadItem.react","React","TypeaheadViewPropTypes","XUISpinner.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=k,q=p.PropTypes,r=32,s=k.createClass({displayName:"MessagingRecipientTypeaheadView",propTypes:Object.assign({},l,{selectedEntries:q.instanceOf(i),loading:q.bool}),getDefaultProps:function(){return {role:'listbox'};},_renderItem:function(t){var u=t===this.props.highlightedEntry,v=this.props.selectedEntries.has(t.getUniqueID());return (k.createElement(j,{key:t.getUniqueID(),entry:t,highlighted:u,imageSize:r,selected:v,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight},k.createElement(h,{"aria-checked":v,className:(("_2i83")+(v?' '+"_2i85":'')+(!v?' '+"_2i86":'')),href:"#",role:"checkbox",tabIndex:"0"})));},render:function(){if(this.props.entries.length===0&&!this.props.loading)return (k.createElement(g,{className:"_2pi1"},o._("Brak wynik\u00f3w")));return (k.createElement("ul",{id:this.props.ariaOwneeID,className:"_51do",role:this.props.role},this.props.entries.map(this._renderItem),k.createElement("div",{className:"_51dq"},this.props.loading?k.createElement(m,null):null)));}});e.exports=s;},null);
__d("XMessagingForwardAttachmentController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/mercury\/attachments\/forward\/",{});},null);
__d("MessagingForwardAttachmentDialog.react",["AsyncRequest","ChatMiniSidebarSearchSource","Image.react","LayerFadeOnHide","Layout.react","Map","MessagingRecipientSelectedList.react","MessagingRecipientTypeaheadView.react","OrderedFriendsList","React","SearchableTextInput.react","ScrollableArea.react","XMessagingForwardAttachmentController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISpinner.react","cx","fbt","xuiglyph"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){b.__markCompiled&&b.__markCompiled();var da=k.Column,ea=k.FillColumn,fa=p,ga=fa.PropTypes,ha=p.createClass({displayName:"MessagingForwardAttachmentDialog",propTypes:{attachmentID:ga.string.isRequired,onClose:ga.func,shown:ga.bool.isRequired,title:ga.string.isRequired},getInitialState:function(){return {bootstrappedEntries:[],entries:[],loading:true,selectedEntries:new l(),sendError:null,sending:false,startingThreadingID:Date.now(),query:''};},componentDidMount:function(){this._dataSource=new h({queryRequests:[{uri:'/ajax/mercury/composer_query.php'}]});o.getSearchableEntries(20,function(ia){this.setState({bootstrappedEntries:ia,loading:false});}.bind(this));},_onSelectEntry:function(ia){var ja=ia.getUniqueID(),ka=new l(this.state.selectedEntries);if(ka.has(ja)){ka["delete"](ja);}else ka.set(ja,ia);this.setState({selectedEntries:ka});},_onSearchChange:function(ia){var ja=ia.target.value;this.setState({loading:true,query:ja});},_onSearchEntriesFound:function(ia){this.setState({entries:ia});},_onSearchFinished:function(ia){ia===this.state.query&&this.setState({loading:false});},_onSubmit:function(){var ia={},ja=this.state.startingThreadingID;this.state.selectedEntries.forEach(function(la){ia[ja++]=la.getUniqueID();});var ka=s.getURIBuilder().getURI();new g(ka).setMethod('POST').setHandler(this._onSubmitResponse).setData({attachment_id:this.props.attachmentID,recipient_map:ia}).send();this.setState({sending:true,sendError:null});},_onSubmitResponse:function(ia){if(ia.payload.success){this.props.onClose&&this.props.onClose();this.setState({bootstrappedEntries:[],selectedEntries:new l(),sending:false,startingThreadID:Date.now(),query:''});return;}this.setState({sending:false,sendError:ia.payload.error});},_onToggle:function(ia){if(!ia)this.props.onClose();},render:function(){var ia=(ba._("Wy\u015blij")),ja=null;if(this.state.sending){ja=(p.createElement("div",null,p.createElement(z,null),p.createElement("span",{className:"_5s0d _3-99"},ba._("Wysy\u0142anie"))));}else if(this.state.sendError){var ka=ca({name:'error-solid',shade:'dark',size:'medium'});ja=(p.createElement("div",{className:"_5s0d"},p.createElement(i,{src:ka}),p.createElement("span",{className:"_3-99"},this.state.sendError)));}var la=(ba._("Szukaj u\u017cytkownik\u00f3w i grup"));return (p.createElement(t,{shown:this.props.shown,behaviors:{LayerFadeOnHide:j},onToggle:this._onToggle,width:560},p.createElement(y,null,this.props.title),p.createElement(u,{useCustomPadding:true},p.createElement(k,null,p.createElement(da,{className:"_5s0e"},p.createElement("div",{className:"_2ph_"},p.createElement(q,{className:"_5s0f autofocus",onChange:this._onSearchChange,onEntriesFound:this._onSearchEntriesFound,placeholder:la,queryString:this.state.query,searchSource:this._dataSource,searchSourceOptions:{onQueryFinished:this._onSearchFinished}})),p.createElement(r,{className:"_5s0g",height:400,width:360},p.createElement(n,{entries:this.state.query?this.state.entries:this.state.bootstrappedEntries,loading:this.state.loading,selectedEntries:this.state.selectedEntries,onSelect:this._onSelectEntry}))),p.createElement(ea,{className:"_5s0h"},p.createElement(r,{height:457,shadow:false},p.createElement(m,{entries:this.state.selectedEntries,onSelect:this._onSelectEntry}))))),p.createElement(x,{leftContent:ja},p.createElement(w,{onClick:this.props.onClose}),p.createElement(v,{use:"confirm",disabled:!this.state.selectedEntries.size||this.state.sending,label:ia,onClick:this._onSubmit}))));}});e.exports=ha;},null);
__d("Spotlight.react",["LayerHideOnBlur","LayerHideOnEscape","ReactLayer","Spotlight"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=i.createClass({getDefaultEnabledBehaviors:function(){return {hideOnBlur:g,hideOnEscape:h};},createLayer:function(l){var m=this.enumerateBehaviors(this.props.behaviors),n={addedBehaviors:m,rootClassName:this.props.rootClassName},o=new j(n,l);o.conditionShow(this.props.shown);if(this.props.onBeforeHide)o.subscribe('beforehide',this.props.onBeforeHide);if(this.props.onHide)o.subscribe('hide',this.props.onHide);return o;},receiveProps:function(l){this.layer.conditionShow(l.shown);}});e.exports=k;},null);
__d("SpotlightViewer",["React","ReactLayeredComponentMixin","Spotlight.react","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g.createClass({displayName:"SpotlightViewer",mixins:[h],renderLayers:function(){if(!this.props.open)return null;var l="_n3";if(this.props.className)l+=' '+this.props.className;return {photoLayer:g.createElement(i,{onBeforeHide:this.props.onBeforeHide,onHide:this.props.onHide,rootClassName:this.props.rootClassName,shown:this.props.open},g.createElement("div",{className:l,onClick:this.props.onClick},this.props.children))};},render:function(){return (g.createElement("div",null));}});e.exports=k;},null);
__d("SpotlightViewerAutoResize",["Event","SubscriptionsHandler","invariant"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k){"use strict";this.$SpotlightViewerAutoResize0=k;i(typeof this.$SpotlightViewerAutoResize0.onResize==='function');}j.prototype.enable=function(){"use strict";this.$SpotlightViewerAutoResize1=new h();this.$SpotlightViewerAutoResize1.addSubscriptions(g.listen(window,'resize',this.$SpotlightViewerAutoResize0.onResize));};j.prototype.disable=function(){"use strict";this.$SpotlightViewerAutoResize1.release();delete this.$SpotlightViewerAutoResize1;};e.exports=j;},null);
__d("SpotlightViewerBehaviorsMixin",["BehaviorsMixin","copyProperties"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={componentWillMount:function(){this.behaviors&&this.enableBehaviors(this.behaviors);},componentWillUnmount:function(){this.destroyBehaviors();}};h(i,g);e.exports=i;},null);
__d("SpotlightViewerBottomBar",["LeftRight.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h.createClass({displayName:"SpotlightViewerBottomBar",render:function(){var l=Array.isArray(this.props.children)?this.props.children:[this.props.children],m="_4_8n _51an";if(this.props.className)m=j(m,this.props.className);if(l.length===1)return (h.createElement("div",{className:m},l[0]));m=j(m,"_50-m");return (h.createElement(g,{className:m},l[0],l[1]));}});e.exports=k;},null);
__d("SpotlightViewerBottomBarGroup",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"SpotlightViewerBottomBarGroup",render:function(){var j=this.props.itemmargin||'right',k=((j=='left'?"marginLeft":'')+(j=='right'?' '+"marginRight":'')+(' '+"_4_8i"));return (g.createElement("div",{className:k},this.props.children));}});e.exports=i;},null);
__d("SpotlightViewerBottomBarLink",["Link.react","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h.createClass({displayName:"SpotlightViewerBottomBarLink",render:function(){return (h.createElement(g,h.__spread({},this.props,{className:"_4_8j _4_8k"}),this.props.children));}});e.exports=j;},null);
__d("SpotlightViewerPagers",["LeftRight.react","Link.react","React","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=i.createClass({displayName:"SpotlightViewerPagers",render:function(){return (i.createElement(g,null,i.createElement(h,{className:"_4-oa _4-ob _50-m"}),i.createElement(h,{className:"_4-oa _4-oc _50-m"})));}});e.exports=k;},null);
__d("SpotlightViewerPageWithKeys",["KeyEventController","SubscriptionsHandler"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this.$SpotlightViewerPageWithKeys0=j;}i.prototype.enable=function(){"use strict";this.$SpotlightViewerPageWithKeys1=new h();this.$SpotlightViewerPageWithKeys1.addSubscriptions(g.registerKey('LEFT',function(){this.$SpotlightViewerPageWithKeys0.viewState.backward();return false;}.bind(this)),g.registerKey('RIGHT',function(){this.$SpotlightViewerPageWithKeys0.viewState.forward();return false;}.bind(this)));};i.prototype.disable=function(){"use strict";this.$SpotlightViewerPageWithKeys1.release();delete this.$SpotlightViewerPageWithKeys1;};e.exports=i;},null);
__d("SpotlightViewerThumbnailMixin",["PhotoStore","Vector"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={_getInitialPhotoData:function(){var j=g.getIndexForID(this.props.setid,this.props.photoid),k=g.getByIndexImmediate(this.props.setid,j);return k?k:this._getThumbnailPhotoData();},_getThumbnailPhotoData:function(){if(!this.props.dimensions||!this.props.thumbsrc)return null;var j={id:this.props.photoid};for(var k=0;k<this.props.dimensions.length;++k){var l=h.deserialize(this.props.dimensions[k]);j['image'+k]={width:l.x,height:l.y,uri:this.props.thumbsrc};}return j;}};e.exports=i;},null);
__d("XMessagingPhotoDownloadController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/mercury\/attachments\/photo\/",{photo_id:{type:"String",required:true}});},null);
__d("SpotlightMessagesViewer",["ArbiterMixin","MercuryConfig","MessagingForwardAttachmentDialog.react","PageTransitions","React","ReactLayeredComponentMixin","SpotlightViewer","SpotlightViewerAutoResize","SpotlightViewerBehaviorsMixin","SpotlightViewerBottomBar","SpotlightViewerBottomBarGroup","SpotlightViewerBottomBarLink","SpotlightViewerClose","SpotlightViewerCoreMixin","SpotlightViewerDimensionMixin","SpotlightViewerPagers","SpotlightViewerPageWithKeys","SpotlightViewerThumbnailMixin","SpotlightViewport","SubscriptionsHandler","XMessagingPhotoDownloadController","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){b.__markCompiled&&b.__markCompiled();var ca=k.createClass({displayName:"SpotlightMessagesViewer",mixins:[g,l,o,t,x,u],behaviors:[w,n],componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();this._subscriptions=null;},getViewerID:function(){return this.props.setid;},getInitialState:function(){this._subscriptions=new z();return {photoData:this._getInitialPhotoData(),open:true,showForward:false};},_enableSubscriptions:function(){this.props.useloadingindicator&&this._subscriptions.addSubscriptions(this.viewState.subscribe('photo_fetch',function(){return this.setState({photoData:null});}.bind(this)));},_showForwardDialog:function(){this.setState({showForward:true});},_hideForwardDialog:function(){this.setState({showForward:false});},renderLayers:function(){if(this.props.disableForward)return {};var da=(ba._("Prze\u015blij w oddzielnych wiadomo\u015bciach"));return {forwardDialog:(k.createElement(i,{attachmentID:String(this.state.photoData.id),onClose:this._hideForwardDialog,shown:this.state.showForward,title:da}))};},render:function(){var da=this.getMedia(),ea=this.props.snapToPhoto?this.getImageDimensions():this.getStageDimensions(),fa=this.props.useloadingindicator&&!this.state.photoData;j.registerCompletionCallback(function(){if(this.state.open)this.close();return true;}.bind(this));return (k.createElement(m,{rootClassName:this.props.rootClassName,open:this.state.open,onHide:this.close},k.createElement(y,{onClick:this._onClickViewport,stageDimensions:ea,media:da,showLoadingIndicator:fa},k.createElement(s,{onClick:this.close}),this.props.disablepaging?null:k.createElement(v,null),this._renderBottomBar())));},_renderBottomBar:function(){var da;if(h.ForwardingEnabled&&!this.props.disableForward)da=(k.createElement(r,{onClick:this._showForwardDialog},ba._("Prze\u015blij")));var ea=aa.getURIBuilder().setString('photo_id',String(this.state.photoData.id)).getURI();return (k.createElement(p,null,k.createElement(q,null),k.createElement(q,null,da,k.createElement(r,{rel:"async",ajaxify:ea},ba._("Pobierz")))));}});e.exports=ca;},null);
__d("MessagesViewer",["AsyncRequest","DOM","MessagesViewerSetID","PhotoStore","React","SpotlightMessagesViewer","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n={bootstrapWithElem:function(o){n.bootstrapWithConfig({fbid:o.getAttribute('data-fbid'),dimensions:o.getAttribute('data-dimensions'),src:o.getAttribute('href'),endpoint:o.getAttribute('data-endpoint'),disablePaging:o.getAttribute('data-disablepaging')},o);},bootstrapWithConfig:function(o,p){var q=o.setID;if(!q)q=i.MESSAGES;var r=k.createElement(l,{dimensions:[o.dimensions],disablepaging:o.disablePaging,disableForward:o.disableForward,open:true,photoid:o.fbid,reverse:false,rootClassName:o.rootClassName,setid:q,snapToPhoto:o.snapToPhoto,thumbsrc:o.src});n.render(r);if(!j.hasBeenCreated(q)&&o.endpoint){var s=new g(o.endpoint);if(p)s.setRelativeTo(p);s.send();}},render:function(o){var p=m('messages_viewer');if(!p){p=h.create('div',{id:'messages_viewer'});document.body.appendChild(p);}o=k.render(o,p);o.subscribeOnce('close',function(){k.unmountComponentAtNode(p);});}};e.exports=n;},null);
__d("XMessagingVideoAttachmentController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/mercury\/attachments\/video\/",{video_id:{type:"String",required:true},video_container_id:{type:"String",required:true},width:{type:"Int",required:true},height:{type:"Int",required:true}});},null);
__d("MessagingVideoViewer.react",["ActorURI","ArbiterMixin","AsyncRequest","MercuryConfig","MessagingForwardAttachmentDialog.react","React","ReactLayeredComponentMixin","SpotlightViewer","SpotlightViewerBottomBar","SpotlightViewerBottomBarGroup","SpotlightViewerBottomBarLink","SpotlightViewerClose","SpotlightViewport","PageTransitions","PhotoViewerDimensions","XMessagingVideoAttachmentController","Vector","cx","fbt","guid"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){b.__markCompiled&&b.__markCompiled();var aa=l,ba=aa.PropTypes,ca=200,da=l.createClass({displayName:"MessagingVideoViewer",propTypes:{disableForward:ba.bool,pageID:ba.number,rootClassName:ba.string,videoSize:ba.instanceOf(w).isRequired,videoID:ba.string.isRequired,videoURI:ba.string.isRequired},mixins:[h,m],getInitialState:function(){var ea=new u({verticalPadding:ca});return {dimensions:ea.getStageDimensions(this.props.videoSize),loading:true,open:true,showForward:false};},componentWillMount:function(){this._domID=z();},componentDidMount:function(){this._loadVideoPlayer();t.registerCompletionCallback(function(){this.close();return true;}.bind(this));},_loadVideoPlayer:function(){var ea=v.getURIBuilder().setString('video_id',this.props.videoID).setString('video_container_id',this._domID).setInt('width',this.state.dimensions.x).setInt('height',this.state.dimensions.y).getURI();if(this.props.pageID)ea=g.create(ea,this.props.pageID);this.request=new i().setMethod('GET').setURI(ea).setReadOnly(true).setHandler(function(fa){return this.setState({loading:false});}.bind(this)).send();},close:function(){if(!this.state.open)return;this.setState({open:false},function(){this.inform('close');});},_showForwardDialog:function(){this.setState({showForward:true});},_hideForwardDialog:function(){this.setState({showForward:false});},renderLayers:function(){var ea=(y._("Prze\u015blij w oddzielnych wiadomo\u015bciach"));return {forwardDialog:(l.createElement(k,{attachmentID:this.props.videoID,onClose:this._hideForwardDialog,shown:this.state.showForward,title:ea}))};},render:function(){var ea=l.createElement("div",{className:"rfloat",id:this._domID}),fa=j.ForwardingEnabled&&!this.props.disableForward?l.createElement(q,{onClick:this._showForwardDialog},y._("Prze\u015blij")):null;return (l.createElement(n,{onHide:this.close,open:this.state.open,rootClassName:this.props.rootClassName},l.createElement(s,{className:"_39hc",media:ea,showLoadingIndicator:this.state.loading,stageDimensions:this.state.dimensions},l.createElement(r,{onClick:this.close}),l.createElement(o,{className:"stat_elem"},l.createElement(p,null),l.createElement(p,null,fa,l.createElement(q,{href:this.props.videoURI},y._("Pobierz")))))));}});e.exports=da;},null);
__d("MercuryAttachmentVideo.react",["ChatImageArrowDirection","ChatImageWithArrow.react","CenteredContainer.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Image.react","MessagesViewer","MessagingVideoViewer.react","React","Vector","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();var t=p,u=t.PropTypes,v=p.createClass({displayName:"MercuryAttachmentVideo",propTypes:{duration:u.number.isRequired,isChat:u.bool,isInbound:u.bool,name:u.string.isRequired,pageID:u.number,thumbSize:u.shape({height:u.number,width:u.number}).isRequired,thumbnail:u.string.isRequired,videoSize:u.shape({height:u.number,width:u.number}).isRequired,videoID:u.string.isRequired,videoURI:u.string.isRequired},_formatDuration:function(){var w=this.props.duration,x=Math.floor(w/60),y=w%60;if(y<10)return x+':0'+y;return x+':'+y;},openViewer:function(){var w=new q(this.props.videoSize.width,this.props.videoSize.height);n.render(p.createElement(o,{pageID:this.props.pageID,videoID:this.props.videoID,videoSize:w,videoURI:this.props.videoURI}));},_renderImage:function(){if(this.props.isChat){return (p.createElement(h,{arrowDirection:this.props.isInbound?g.LEFT:g.RIGHT,height:this.props.thumbSize.height,source:this.props.thumbnail,width:this.props.thumbSize.width}));}else return (p.createElement(m,{height:this.props.thumbSize.height,width:this.props.thumbSize.width,src:this.props.thumbnail}));},_getStyle:function(){if(this.props.isChat)return {};return this.props.thumbSize;},render:function(){var w=(("_zow")+(' '+"_59go")+(this.props.isChat?' '+"_3ds5":''));return (p.createElement(k,{className:w,onClick:this.openViewer,style:this._getStyle()},p.createElement(j,null,this._renderImage()),p.createElement(l,null,p.createElement("div",{className:((!this.props.isChat?"_zox":''))},p.createElement("span",{className:"_zoz"},this._formatDuration()))),p.createElement(l,null,p.createElement(i,{vertical:true},p.createElement(m,{src:s('/images/chat/chat_play_icon.png')})))));}});e.exports=v;},null);
__d("MercuryFileUploader",["ArbiterMixin","CSS","Dialog","DOM","Event","FileForm","FileFormResetOnSubmit","FileInput","FormSubmitOnChange","MercuryAttachment","MercuryAttachmentTemplates","MercuryConstants","PhotosUploadID","SubscriptionsHandler","csx","fbt","getObjectValues","mixin","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();var z=x(g);for(var aa in z)if(z.hasOwnProperty(aa))ca[aa]=z[aa];var ba=z===null?null:z.prototype;ca.prototype=Object.create(ba);ca.prototype.constructor=ca;ca.__superConstructor__=z;function ca(ea,fa,ga,ha){"use strict";this.$MercuryFileUploader0=ea;this.$MercuryFileUploader1={};this.$MercuryFileUploader2={};this.$MercuryFileUploader3={};this.$MercuryFileUploader4={};this.$MercuryFileUploader5={};this.$MercuryFileUploader6={};this.$MercuryFileUploader7={};this.$MercuryFileUploader8={};this.$MercuryFileUploader9={};this.updateElements(fa,ga,ha);}ca.prototype.updateElements=function(ea,fa,ga){"use strict";this.$MercuryFileUploadera&&this.$MercuryFileUploadera.release();this.$MercuryFileUploadera=new t();this.$MercuryFileUploaderb&&this.$MercuryFileUploaderb.destroy();this.$MercuryFileUploaderb=new l(ea,[o,m]);this.$MercuryFileUploaderb.setAllowCrossOrigin(true);this.$MercuryFileUploaderb.setUploadInParallel(true);var ha=j.find(ea,"._4q60"),ia=j.find(ha,"._4q61");new n(ha,ia,fa);this.$MercuryFileUploadera.addSubscriptions(this.$MercuryFileUploaderb.subscribe('submit',function(){var ja={count:0,file_sizes:[]};if(fa.files){for(var ka=0;ka<fa.files.length;ka++)if(fa.files[ka].size>r.AttachmentMaxSize){this.showAttachmentSizeErrorDialog();return false;}var la={};for(var ma=0;ma<fa.files.length;ma++){var na=this.$MercuryFileUploaderc();this.$MercuryFileUploaderd(na,fa.files[ma].name);ja.count++;ja.file_sizes.push(fa.files[ma].size);la[na]=fa.files[ma];}this.$MercuryFileUploaderb.setFiles(la);}else{ga.value=this.$MercuryFileUploaderc();this.$MercuryFileUploaderd(ga.value,fa.value);ja.count=1;}this.inform('submit',ja);}.bind(this)),this.$MercuryFileUploaderb.subscribe('success',this.$MercuryFileUploadere.bind(this)),this.$MercuryFileUploaderb.subscribe('failure',this.$MercuryFileUploaderf.bind(this)),k.listen(ia,'click',y(this.inform,this,'open')));};ca.prototype.showAttachmentSizeErrorDialog=function(){"use strict";this.$MercuryFileUploaderb.abort();this.$MercuryFileUploaderb.clear();new i().setTitle(v._("Wybrany plik jest za du\u017cy")).setBody(v._("Wybrany plik jest za du\u017cy. Maksymalny rozmiar to 25 MB.")).setButtons(i.OK).setSemiModal(true).show();};ca.prototype.addDroppedFiles=function(ea){"use strict";if(!this.$MercuryFileUploaderb||!this.$MercuryFileUploaderb.canUseXHR())return;var fa={},ga={count:0,file_sizes:[]};for(var ha=0;ha<ea.length;ha++){var ia=ea[ha];if(ia.size>r.AttachmentMaxSize){this.showAttachmentSizeErrorDialog();return false;}var ja=this.$MercuryFileUploaderc();this.$MercuryFileUploaderd(ja,ia.name);fa[ja]=ia;ga.file_sizes.push(ia.size);ga.count++;}this.$MercuryFileUploaderb.setFiles(fa);this.$MercuryFileUploaderb.forceSendViaXHR();this.inform('submit',ga);};ca.prototype.isUploading=function(){"use strict";return !!Object.keys(this.$MercuryFileUploader7).length;};ca.prototype.addCachedAttachments=function(ea){"use strict";ea.forEach(function(fa){var ga=this.$MercuryFileUploaderc();this.$MercuryFileUploaderd(ga,fa.filename);this.$MercuryFileUploaderg(ga,fa);}.bind(this));};ca.prototype.addCachedImageFiles=function(ea){"use strict";var fa=v._("Zdj\u0119cie");ea.forEach(function(ga){var ha=this.$MercuryFileUploaderc();this.$MercuryFileUploaderd(ha,fa);this.$MercuryFileUploaderg(ha,{filename:ga,image_id:ga,filetype:'image/jpeg'});}.bind(this));};ca.prototype.getAttachments=function(){"use strict";return w(this.$MercuryFileUploader1);};ca.prototype.getImageFiles=function(){"use strict";var ea=Object.keys(this.$MercuryFileUploader2).sort(),fa=[];ea.forEach(function(ga){return fa.push(this.$MercuryFileUploader2[ga]);}.bind(this));return fa;};ca.prototype.getAnimatedImageFiles=function(){"use strict";return w(this.$MercuryFileUploader3);};ca.prototype.getVideoFiles=function(){"use strict";return w(this.$MercuryFileUploader4);};ca.prototype.getAudioFiles=function(){"use strict";return w(this.$MercuryFileUploader5);};ca.prototype.getFiles=function(){"use strict";return w(this.$MercuryFileUploader6);};ca.prototype.removeAttachments=function(){"use strict";if(this.$MercuryFileUploader0)j.empty(this.$MercuryFileUploader0);this.$MercuryFileUploader1={};this.$MercuryFileUploader2={};this.$MercuryFileUploader3={};this.$MercuryFileUploader4={};this.$MercuryFileUploader5={};this.$MercuryFileUploader6={};this.$MercuryFileUploader8={};this.$MercuryFileUploader7={};this.$MercuryFileUploader9={};if(this.$MercuryFileUploader0)h.hide(this.$MercuryFileUploader0);this.inform('dom-updated');};ca.prototype.destroy=function(){"use strict";this.$MercuryFileUploadera&&this.$MercuryFileUploadera.release();this.$MercuryFileUploaderb&&this.$MercuryFileUploaderb.destroy();this.removeAttachments();};ca.prototype.$MercuryFileUploaderd=function(ea,fa){"use strict";var ga=q[':fb:mercury:upload-file-row'].build();this.$MercuryFileUploader8[ea]=ga;this.$MercuryFileUploader7[ea]=true;this.$MercuryFileUploader9[ea]=Date.now();j.appendContent(ga.getNode('iconText'),da(fa));k.listen(ga.getNode('closeFileUpload'),'click',this.$MercuryFileUploaderh.bind(this,ea));if(this.$MercuryFileUploader0){j.appendContent(this.$MercuryFileUploader0,ga.getRoot());h.show(this.$MercuryFileUploader0);}this.inform('dom-updated');};ca.prototype.$MercuryFileUploaderh=function(ea,event){"use strict";if(this.$MercuryFileUploader7[ea]){this.inform('upload-canceled-during-upload');}else if(this.$MercuryFileUploader1[ea]||this.$MercuryFileUploader2[ea]||this.$MercuryFileUploader3[ea]||this.$MercuryFileUploader4[ea]||this.$MercuryFileUploader5[ea]||this.$MercuryFileUploader6[ea])this.inform('upload-canceled-after-uploaded');delete this.$MercuryFileUploader1[ea];delete this.$MercuryFileUploader2[ea];delete this.$MercuryFileUploader3[ea];delete this.$MercuryFileUploader4[ea];delete this.$MercuryFileUploader5[ea];delete this.$MercuryFileUploader6[ea];delete this.$MercuryFileUploader7[ea];delete this.$MercuryFileUploader9[ea];var fa=this.$MercuryFileUploader8[ea];delete this.$MercuryFileUploader8[ea];if(fa){j.remove(fa.getRoot());this.inform('dom-updated');}this.inform('upload-canceled');return false;};ca.prototype.$MercuryFileUploaderi=function(ea,fa){"use strict";var ga=this.$MercuryFileUploader8[ea],ha=p.getAttachIconClassByMime(fa);h.addClass(ga.getNode('iconText'),ha);h.addClass(ga.getRoot(),'done');};ca.prototype.$MercuryFileUploaderg=function(ea,fa){"use strict";if(this.$MercuryFileUploader7[ea]){delete this.$MercuryFileUploader7[ea];if(fa.image_id){this.$MercuryFileUploader2[ea]=fa.image_id;}else if(fa.gif_id){this.$MercuryFileUploader3[ea]=fa.gif_id;}else if(fa.video_id){this.$MercuryFileUploader4[ea]=fa.video_id;}else if(fa.audio_id){this.$MercuryFileUploader5[ea]=fa.audio_id;}else if(fa.file_id){this.$MercuryFileUploader6[ea]=fa.file_id;}else this.$MercuryFileUploader1[ea]=fa;this.$MercuryFileUploaderi(ea,fa.filetype);this.inform('one-upload-completed',{upload_time_ms:Date.now()-this.$MercuryFileUploader9[ea]});}if(!this.isUploading())this.inform('all-uploads-completed',{count:this.getAttachments().length});};ca.prototype.$MercuryFileUploadere=function(event,ea){"use strict";var fa=ea.response.getPayload();this.$MercuryFileUploaderg(this.$MercuryFileUploaderj(ea),fa.metadata[0]);};ca.prototype.$MercuryFileUploaderf=function(event,ea){"use strict";this.inform('one-upload-failed');this.$MercuryFileUploaderh(this.$MercuryFileUploaderj(ea),event);};ca.prototype.$MercuryFileUploaderc=function(){"use strict";return 'upload_'+s.getNewID();};ca.prototype.$MercuryFileUploaderj=function(ea){"use strict";var fa=ea.response.getPayload();if(ea.upload){return ea.upload.getName();}else return fa.uploadID;};function da(ea){if(ea&&ea.startsWith('C:\\fakepath\\'))return ea.substring(12);return ea;}e.exports=ca;},null);
__d("MercuryShareLinkUploader",["ArbiterMixin","AsyncRequest","CSS","DOM","Event","Form","URLScraper","WebMessengerEvents","mixin","isEmpty"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=o(g);for(var r in q)if(q.hasOwnProperty(r))t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u,v,w,x,y){"use strict";this.$MercuryShareLinkUploader0=u;this.$MercuryShareLinkUploader1=v;this.$MercuryShareLinkUploader2=w;this.$MercuryShareLinkUploader3=y;this.$MercuryShareLinkUploader4=false;this.$MercuryShareLinkUploader5=null;this.$MercuryShareLinkUploader6=null;k.listen(x,'click',this.close.bind(this));k.listen(y,'keyup',function(){!y.value.length&&this.$MercuryShareLinkUploader7.enable();}.bind(this));this.$MercuryShareLinkUploader7=new m(y);this.$MercuryShareLinkUploader7.subscribe('match',function(z,aa){this.loadShare(aa&&aa.url);}.bind(this));}t.prototype.getAttachData=function(){"use strict";return this.loadAttachData(this.$MercuryShareLinkUploader4,this.$MercuryShareLinkUploader0,this.$MercuryShareLinkUploader3);};t.prototype.getShareDataFromStage=function(u,v){"use strict";var w=l.serialize(v),x=w.attachment&&w.attachment.params;if(!x)return null;if(x instanceof Object){var y=[];y.push(x[0]);y.push(x[1]);x=y;}return {params:x,type:w.attachment.type};};t.prototype.loadAttachData=function(u,v,w,x){"use strict";if(u){var y=l.serialize(v),z=y.attachment&&y.attachment.params,aa=y.link_metrics?y.link_metrics.no_image:true;if(!z||p(z))return null;var ba=x?x():w.value;if(ba.indexOf(z.url)===-1)return y;if(!z.summary&&!z.favicon&&aa&&z.title&&z.url&&z.url.substr(0,z.title.length)===z.title)return null;return y;}return null;};t.prototype.check=function(){"use strict";this.$MercuryShareLinkUploader7.check();};t.prototype.close=function(){"use strict";this.$MercuryShareLinkUploader8();this.$MercuryShareLinkUploader7.disable();this.inform('closed');};t.prototype.clear=function(){"use strict";this.$MercuryShareLinkUploader8();this.$MercuryShareLinkUploader7.enable();};t.prototype.enable=function(){"use strict";this.$MercuryShareLinkUploader7.enable();};t.prototype.disable=function(){"use strict";this.$MercuryShareLinkUploader7.disable();};t.prototype.loadShare=function(u){"use strict";this.$MercuryShareLinkUploader5=u;this.$MercuryShareLinkUploader6&&this.$MercuryShareLinkUploader6.abort();this.$MercuryShareLinkUploader6=new h().setMethod('POST').setURI('/ajax/share_scrape.php').setData({u:u}).setHandler(this.$MercuryShareLinkUploader9.bind(this).bind(null,u)).setStatusElement(this.$MercuryShareLinkUploader2);this.$MercuryShareLinkUploader6.send();this.inform('link-detected');};t.prototype.$MercuryShareLinkUploader9=function(u,v){"use strict";if(this.$MercuryShareLinkUploader5!==u)return;this.$MercuryShareLinkUploader5=null;this.$MercuryShareLinkUploader6=null;i.show(this.$MercuryShareLinkUploader0);j.empty(this.$MercuryShareLinkUploader1);j.setContent(this.$MercuryShareLinkUploader1,v.payload);this.$MercuryShareLinkUploader4=true;if(!this.getAttachData()){this.close();return;}n.detailDOMChanged();};t.prototype.$MercuryShareLinkUploader8=function(){"use strict";i.hide(this.$MercuryShareLinkUploader0);this.$MercuryShareLinkUploader4=false;this.$MercuryShareLinkUploader5=null;this.$MercuryShareLinkUploader6&&this.$MercuryShareLinkUploader6.abort();this.$MercuryShareLinkUploader6=null;this.$MercuryShareLinkUploader7.reset();n.detailDOMChanged();};e.exports=t;},null);
__d("ChatEmployeeAwayWarning",["MercuryIDs","MercuryParticipants","MercuryViewer"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={updateEmployeeAwayWarning:function(k,l,m){h.get(i.getID(),function(n){var o=n.employee;if(o)h.getMulti(k.participants,function(p){var q=false,r=g.getUserIDFromThreadID(k.thread_id);if(!r)return;var s='fbid:'+r;for(var t in p)if(s==p[t].id&&p[t].is_employee_away)q=true;if(q){l();}else m();});});}};e.exports=j;},null);
__d("XStickerAssetController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/stickers\/asset\/",{sticker_id:{type:"Int",required:true},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}});},null);
__d("MessengerHotLikeUtils",["StickerAssetType","StickerConstants","XStickerAssetController"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j={SizeTimes:{small:500,medium:1200,large:3000},getStickerIDForTime:function(k){var l=null;switch(true){case k<this.SizeTimes.small:l=h.HOT_LIKE_SMALL_STICKER_ID;break;case k<this.SizeTimes.medium:l=h.HOT_LIKE_MEDIUM_STICKER_ID;break;case k<this.SizeTimes.large:l=h.HOT_LIKE_LARGE_STICKER_ID;break;}return l;},getGrowCoefficientForSince:function(k){return Math.min(1,(Date.now()-k)/this.SizeTimes.large);},getMetadataForHotLike:function(k){var l;switch(k){case h.HOT_LIKE_LARGE_STICKER_ID:l=120;break;case h.HOT_LIKE_MEDIUM_STICKER_ID:l=84;break;case h.HOT_LIKE_SMALL_STICKER_ID:l=35;break;}return l?{height:l,width:l}:(void 0);},getPreviewURI:function(){return i.getURIBuilder().setInt('sticker_id',h.HOT_LIKE_LARGE_STICKER_ID).setEnum('image_type',g.IMAGE).getURI().toString();},getURIWithID:function(k){return i.getURIBuilder().setInt('sticker_id',k).setEnum('image_type',g.IMAGE).getURI().toString();}};e.exports=j;},null);
__d("MNCommerceButton.react",["CurrentEnvironment","MessengerDialogButton.react","React","XUIButton.react"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=i.createClass({displayName:"MNCommerceButton",render:function(){var l=g.messengerdotcom,m=l?h:j,n=this.props.type;if(!n)n=this.props.type==='confirm'?'primary':'secondary';var o=l?'default':this.props.use,p=Object.assign({},this.props,{type:n,use:o});return (i.createElement(m,i.__spread({},p),this.props.children));}});e.exports=k;},null);
__d("MNCommerceAttachmentConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={XLARGE_IMAGE_DIMENSION:72,LARGE_IMAGE_DIMENSION:60,SMALL_IMAGE_DIMENSION:32,SINGLE_IMAGE_HEIGHT:108,BUBBLE_PADDING:6,UNLINK_ERROR_DIALOG:{WIDTH:300},DIALOG:{WIDTH:445,PADDING:12},MDOTCOMDIALOG:{WIDTH:495},ORDER_DETAIL:{SUB_TOTAL:'subTotal',SHIPPING:'shippingCost',TAX:'tax',TOTAL:'totalCost'}};e.exports=g;},null);
__d("MNCommerceDialog.react",["CurrentEnvironment","LayerFadeOnHide","LayerHideOnEscape","MNCommerceAttachmentConstants","MessengerDialog.react","React","XUIDialog.react","cx","emptyFunction","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q=l,r=q.PropTypes,s=l.createClass({displayName:"MNCommerceDialog",propTypes:{onToggle:r.func,shown:r.bool,width:r.number.isRequired},getDefaultProps:function(){return {onToggle:o,repositionOnUpdate:true,shown:true,width:g.messengerdotcom?j.MDOTCOMDIALOG.WIDTH:j.DIALOG.WIDTH};},componentDidUpdate:function(){if(this.props.repositionOnUpdate)setTimeout(function(){if(this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer)this.refs.dialog.layer.updatePosition();}.bind(this));},render:function(){var t=g.messengerdotcom,u=t?k:m;return (l.createElement(u,l.__spread({behaviors:{LayerFadeOnHide:h,LayerHideOnEscape:i}},this.props,{className:p(this.props.className,((t?"_3rx0":''))),ref:"dialog"}),this.props.children));}});e.exports=s;},null);
__d("MNCommerceDialogBody.react",["CurrentEnvironment","MessengerDialogBody.react","React","XUIDialogBody.react"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=i.createClass({displayName:"MNCommerceDialogBody",render:function(){var l=g.messengerdotcom,m=l?h:j;return (i.createElement(m,i.__spread({},this.props),this.props.children));}});e.exports=k;},null);
__d("MNCommerceDialogTitle.react",["CurrentEnvironment","MessengerDialogHeader.react","React","XUIDialogTitle.react"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=i.createClass({displayName:"MNCommerceDialogTitle",render:function(){var l=g.messengerdotcom,m=l?h:j;return (i.createElement(m,i.__spread({},this.props),this.props.children));}});e.exports=k;},null);
__d("MNCommerceUnlinkDialog.react",["MNCommerceButton.react","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react","React","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=l,o=n.PropTypes,p=l.createClass({displayName:"MNCommerceUnlinkDialog",propTypes:{onCancelButtonClick:o.func,onTurnOffButtonClick:o.func},render:function(){var q=m._("Cancel"),r=m._("Turn Off");return (l.createElement(h,{onToggle:this.props.onToggle,shown:this.props.shown},l.createElement(k,{showCloseButton:false},m._("Unlink account?")),l.createElement(i,null,l.createElement("div",null,m._("You can turn off updates if you didn't sign up or just don't want to get them anymore."))),l.createElement(j,null,l.createElement(g,{label:q,onClick:this.props.onCancelButtonClick,use:"default"}),l.createElement(g,{label:r,onClick:this.props.onTurnOffButtonClick,use:"confirm"}))));}});e.exports=p;},null);
__d("MNCommerceLoggingConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={DIALOG_SURFACE:{SHIPMENT:'shipment',RECEIPT:'receipt',UNLINK:'unlink',UNLINK_ERROR:'unlink_error'}};e.exports=g;},null);
__d("MNCommerceUnlinkErrorDialog.react",["MNCommerceAttachmentConstants","MNCommerceErrors","React","MNCommerceButton.react","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogFooter.react","MNCommerceDialogTitle.react","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=i,q=p.PropTypes,r=i.createClass({displayName:"MNCommerceUnlinkErrorDialog",propTypes:{errorType:q.number,onOkayButtonClick:q.func},render:function(){var s=o._("OK"),t=null,u=null;switch(this.props.errorType){case h.ALREADY_UNLINKED:u=i.createElement("div",null,o._("Updates Are Already Off"));t=i.createElement("div",null,o._("You aren't getting updates in Messenger."));break;default:u=i.createElement("div",null,o._("Couldn't Turn Off Updates"));t=i.createElement("div",null,o._("Sorry, something went wrong. Please try again."));break;}return (i.createElement(k,{onToggle:this.props.onToggle,shown:this.props.shown,width:g.UNLINK_ERROR_DIALOG.WIDTH},i.createElement(n,null,u),i.createElement(l,null,t),i.createElement(m,null,i.createElement(j,{label:s,onClick:this.props.onOkayButtonClick,use:"confirm"}))));}});e.exports=r;},null);
__d("MNCommerceUnlinkDialogContainer.react",["BanzaiLogger","MNCommerceDialogStateActions","MNCommerceDialogStateStore","MNCommerceLoggingConstants","MNCommerceLoggerEvents","MNCommerceUnlinkDialog.react","MNCommerceUnlinkErrorDialog.react","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=n.createClass({displayName:"MNCommerceUnlinkDialogContainer",render:function(){var p=i.getState();if(p&&p.errorType){g.log('MessengerCommerceLoggerConfig',{event:k.DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:j.DIALOG_SURFACE.UNLINK_ERROR})});return (n.createElement(m,{onToggle:this._onToggle,shown:!!p,errorType:p.errorType,onOkayButtonClick:this._hideDialog}));}else{g.log('MessengerCommerceLoggerConfig',{event:k.DIALOG_LOAD_SUCCESS,debug_data:JSON.stringify({dialog_surface:j.DIALOG_SURFACE.UNLINK})});return (n.createElement(l,{onToggle:this._onToggle,shown:!!p,onCancelButtonClick:this._hideDialog,onTurnOffButtonClick:p&&p.onTurnOffButtonClick}));}},_onToggle:function(p){if(!p)this._hideDialog();},_hideDialog:function(){h.hideDialog();}});e.exports=o;},null);
__d("XMNCommerceUnlinkController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/messages\/commerce\/unlink\/",{page_id:{type:"String",required:true},user_id:{type:"String",required:true}});},null);
__d("MNCommerceUnlinkDataManager",["AsyncRequest","MNCommerceDialogStateActions","MNCommerceUnlinkDialogContainer.react","XMNCommerceUnlinkController"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';function k(){}k.prototype.unlink=function(l,m){var n=j.getURIBuilder().setString('page_id',l).setString('user_id',m).getURI();new g().setURI(n).setErrorHandler(this.$MNCommerceUnlinkDataManager0).send();};k.prototype.$MNCommerceUnlinkDataManager0=function(l){h.showDialog(i,{errorType:l.error});};e.exports=new k();},null);
__d("MercuryThreadMuter",["AsyncDialog","AsyncRequest","DOM","MercuryThreadInfo"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={showMuteChangeDialog:function(l,m){g.send(new h('/ajax/mercury/mute_thread_dialog.php').setRelativeTo(m),function(n){n.subscribe('confirm',function(){this.hide();var o;i.scry(this.getRoot(),'input[type="radio"]').forEach(function(p){if(p.checked)o=p.value;});o=k.convertRawMuteSetting(o);d(['MercuryThreadActions'],function(p){p.get().updateMuteSetting(l,o);});}.bind(n));});},convertRawMuteSetting:function(l){switch(l){case 'always':return -1;case '30minutes':return 1800;case '1hour':return 3600;case '8hours':return 8*3600;case '24hours':return 24*3600;case '8am':var m,n=new Date(),o=new Date();o.setHours(8);o.setMinutes(0);o.setSeconds(0);if(o>n){m=o-n;}else m=o-n+(24*3600*1000);return m/1000;default:return 0;}}};e.exports=k;},null);
__d("MercuryCallLogMessage.react",["FBRTCCore","FBRTCLogger","React","SimpleXUIDialog","Tooltip.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i.createClass({displayName:"MercuryCallLogMessage",render:function(){if(this.props.isAnswered){return (this._renderAnsweredCallLogMessage(this.props.peerFBID,this.props.peerName,this.props.isOutgoingCall));}else return (this._renderMissedCallLogMessage(this.props.peerFBID,this.props.peerName,this.props.isOutgoingCall));},_renderAnsweredCallLogMessage:function(o,p,q){var r=m._("zadzwo\u0144 do u\u017cytkownika {firstname}",[m.param("firstname",p)]),s;if(q){s=m._("Dzwoni\u0142e\u015b(a\u015b) do u\u017cytkownika {firstname}.",[m.param("firstname",p)]);}else s=m._("{firstname} dzwoni\u0142(a) do Ciebie.",[m.param("firstname",p)]);return this._generateCallLink(s,r,o,p);},_renderMissedCallLogMessage:function(o,p,q){var r,s;if(q){r=m._("{firstname} ma nieodebrane po\u0142\u0105czenie od Ciebie.",[m.param("firstname",p)]);s=m._("zadzwo\u0144 ponownie do u\u017cytkownika {firstname}",[m.param("firstname",p)]);}else{r=m._("Masz nieodebrane po\u0142\u0105czenie od u\u017cytkownika {firstname}.",[m.param("firstname",p)]);s=m._("oddzwo\u0144 do u\u017cytkownika {firstname}",[m.param("firstname",p)]);}return this._generateCallLink(r,s,o,p);},_generateCallLink:function(o,p,q,r){if(g.shouldEnableVideoCalling()){return (i.createElement("a",{className:"_1xpw",onClick:this._handleClick.bind(this,q,r)},i.createElement(k,{alignH:"center",position:"above",tooltip:p},o)));}else return (i.createElement("span",{className:"_1xpw"},o));},_handleClick:function(o,p){if(g.isAvailableForWebrtcCalling(o)){g.startOutgoingCall(o,h.Trigger.ADMIN_MESSAGE,false);}else j.show(m._("Nie mo\u017cna zadzwoni\u0107 do u\u017cytkownika {firstname}, poniewa\u017c jest tymczasowo w trybie offline.",[m.param("firstname",p)]),m._("Nie mo\u017cna nawi\u0105za\u0107 po\u0142\u0105czenia"));}});e.exports=n;},null);
__d("MercuryTypingReceiver",["Arbiter","ChannelConstants","MercuryActionType","MercuryIDs","MercuryPayloadSource","MercuryServerRequests","MercurySingletonMixin","MercuryViewer","TypingStates","isEmpty","mixInEventEmitter","setTimeoutAcrossTransitions","MercuryThreadIDMap"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=b('MercuryThreadIDMap').get(),t=30000;function u(v){"use strict";this.$MercuryTypingReceiver0=null;this.$MercuryTypingReceiver1={};this.$MercuryTypingReceiver2=l.getForFBID(v);this.$MercuryTypingReceiver2.subscribe('update-typing-state',function(w,x){var y=x.payload_source;if(y!=k.CLIENT_CHANNEL_MESSAGE)return;var z=x.actions;if(!z||!z.length)return;var aa=i.USER_GENERATED_MESSAGE;z.forEach(function(ba){if(ba.action_type==aa&&ba.author!=n.getID())this.$MercuryTypingReceiver4(ba.thread_id,ba.author);}.bind(this));}.bind(this));g.subscribe([h.getArbiterType('typ'),h.getArbiterType('ttyp')],function(w,x){var y=x.obj,z=this.$MercuryTypingReceiver5(y);if(z){var aa=j.getParticipantIDFromUserID(y.from);if(y.st==o.TYPING){this.$MercuryTypingReceiver1[z]=this.$MercuryTypingReceiver1[z]||{};var ba=this.$MercuryTypingReceiver1[z][aa];this.$MercuryTypingReceiver1[z][aa]=Date.now();if(!this.$MercuryTypingReceiver0)this.$MercuryTypingReceiver0=r(function(){this.$MercuryTypingReceiver6();}.bind(this),3000);!ba&&this.$MercuryTypingReceiver7(z);}else if(y.st==o.INACTIVE)this.$MercuryTypingReceiver4(z,aa);}}.bind(this));}u.prototype.$MercuryTypingReceiver8=function(v){"use strict";var w=this.$MercuryTypingReceiver1[v]||{},x=Object.keys(w);x.sort(function(y,z){return w[y]-w[z];});return x;};u.prototype.$MercuryTypingReceiver6=function(){"use strict";this.$MercuryTypingReceiver0=null;var v=Date.now(),w={},x=false;for(var y in this.$MercuryTypingReceiver1){var z=false;for(var aa in this.$MercuryTypingReceiver1[y]||{})if(this.$MercuryTypingReceiver1[y][aa]<v-t){delete this.$MercuryTypingReceiver1[y][aa];z=true;}else x=true;if(z)w[y]=this.$MercuryTypingReceiver8(y);}if(!p(w))this.$MercuryTypingReceiver9(w);if(x)this.$MercuryTypingReceiver0=r(function(){this.$MercuryTypingReceiver6();}.bind(this),3000);};u.prototype.$MercuryTypingReceiver4=function(v,w){"use strict";if(v in this.$MercuryTypingReceiver1)if(w in this.$MercuryTypingReceiver1[v]){delete this.$MercuryTypingReceiver1[v][w];this.$MercuryTypingReceiver7(v);}};u.prototype.$MercuryTypingReceiver9=function(v){"use strict";this.releaseHeldEventType('state-changed');this.emitAndHold('state-changed',v);};u.prototype.$MercuryTypingReceiver7=function(v){"use strict";var w={};w[v]=this.$MercuryTypingReceiver8(v);this.$MercuryTypingReceiver9(w);};u.prototype.$MercuryTypingReceiver5=function(v){"use strict";if(v.thread_fbid)return s.getClientIDFromFBIDNow(v.thread_fbid);if(v.type==='typ')return j.getThreadIDFromUserID(v.from);return null;};q(u,{'state-changed':true});Object.assign(u,m);e.exports=u;},null);
__d("MercuryIndicatorController",["ArbiterMixin","DOM","MercuryActionType","MercuryDelayedRoger","MercuryIDs","MercuryMessageSourceTags","MercuryParticipants","MercuryViewer","arrayContains","copyProperties","formatDate","removeFromArray","fbt","MercuryRoger","MercuryThreads","MercuryTypingReceiver"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();var t=b('MercuryRoger').get(),u=b('MercuryThreads').get(),v=b('MercuryTypingReceiver').get(),w=[];function x(y){this._threadID=y;this._canonicalUser=k.getUserIDFromThreadID(y);w.push(this);}p(x.prototype,g,{destroy:function(){r(w,this);},setLastMessage:function(y){this._lastMsg=y;this._handleStateChange();},_informStateChanged:function(y){if(y.activity=='none'&&this._currentActivity=='none')return;if(this._lastMsg&&n.isViewer(this._lastMsg.author))y.self_authored=true;this._currentActivity=y.activity;this.inform('state-changed',y);},_notifySentFrom:function(){var y,z,aa=this._lastMsg.location_text,ba=this._lastMsg.source_tags||[];if(aa){y=s._("Wys\u0142ano z: {location}",[s.param("location",aa)]);z='sentFromMobile';}else if(o(ba,l.MESSENGER)){y=h.create('a',{href:'/mobile/messenger','class':'fcg',target:'_blank'},s._("Wys\u0142ano z aplikacji Messenger"));z='sentFromMobile';}else if(o(ba,l.MOBILE)){y=h.create('a',{href:'/mobile','class':'fcg',target:'_blank'},s._("Wys\u0142ano z telefonu kom\u00f3rkowego"));z='sentFromMobile';}else if(o(ba,l.EMAIL)){y=s._("Wys\u0142ane z poczty e-mail");z='sentFromEmail';}else{this._informStateChanged({activity:'none'});return;}this._informStateChanged({activity:z,text:y});},_notifySeenTimestamp:function(y){var z=t.getSeenTimestamp(this._threadID,y[0])*.001,aa=Date.now()*.001,ba;if(z<aa-518400){ba='M j';}else if(z<aa-86400){ba='D g:ia';}else ba='g:ia';this._informStateChanged({activity:'seen-timestamp',text:s._("Wy\u015bwietlone {timestamp}",[s.param("timestamp",q(z,ba))])});},_nameNormalizer:function(y){var z;m.getMulti(y,function(aa){function ba(da){if(aa[da]!==(void 0)){return aa[da].short_name.toLowerCase();}else return da;}var ca=y.map(ba);z=function(da){var ea=ba(da),fa=ca.indexOf(ea)!==ca.lastIndexOf(ea);return fa?aa[da].name:aa[da].short_name;};});return z;},_notifySeenBy:function(y){var z=this._lastMsg,aa=true;m.getMulti(y,function(ba){aa=false;if(this._lastMsg!=z)return;var ca=u.getThreadMetaNow(this._threadID),da=ca?ca.participants.length:0,ea=y.length+(z.author!=n.getID()),fa,ga=false,ha=da>2&&ea>=da-1,ia;if(ca)ia=this._nameNormalizer(ca.participants);if(!ia)ia=function(ma){return ba[ma].short_name;};if(ha){fa=s._("Przeczytane przez wszystkich.");}else if(y.length==1){fa=s._("Wy\u015bwietlone przez u\u017cytkownika {user}",[s.param("user",ba[y[0]].short_name)]);}else if(y.length==2){fa=s._("Wy\u015bwietlone przez u\u017cytkownika {user1} i {user2}",[s.param("user1",ba[y[0]].short_name),s.param("user2",ba[y[1]].short_name)]);}else if(y.length==3){fa=s._("Wy\u015bwietlone przez u\u017cytkownika {user1}, {user2} i {user3}",[s.param("user1",ba[y[0]].short_name),s.param("user2",ba[y[1]].short_name),s.param("user3",ba[y[2]].short_name)]);}else if(y.length>3){var ja=Object.keys(ba).length-2,ka=s._({"*":"{num} innych os\u00f3b","268435456":"{num} inn\u0105 osob\u0119","536870912":"{num} inne osoby"},[s.param("num",ja,[0])]),la=h.create('span',{className:'more'},ka);fa=s._("Wy\u015bwietlone przez u\u017cytkownika {user1}, {user2} i {=num more link}",[s.param("user1",ba[y[0]].short_name),s.param("user2",ba[y[1]].short_name),s.param("=num more link",la)]);ga=true;}this._informStateChanged({activity:'seen-by',text:fa,seenBy:y,tooltip:ga});}.bind(this));aa&&this._informStateChanged({activity:'none'});},_notifyTyping:function(y){var z=this._lastMsg,aa=true;m.getMulti(y,function(ba){aa=false;if(this._lastMsg!=z)return;var ca=u.getThreadMetaNow(this._threadID),da=ca?ca.participants.length:0,ea;if(ca)ea=this._nameNormalizer(ca.participants);if(!ea)ea=function(ka){return ba[ka].short_name;};var fa,ga=false;if(da>2&&y.length>=da-1){fa=s._("Wszyscy uczestnicy pisz\u0105...");}else if(y.length==1){fa=s._("{name} pisze...",[s.param("name",ba[y[0]].short_name)]);}else if(y.length==2){fa=s._("{user1} i {user2} pisz\u0105...",[s.param("user1",ba[y[0]].short_name),s.param("user2",ba[y[1]].short_name)]);}else if(y.length==3){fa=s._("{user1}, {user2} i {user3} pisz\u0105...",[s.param("user1",ba[y[0]].short_name),s.param("user2",ba[y[1]].short_name),s.param("user3",ba[y[2]].short_name)]);}else if(y.length>3){var ha=Object.keys(ba).length-2,ia=s._({"*":"{num} innych os\u00f3b","268435456":"{num} inna osoba","536870912":"{num} inne osoby"},[s.param("num",ha,[0])]),ja=h.create('a',{href:'#'},ia);fa=s._("{user1}, {user2} i {=num more link} pisz\u0105...",[s.param("user1",ba[y[0]].short_name),s.param("user2",ba[y[1]].short_name),s.param("=num more link",ja)]);ga=true;}this._informStateChanged({activity:'typing',text:fa,typing:y,tooltip:ga});}.bind(this));aa&&this._informStateChanged({activity:'none'});},_handleStateChange:function(){var y=i.LOG_MESSAGE;if(!this._lastMsg||this._lastMsg.action_type==y){this._informStateChanged({activity:'none'});return;}if(this._typing&&this._typing.length){this._notifyTyping(this._typing);return;}if(this._canonicalUser&&this._lastMsg.author!=n.getID()){this._notifySentFrom();return;}var z=j.getSeenBy(this._threadID,true);if(z.length)if(this._canonicalUser){this._notifySeenTimestamp(z);return;}else{this._notifySeenBy(z);return;}this._informStateChanged({activity:'none'});}});v.addRetroactiveListener('state-changed',function(y){w.forEach(function(z){var aa=y[z._threadID];if(aa!==(void 0)){z._typing=aa;z._handleStateChange();}});});j.subscribe('state-changed',function(y,z){w.forEach(function(aa){z[aa._threadID]&&aa._handleStateChange();});});e.exports=x;},null);
__d("MercuryLastMessageIndicator.react",["DOM","MercuryIndicatorController","MercuryParticipants","React","Tooltip","cx","emptyFunction","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=j,p=o.PropTypes,q=j.createClass({displayName:"MercuryLastMessageIndicator",propTypes:{hideTyping:p.bool,indicatorWillShow:p.func,indicatorDidShow:p.func,lastMessage:p.object,threadID:p.string.isRequired},getDefaultProps:function(){return {indicatorWillShow:m,indicatorDidShow:m};},getInitialState:function(){return {data:{}};},componentDidMount:function(){this._setup(this.props);},componentWillReceiveProps:function(r){if(r.threadID!=this.props.threadID){this._destroy();this._setup(r);}else if(r.lastMessage!=this.props.lastMessage)this._controller.setLastMessage(r.lastMessage);},componentWillUpdate:function(r,s){if(this.isVisible(r,s))this.props.indicatorWillShow();},componentDidUpdate:function(){if(!this.isVisible())return;this.setText();this.setTooltip();this.props.indicatorDidShow();},componentWillUnmount:function(){this._destroy();},render:function(){return (j.createElement("div",{className:this.getRootClass()},j.createElement("div",{className:"_510h"}),j.createElement("span",{className:"_510f",ref:"text"}," ")));},getRootClass:function(){var r=(("_510g")+(this.state.data.self_authored?' '+"_510e":'')),s=this.state.data.activity,t=null;if(String(s).startsWith('seen')){t='seen';}else if(s=='typing'){t=this.props.hideTyping?null:s;}else t=s;return n(r,t,this.props.className);},isVisible:function(r,s){r=r||this.props;s=s||this.state;return (s.data&&s.data.activity!='none'&&!(r.hideTyping&&s.data.activity=='typing'));},setText:function(){if(this.state.data.text)g.setContent(j.findDOMNode(this.refs.text),this.state.data.text);},setTooltip:function(){if(this.state.data.activity=='seen-by'&&this.state.data.tooltip)i.getMulti(this.state.data.seenBy,function(r){var s=g.create('div',null,this.state.data.seenBy.map(function(t){return g.create('div',null,r[t].name);}));k.set(g.find(j.findDOMNode(this),'span.more'),s,'above','center');}.bind(this));},_setup:function(r){this._controller=new h(r.threadID);this._subscription=this._controller.subscribe('state-changed',function(s,t){return this.setState({data:t});}.bind(this));r.lastMessage&&this._controller.setLastMessage(r.lastMessage);},_destroy:function(){this._subscription.unsubscribe();this._controller.destroy();}});e.exports=q;},null);
__d("MercuryShareAttachment.react",["BootloadedComponent.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareStyleMap","React","cx","emptyFunction","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=k,p=o.PropTypes,q=k.createClass({displayName:"MercuryShareAttachment",propTypes:{attachment:h,location:p.oneOf(i.getValues()),onComponentLoaded:p.func.isRequired},getDefaultProps:function(){return {onComponentLoaded:m};},componentDidMount:function(){this._handleComponentLoad();},_renderComponent:function(r,s){if(this.props.location===i.MESSENGER)s=n("_52mr _2poz _ui9",s);return !!s?k.createElement("div",{className:s},r):r;},render:function(){var r=j.getStyleFactory(this.props.attachment);if(!r)return null;var s=r,t=s.attachment,u=s.factory;return (this._renderComponent(k.createElement(g,k.__spread({},this.props,{attachment:t,bootloadComponent:function(v){u.componentLoader.load().then(function(w){return v(w[0]);});},bootloadPlaceholder:k.createElement("div",null),module:u.componentName,onComponentLoad:this._handleComponentLoad})),u.cx&&u.cx.get(this.props.location)));},_handleComponentLoad:function(){this.props.onComponentLoaded(k.findDOMNode(this));}});e.exports=q;},null);
__d("WebMessengerDeleteThreadDialog",["Dialog","fbt","MercuryThreadActions"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=b('MercuryThreadActions').get(),j={show:function(k){var l=[];l.push({name:'delete_conversation',label:h._("Usu\u0144 konwersacj\u0119"),handler:function(){return i["delete"](k);}});l.push(g.CANCEL);new g().setTitle(h._("Usun\u0105\u0107 ca\u0142\u0105 t\u0119 konwersacj\u0119?")).setBody(h._("Je\u015bli usuniesz swoj\u0105 kopi\u0119 konwersacji, nie b\u0119dzie mo\u017cna jej przywr\u00f3ci\u0107.")).setButtons(l).show();}};e.exports=j;},null);
__d("MercuryAttachmentRenderer",["MercuryAttachmentTemplates","MercuryAttachmentAudioClip.react","Bootloader","CSS","MercuryConstants","DOM","Event","MercuryAttachment","MercuryAttachmentFile.react","MercuryAttachmentPhoto.react","MercuryAttachmentPhotoGrid.react","MercuryAttachmentType","MercuryAttachmentVideo.react","MercuryMessageInfo","MercuryShareAttachment.react","MercuryShareAttachmentRenderLocations","MessengerHotLikeUtils","ProgressBar","React","Sticker.react","StickerAssetType","StickerConstants","StickerImages","StickerUtils","Style","URI","UserAgent_DEPRECATED","cx","invariant","updatePhotoProgressBar","XStickerAssetController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka){b.__markCompiled&&b.__markCompiled();'use strict';var la=ga.ie()<=8,ma={renderAttachment:function(na,oa,pa,qa,ra,sa){var ta=100,ua=na?160:400,va=null,wa=null;if(this.isErrorAttachment(oa))va=ma.renderError(oa);if(this.isShareAttachment(oa)){wa=l.create('div',{className:((pa.body&&na?"_r38":''))});var xa=na?v.CHAT:v.WEB_INBOX;y.render(y.createElement(u,{attachment:oa.share,location:xa,maxWidth:qa}),wa);}if(this.isStickerAttachment(oa))wa=ma.renderSticker(oa,pa,na,sa);if(!wa&&oa.preview_loading)wa=ma.renderPreview(oa,pa,qa,ra);if(!wa&&this.isVideoAttachment(oa)){wa=l.create('div');y.render(ma.renderVideo(oa,na,pa),wa);}if(!wa&&this.isFileAttachment(oa))if(oa.metadata&&n.isVoiceMessage(oa.metadata.type)){wa=l.create('div');var ya=ma.renderAudioClip(oa,pa.message_id,ta,ua);y.render(ya,wa);}else{wa=l.create('div');y.render(ma.renderFile(oa,na),wa);}return {error:va,content:wa,bubblePreferred:this.isBubblePreferred(oa)};},isBubblePreferred:function(na){return !this.isStickerAttachment(na)&&!this.isSyncRequestAttachment(na);},renderError:function(na){var oa=g[':fb:mercury:attachment:error'].build();l.appendContent(oa.getNode('error'),na.error_msg);return oa.getRoot();},renderFile:function(na,oa){return (y.createElement(o,{name:na.name,open_url:oa?null:na.open_url,rel:na.rel,type:na.icon_type,url:na.url}));},renderAudioClip:function(na,oa,pa,qa){var ra=na.metadata.duration/1000,sa=200;if(pa&&qa)if(ra<5){sa=pa;}else sa=(1-Math.pow(10,(ra-5)/-30))*(qa-pa)+pa;return (y.createElement(h,{src:na.url,duration:na.metadata.duration/1000,showHelp:false,width:sa}));},renderVideo:function(na,oa,pa){var qa=oa?na.metadata.chat_size:na.metadata.inbox_size,ra=oa?na.metadata.chat_preview:na.metadata.inbox_preview;return (y.createElement(s,{duration:na.metadata.duration,isInbound:t.isInbound(pa),isChat:oa,name:na.name,pageID:na.metadata.pageid,thumbSize:qa,thumbnail:ra,videoSize:na.metadata.dimensions,videoID:na.metadata.fbid,videoURI:na.url}));},renderPreview:function(na,oa,pa,qa){var ra=g[':fb:mercury:attachment:preview'].build(),sa=ra.getNode('image-link');if(na){na.url&&sa.setAttribute('href',na.url);na.rel&&sa.setAttribute('rel',na.rel);if(na.rel==='async'&&na.hires_url){sa.setAttribute('href',na.hires_url);sa.setAttribute('ajaxify',na.url);}var ta;if(na.preview_uploading){var ua=ra.getNode('cancel-button-container');j.show(ua);var va=ra.getNode('cancel-button'),wa=m.listen(va,'click',function(){na.upload_canceled(na.upload_id);j.hide(ra.getRoot());wa.remove();});na.on_success(function(event,db){if(db.upload_id==na.upload_id){j.hide(ua);wa.remove();}});var xa=ra.getNode('progress-bar'),ya=new x(xa),za=ra.getNode('progress-bar-container');ia(na.upload_id);na.on_progress(function(event,db){if(db.upload_id==na.upload_id){j.removeClass(za,"_395w");j.show(za);ja(ya,db.event);}});if(na.on_resizing_progress)na.on_resizing_progress(function(event,db){if(db.upload_id==na.upload_id){j.addClass(za,"_395w");j.show(za);ya.setPosition(100*db.event.written/db.event.total);}});j.addClass(sa,"_57jm");if(pa>=176){ta='/images/photos/dots_large.png';}else if(pa>=86){ta='/images/photos/dots_medium.png';}else ta='/images/photos/dots_small.png';ea.set(sa,'width',pa+'px');ea.set(sa,'max-width',pa+'px');if(na.preview_width&&na.preview_height)ea.set(sa,'padding-bottom',((na.preview_height/na.preview_width)*100)+'%');}else if(na.preview_loading){j.addClass(sa,"_5xdv");if(qa==='contain'&&na.preview_width&&na.preview_height){ea.set(sa,'width',na.preview_width+'px');ea.set(sa,'height',na.preview_height+'px');}if(qa==='cover'&&!la)j.addClass(sa,"_55pj");}else if(na.metadata&&na.metadata.fbid){ta=new fa('/ajax/mercury/attachments/photo.php').addQueryData({fbid:na.metadata.fbid,request_user_id:na.metadata.pageid,mode:qa,width:pa,height:pa}).toString();var ab=sa.getAttribute('ajaxify');sa.removeAttribute('ajaxify');sa.removeAttribute('rel');m.listen(sa,'click',function(event){event.prevent();i.loadModules(["MessagesViewer"],function(db){db.bootstrapWithConfig({src:ta,endpoint:ab,fbid:na.metadata.fbid,dimensions:na.metadata.dimensions,disablePaging:oa&&oa.attachments.length==1},sa);});});}else ta=new fa(na.preview_url).toString();var bb=ra.getNode('preview-image');if(ta){if(qa==='contain'&&na.preview_width&&na.preview_height){var cb=n.resizeContain({width:pa,height:pa},{width:na.preview_width,height:na.preview_height});bb.setAttribute('width',cb.width);bb.setAttribute('height',cb.height);}if(na.preview_uploading||(qa==='cover'&&!la)){j.addClass(sa,"_55pj");ea.set(sa,'backgroundImage','url('+ta+')');}else{bb.onload=function(){bb.removeAttribute('width');bb.removeAttribute('height');};bb.setAttribute('src',ta);}}}return ra.getRoot();},constructStickerComponent:function(na,oa,pa,qa){var ra=qa?'chatScrolled/':'messengerScrolled/';ra+=na.thread_id;if(!oa){oa=w.getMetadataForHotLike(na.sticker_id);if(!oa){var sa=ca.getSticker(na.sticker_id),ta=Object.assign({},sa),ua=da.getScaledDimensions(sa.height,sa.width,ba.THREAD_SIZE),va=ua.height,wa=ua.width;ta.height=va;ta.width=wa;ta.stickerID=na.sticker_id;ta.spriteURI='';ta.spriteURI2x='';ta.paddedSpriteURI='';ta.paddedSpriteURI2x='';oa=ta;}}var xa=null;if(oa.stickerID){xa=oa.stickerID.toString();}else if(na.sticker_id)xa=na.sticker_id.toString();var ya=null;if(oa.packID)ya=oa.packID.toString();var za=ka.getURIBuilder().setInt('sticker_id',xa),ab=null,bb=null;if(window.devicePixelRatio&&window.devicePixelRatio>1){bb=oa.paddedSpriteURI2x;ab=oa.spriteURI2x;}else{bb=oa.paddedSpriteURI;ab=oa.spriteURI;}return (y.createElement(z,{animationTrigger:"hover",className:"mvs",frameCount:oa.frameCount||1,frameRate:oa.frameRate||83,framesPerCol:oa.framesPerCol||1,framesPerRow:oa.framesPerRow||1,onStickerClick:pa,packID:ya,paddedSpriteURI:bb,sourceHeight:oa.height,sourceURI:za.setEnum('image_type',aa.IMAGE).getURI().toString(),sourceWidth:oa.width,spriteURI:ab,stickerID:xa,subscribedThreadID:ra}));},renderSticker:function(na,oa,pa,qa){var ra=l.create('div');j.addClass(ra,'stickerContainer');var sa=this.constructStickerComponent(oa,na.metadata,qa,pa);y.render(sa,ra);return ra;},renderPhotoAttachments:function(na,oa,pa){var qa=na.length;if(!qa)return null;var ra=l.create('div',{className:"_55pk"});if(qa===1){var sa=na[0],ta=n.resizeContain({width:pa,height:pa},{width:sa.preview_width,height:sa.preview_height});y.render(y.createElement(p,{image:sa,width:ta.width,height:ta.height,message:oa}),ra);return ra;}y.render(y.createElement(q,{images:na,size:pa,message:oa}),ra);return ra;},isPhotoAttachment:function(na){return na.attach_type==r.PHOTO||na.attach_type==r.ANIMATED_IMAGE||(na.attach_type==r.FILE&&na.preview_url);},isVideoAttachment:function(na){return na.attach_type==r.VIDEO;},isShareAttachment:function(na){return na.attach_type==r.SHARE;},isFileAttachment:function(na){return na.attach_type==r.FILE;},isErrorAttachment:function(na){return na.attach_type==r.ERROR;},isStickerAttachment:function(na){return na.attach_type==r.STICKER;},isSyncRequestAttachment:function(na){var oa=k.MercurySupportedShareType;return this.isShareAttachment(na)&&na.share_data_type==oa.FB_SYNC_REQUEST;},sortAttachmentsStablyByType:function(na){var oa=[ma.isPhotoAttachment,ma.isShareAttachment,ma.isFileAttachment,ma.isErrorAttachment];oa.push(function(qa){return true;});var pa=oa.map(function(qa){return [];});na.forEach(function(qa){for(var ra=0;ra<oa.length;ra++)if(oa[ra](qa)){pa[ra].push(qa);break;}});return Array.prototype.concat.apply([],pa);},constructStoryBasedShareAttachment:function(na,oa,pa,qa,ra){var sa=pa?v.CHAT:v.WEB_INBOX;return (y.createElement("div",{className:((!!na.body&&pa?"_r38":''))},y.createElement(u,{attachment:oa.share,location:sa,maxWidth:ra,onComponentLoaded:function(ta){if(ta&&ta.firstChild&&qa)qa(ta.firstChild,true);}})));}};e.exports=ma;},null);
__d("MNCommerceLogMessageUtils",["BanzaiLogger","Link.react","MercuryIDs","MNCommerceLoggingConstants","MNCommerceLoggerEvents","MNCommerceUnlinkDataManager","MNCommerceDialogStateActions","MNCommerceReplyTypes","MNCommerceUnlinkDialogContainer.react","React","cx","fbt","MercuryThreads"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=b('MercuryThreads').get();function t(){}t.prototype.isCommercePageAdminMessage=function(u){return !!(u&&u.log_message_data&&u.log_message_data.replyType===n.COMMERCE_LINK);};t.prototype.getCommercePageUnlink=function(u){var v=function(){var w=i.getUserIDFromParticipantID(u.author),x=s.getThreadMetaNow(u.thread_id),y=null;x.participants.every(function(aa){if(aa!==u.author){y=i.getUserIDFromParticipantID(aa);return false;}return true;});var z=function(){m.hideDialog();l.unlink(w,y);};m.showDialog(o,{onTurnOffButtonClick:z});g.log('MessengerCommerceLoggerConfig',{event:k.DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:j.DIALOG_SURFACE.UNLINK})});};return (p.createElement("span",null,u.log_message_body,' ',p.createElement(h,{className:"_2w2m",onClick:v},r._("To nie Ty?"))));};e.exports=new t();},null);
__d("P2PAmountUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g=10000,h={isAmountOverLegalLimit:function(i){return parseFloat(this.sanitizeAmount(i))>=g;},sanitizeAmount:function(i){return i.replace(/[^0-9\.]+/g,'');}};e.exports=h;},null);
__d("P2PBigAmount.react",["CurrentEnvironment","Image.react","React","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=i,m=l.PropTypes,n=i.createClass({displayName:"P2PBigAmount",propTypes:{amount:m.string.isRequired,isPending:m.bool},getImage:function(){if(this.isMessengerDotCom()){if(this.props.isPending){return k('/images/p2p/message-icon-dark-gray.png');}else return k('/images/p2p/message-icon-blue.png');}else if(this.props.isPending){return k('/images/p2p/message-icon-gray.png');}else return k('/images/p2p/message-icon-black.png');},isMessengerDotCom:function(){return g.messengerdotcom;},render:function(){return (i.createElement("div",{className:(("_8j6")+(this.isMessengerDotCom()?' '+"_8j7":''))},i.createElement("div",{className:"_8j8"},i.createElement(h,{height:16,src:this.getImage(),width:16})),i.createElement("div",{className:(("_8jc")+(this.props.isPending?' '+"_8jd":'')+(this.props.amount.length>=8?' '+"_8je":'')+(' '+"_3oh-"))},this.props.amount)));}});e.exports=n;},null);
__d("P2PNonEnabledGroupReceiptDialog.react",["CurrentEnvironment","LeftRight.react","P2PAmountUtils","P2PButton.react","P2PBigAmount.react","P2PDialog.react","P2PDialogBody.react","P2PDialogFooter.react","XUICloseButton.react","P2PLogger","P2PPaymentLoggerEvent","P2PPaymentLoggerEventFlow","P2PText.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();'use strict';var w=t,x=w.PropTypes,y=t.createClass({displayName:"P2PNonEnabledGroupSendReceiptDialog",propTypes:{amount:x.string.isRequired,onClose:x.func.isRequired,receiverName:x.string.isRequired,senderName:x.string.isRequired},componentDidMount:function(){this.log(q.UI_ACTN_3RD_PARTY_NON_ENABLED_LOG_MESSAGE_CLICKED,{raw_amount:this.props.amount});},log:function(z,aa){p.log(z,Object.assign({www_event_flow:r.UI_FLOW_P2P_GROUP_SEND},aa));},_handleToggle:function(z){if(!z){this.props.onClose();this.log(q.UI_ACTN_3RD_PARTY_NON_ENABLED_LOG_MESSAGE_CANCELLED);}},_handleOKClick:function(){this._handleToggle(false);},_handleCloseClick:function(){this._handleToggle(false);},render:function(){var z=g.messengerdotcom,aa=z?270:250,ba=t.createElement(h,null,t.createElement("div",null),t.createElement(o,{onClick:this._handleCloseClick}));return (t.createElement(l,{className:(("_45c8")+(z?' '+"_45c9":'')),layerHideOnBlur:false,onToggle:this._handleToggle,shown:true,width:aa},t.createElement(m,null,!z?ba:null,t.createElement("div",{className:"_45ca"},t.createElement(k,{amount:i.sanitizeAmount(this.props.amount)})),t.createElement(s,{className:"_45cc",size:"small",type:"secondary"},v._("{sender name} wys\u0142a\u0142(a) {amount} u\u017cytkownikowi {receiver name}",[v.param("sender name",this.props.senderName),v.param("amount",this.props.amount),v.param("receiver name",this.props.receiverName)]),".")),t.createElement(n,null,t.createElement(j,{use:"confirm",size:"medium",label:v._("OK"),type:"primary",onClick:this._handleOKClick}))));}});e.exports=y;},null);
__d("XP2PTransactionDetailController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/p2p\/transaction\/",{id:{type:"String",required:true}});},null);
__d("P2PMercuryLogMessage.react",["CurrentEnvironment","CurrentUser","Link.react","MercuryIDs","P2PActions","P2PGKValues","P2PNonEnabledGroupReceiptDialog.react","P2PPaymentLogMessageSubtype","React","ReactLayeredComponentMixin","XP2PTransactionDetailController","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=o,u=t.PropTypes,v=o.createClass({displayName:"P2PMercuryLogMessage",mixins:[p],propTypes:{amount:u.string,receiver:u.object.isRequired,sender:u.object.isRequired,subtype:u.oneOf(Object.keys(n).map(function(w){return n[w];})),transferID:u.string.isRequired,threadFBID:u.string,threadID:u.string},getDefaultProps:function(){return {amount:'',sender:null,receiver:null,subtype:null};},getInitialState:function(){return {nonEnabledGroupReceiptDialogShown:false};},handleGroupDetailsLinkClicked:function(){k.chatSendViewOpened({threadID:this.props.threadID,groupThreadFBID:this.props.threadFBID,groupSendReceiptDetails:{amount:this.props.amount,receiverName:this.props.receiver.short_name,senderName:this.props.sender.short_name}});},handleNonEnabledGroupDetailsLinkClicked:function(){this.setState({nonEnabledGroupReceiptDialogShown:true});},_handleNonEnabledGroupDetailsDialogClosed:function(){this.setState({nonEnabledGroupReceiptDialogShown:false});},isViewerSender:function(){return (j.getUserIDFromParticipantID(this.props.sender.id)===h.getID());},isViewerReceiver:function(){return (j.getUserIDFromParticipantID(this.props.receiver.id)===h.getID());},renderTransferDetailsLink:function(){var w=(q.getURIBuilder()).setString('id',this.props.transferID).getURI();return (o.createElement(i,{className:"_kiq",href:w,target:"_blank"},s._("Zobacz szczeg\u00f3\u0142y")));},renderGroupDetailsLink:function(){return (o.createElement(i,{className:"_kiq",href:"#",onClick:this.handleGroupDetailsLinkClicked},s._("Zobacz szczeg\u00f3\u0142y")));},renderNonEnabledGroupDetailsLink:function(){return (o.createElement(i,{className:"_kiq",href:"#",onClick:this.handleNonEnabledGroupDetailsLinkClicked},s._("Zobacz szczeg\u00f3\u0142y")));},renderLayers:function(){var w={};if(this.state.nonEnabledGroupReceiptDialogShown)w.nonEnabledGroupReceiptDialog=o.createElement(m,{amount:this.props.amount,onClose:this._handleNonEnabledGroupDetailsDialogClosed,receiverName:this.props.receiver.short_name,senderName:this.props.sender.short_name});return w;},render:function(){var w=null,x=this.props.amount,y=this.props.subtype,z=this.isViewerSender(),aa=this.isViewerReceiver(),ba,ca=g.messengerdotcom?l.P2PGroupSendMessengerDotCom:l.P2PGroupSendWWW;if(!z&&!aa){if(ca){ba=this.renderGroupDetailsLink();}else ba=this.renderNonEnabledGroupDetailsLink();}else ba=this.renderTransferDetailsLink();switch(y){case n.SENT_IN_GROUP:w=(s._("Kwota {amount} zosta\u0142a wys\u0142ana przez u\u017cytkownika {sendername} u\u017cytkownikowi {receivername}. {details}.",[s.param("sendername",this.props.sender.short_name),s.param("amount",x),s.param("receivername",this.props.receiver.short_name),s.param("details",ba)]));break;case n.CANCELED_EXPIRED:case n.CANCELED_SAME_CARD:case n.CANCELED_SENDER_RISK:case n.CANCELED_RECIPIENT_RISK:case n.CANCELED_CUSTOMER_SERVICE:if(z){w=(s._("Twoja p\u0142atno\u015b\u0107 na kwot\u0119 {amount} zosta\u0142a anulowana. {details}",[s.param("amount",x),s.param("details",this.renderTransferDetailsLink())]));}else w=(s._("P\u0142atno\u015b\u0107 na kwot\u0119 {amount} od u\u017cytkownika {firstname} zosta\u0142a anulowana. {details}",[s.param("firstname",this.props.sender.short_name),s.param("amount",x),s.param("details",this.renderTransferDetailsLink())]));break;case n.CANCELED_DECLINED:if(z){w=(s._("{firstname} nie zaakceptowa\u0142(a) Twojej p\u0142atno\u015bci na kwot\u0119 {amount}. {details}",[s.param("firstname",this.props.receiver.short_name),s.param("amount",x),s.param("details",this.renderTransferDetailsLink())]));}else w=(s._("P\u0142atno\u015b\u0107 na kwot\u0119 {amount} od u\u017cytkownika {firstname} nie zosta\u0142a przez Ciebie zaakceptowana. {details}",[s.param("firstname",this.props.sender.short_name),s.param("amount",x),s.param("details",this.renderTransferDetailsLink())]));break;}return o.createElement("div",null,w);}});e.exports=v;},null);
__d("MercuryLogMessageRenderer",["MercuryAttachmentRenderer","MercuryCallLogMessage.react","CSS","DOM","HovercardLink","MercuryIDs","MercuryViewer","MercuryLogMessageType","MNCommerceLogMessageUtils","P2PMercuryLogMessage.react","MercuryParticipants","React","Image.react","TextWithEntities.react","TooltipLink.react","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();var y={renderText:function(qa,ra){switch(qa.log_message_type){case n.SUBSCRIBE:aa(qa,ra);break;case n.UNSUBSCRIBE:fa(qa,ra);break;case n.VIDEO_CALL:case n.PHONE_CALL:ha(qa,ra);break;case n.THREAD_NAME:ia(qa,ra);break;case n.THREAD_IMAGE:ja(qa,ra);break;case n.WALLPAPER:ka(qa,ra);break;case n.SERVER_ERROR:la(qa,ra);break;case n.ORION:ma(qa,ra);break;case n.PAGE_REPLY:ga(qa,ra);break;case n.GENERIC_ADMIN_TEXT:na(qa,ra);break;}},renderIcon:function(qa){return (r.createElement(s,{className:z(qa),src:x('images/spacer.gif')}));},renderLegacy:function(qa,ra,sa,ta){z(ta).split(' ').forEach(function(ua){return ua&&i.addClass(qa,ua);});this.renderText(ta,function(ua){r.render(r.createElement("span",null,ua),ra);});this.renderAttachmentLegacy(sa,ta);},renderAttachmentLegacy:function(qa,ra){if(ra.log_message_type==n.THREAD_IMAGE){var sa=ra.log_message_data.image;if(sa){var ta=g.renderPreview(sa.preview_url?sa:null);j.setContent(qa,ta);i.addClass(ta,"_z6a");i.show(qa);}}}};e.exports=y;function z(qa){var ra=qa.log_message_type,sa=qa.log_message_data;return (("_5wzu")+(ra==n.SUBSCRIBE?' '+"_5wzj":'')+(ra==n.UNSUBSCRIBE?' '+"_5wzk":'')+(ra==n.THREAD_NAME?' '+"_5wzl":'')+(ra==n.THREAD_IMAGE?' '+"_5wzm":'')+(ra==n.VIDEO_CALL&&sa.answered?' '+"_5wzn":'')+(ra==n.VIDEO_CALL&&!sa.answered?' '+"_5wzo":'')+(ra==n.PHONE_CALL&&sa.answered?' '+"_5wzp":'')+(ra==n.PHONE_CALL&&!sa.answered?' '+"_5wzq":'')+(ra==n.SERVER_ERROR?' '+"_5wzr":''));}function aa(qa,ra){var sa=pa(qa.log_message_data.added_participants);switch(sa.length){case 1:ba(qa,ra,sa);break;case 2:ca(qa,ra,sa);break;case 3:da(qa,ra,sa);break;default:ea(qa,ra,sa);break;}}function ba(qa,ra,sa){var ta=[qa.author,sa[0]];q.getMulti(ta,function(ua){if(qa.author==m.getID()){ra(w._("Doda\u0142e\u015b(a\u015b) u\u017cytkownika {subscriber1}.",[w.param("subscriber1",oa(ua[sa[0]]))]));}else if(sa[0]==m.getID()){ra(w._("{actor} doda\u0142(a) Ci\u0119.",[w.param("actor",oa(ua[qa.author]))]));}else ra(w._("{actor} doda\u0142(a) u\u017cytkownika {subscriber1}.",[w.param("actor",oa(ua[qa.author])),w.param("subscriber1",oa(ua[sa[0]]))]));});}function ca(qa,ra,sa){var ta=[qa.author].concat(sa);q.getMulti(ta,function(ua){if(qa.author==m.getID()){ra(w._("Doda\u0142e\u015b(a\u015b) u\u017cytkownik\u00f3w {subscriber1} i {subscriber2}.",[w.param("subscriber1",oa(ua[sa[0]])),w.param("subscriber2",oa(ua[sa[1]]))]));}else if(sa[0]==m.getID()){ra(w._("{actor} doda\u0142(a) Ciebie i u\u017cytkownika {subscriber2}.",[w.param("actor",oa(ua[qa.author])),w.param("subscriber2",oa(ua[sa[1]]))]));}else ra(w._("{actor} doda\u0142(a) u\u017cytkownik\u00f3w {subscriber1} i {subscriber2}.",[w.param("actor",oa(ua[qa.author])),w.param("subscriber1",oa(ua[sa[0]])),w.param("subscriber2",oa(ua[sa[1]]))]));});}function da(qa,ra,sa){var ta=[qa.author].concat(sa);q.getMulti(ta,function(ua){if(qa.author==m.getID()){ra(w._("Doda\u0142a\u015b u\u017cytkownik\u00f3w {subscriber1}, {subscriber2} i {subscriber3}.",[w.param("subscriber1",oa(ua[sa[0]])),w.param("subscriber2",oa(ua[sa[1]])),w.param("subscriber3",oa(ua[sa[2]]))]));}else if(sa[0]==m.getID()){ra(w._("{actor} doda\u0142(a) Ciebie i u\u017cytkownik\u00f3w {subscriber2} i {subscriber3}.",[w.param("actor",oa(ua[qa.author])),w.param("subscriber2",oa(ua[sa[1]])),w.param("subscriber3",oa(ua[sa[2]]))]));}else ra(w._("{actor} doda\u0142(a) u\u017cytkownik\u00f3w {subscriber1}, {subscriber2} i {subscriber3}.",[w.param("actor",oa(ua[qa.author])),w.param("subscriber1",oa(ua[sa[0]])),w.param("subscriber2",oa(ua[sa[1]])),w.param("subscriber3",oa(ua[sa[2]]))]));});}function ea(qa,ra,sa){var ta=[qa.author].concat(sa);q.getMulti(ta,function(ua){function va(xa){var ya=r.createElement("div",null,xa.map(function(za){return r.createElement("div",null,za.name);}));return (r.createElement(u,{alignH:"center",position:"above",tooltip:ya},w._({"*":"{num} innych os\u00f3b","268435456":"{num} inn\u0105 osob\u0119","536870912":"{num} inne osoby"},[w.param("num",xa.length,[0])])));}var wa=sa.map(function(xa){return ua[xa];});if(qa.author==m.getID()){ra(w._({"*":"Doda\u0142e\u015b(a\u015b) u\u017cytkownik\u00f3w {subscriber1}, {subscriber2} i {more_people}.","16777216":"Doda\u0142e\u015b u\u017cytkownik\u00f3w {subscriber1}, {subscriber2} i {more_people}.","33554432":"Doda\u0142a\u015b u\u017cytkownik\u00f3w {subscriber1}, {subscriber2} i {more_people}.","__vcg":1},[w.param("subscriber1",oa(wa[0])),w.param("subscriber2",oa(wa[1])),w.param("more_people",va(wa.slice(2)))]));}else if(sa[0]==m.getID()){ra(w._("{actor} doda\u0142(a) Ciebie, u\u017cytkownika {subscriber2} i {more_people}.",[w.param("actor",oa(ua[qa.author])),w.param("subscriber2",oa(wa[1])),w.param("more_people",va(wa.slice(2)))]));}else ra(w._("{actor} doda\u0142(a) u\u017cytkownik\u00f3w {subscriber1}, {subscriber2} i {more_people}.",[w.param("actor",oa(ua[qa.author])),w.param("subscriber1",oa(wa[0])),w.param("subscriber2",oa(wa[1])),w.param("more_people",va(wa.slice(2)))]));});}function fa(qa,ra){var sa=[qa.author],ta=qa.log_message_data.removed_participants,ua;if(ta.length===1){ua=ta[0];sa.push(ua);}q.getMulti(sa,function(va){var wa=va[qa.author],xa=va[ua];if(qa.author==m.getID()){if(!ua||ua==qa.author){ra(w._({"*":"Opu\u015bci\u0142e\u015b(a\u015b) konwersacj\u0119.","16777216":"Opu\u015bci\u0142e\u015b konwersacj\u0119.","33554432":"Opu\u015bci\u0142a\u015b konwersacj\u0119.","__vcg":1}));}else ra(w._("U\u017cytkownik {name} zosta\u0142 usuni\u0119ty z konwersacji.",[w.param("name",oa(xa))]));}else if(!ua||ua==qa.author){ra(w._("{actor} opu\u015bci\u0142(a) konwersacj\u0119.",[w.param("actor",oa(wa))]));}else if(ua==m.getID()){ra(w._("U\u017cytkownik {actor} usun\u0105\u0142 Ci\u0119 z konwersacji.",[w.param("actor",oa(wa))]));}else ra(w._("U\u017cytkownik {actor} usun\u0105\u0142 u\u017cytkownika {name} z konwersacji.",[w.param("actor",oa(wa)),w.param("name",oa(xa))]));});}function ga(qa,ra){if(o.isCommercePageAdminMessage(qa)){ra(o.getCommercePageUnlink(qa));}else ra(qa.log_message_body);}function ha(qa,ra){var sa=qa.log_message_data.caller,ta=qa.log_message_data.callee,ua=qa.log_message_data.answered,va=sa===m.getID(),wa=va?ta:sa;q.get(wa,function(xa){var ya=l.getUserIDFromParticipantID(xa.id),za=xa.short_name?xa.short_name:xa.name;ra(r.createElement(h,{peerFBID:ya,peerName:za,isAnswered:ua,isOutgoingCall:va}));});}function ia(qa,ra){var sa=qa.log_message_data.name;if(qa.author==m.getID()){if(sa){ra(w._("Nada\u0142e\u015b(a\u015b) konwersacji nazw\u0119: {name}.",[w.param("name",r.createElement("span",{className:"_5wzs"},r.createElement(t,{renderEmoticons:true,renderEmoji:true,text:sa})))]));}else ra(w._("Nazwa konwersacji zosta\u0142a usuni\u0119ta."));}else q.get(qa.author,function(ta){var ua=oa(ta);if(sa){ra(w._("{actor} nada\u0142(a) nazw\u0119 konwersacji: {name}.",[w.param("actor",ua),w.param("name",r.createElement("span",{className:"_5wzs"},sa))]));}else ra(w._("{actor} usun\u0105\u0142(\u0119\u0142a) nazw\u0119 konwersacji.",[w.param("actor",ua)]));});}function ja(qa,ra){if(qa.author==m.getID()){if(qa.log_message_data.image){ra(w._("Zmieni\u0142e\u015b(a\u015b) zdj\u0119cie konwersacji."));}else ra(w._("Obraz konwersacji zosta\u0142 usuni\u0119ty."));}else q.get(qa.author,function(sa){var ta=oa(sa);if(qa.log_message_data.image){ra(w._("{actor} zmieni\u0142(a) obraz konwersacji.",[w.param("actor",ta)]));}else ra(w._("{actor} usun\u0105\u0142(\u0119\u0142a) obraz konwersacji.",[w.param("actor",ta)]));});}function ka(qa,ra){if(qa.author==m.getID()){ra(w._("Tapeta zosta\u0142a zmieniona przez Ciebie."));}else q.get(qa.author,function(sa){var ta=oa(sa);ra(w._("{actor} zmieni\u0142(a) tapet\u0119.",[w.param("actor",ta)]));});}function la(qa,ra){ra(w._("Nie mo\u017cna znale\u017a\u0107 poprzednich wiadomo\u015bci."));}function ma(qa,ra){var sa=qa.log_message_data,ta=sa.senderId,ua=sa.receiverId;q.getMulti([ta,ua],function(va){ra(r.createElement(p,{amount:sa.formattedAmount,receiver:va[ua],sender:va[ta],subtype:sa.subtype,threadFBID:qa.thread_fbid,threadID:qa.thread_id,transferID:sa.transfer_id}));});}function na(qa,ra){ra(qa.log_message_body);}function oa(qa,ra){var sa=qa.fbid,ta=k.constructEndpoint({id:sa});if(qa.href)return (r.createElement("a",{className:"_5wzt",href:qa.href,"data-hovercard":ta},ra?qa.short_name:qa.name));return qa.name;}function pa(qa){var ra=qa.indexOf(m.getID());if(ra>0){var sa=qa.filter(function(ta){return ta!==m.getID();});return [m.getID()].concat(sa);}return qa;}},null);
__d("MercuryReadOnlyReason",["React","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={getReason:function(j){if(j.has_email_participant){return (h._("Przepraszamy, ale ta konwersacja nie jest ju\u017c aktywna, poniewa\u017c nie mo\u017cna ju\u017c przesy\u0142a\u0107 wiadomo\u015bci na adresy e-mail. Wiadomo\u015bci wysy\u0142ane na adresy poczty e-mail facebook.com b\u0119d\u0105 teraz przekazywane na podstawowe adresy e-mail, dlatego mo\u017cesz kontynuowa\u0107 t\u0119 konwersacj\u0119 za po\u015brednictwem poczty e-mail. {Learn more}.",[h.param("Learn more",g.createElement("a",{href:"/help/224049364288051"},h._("Dowiedz si\u0119 wi\u0119cej")))]));}else return (h._("Nie mo\u017cesz odpowiedzie\u0107 na t\u0119 konwersacj\u0119."));}};e.exports=i;},null);
__d("MercurySheetPolicy",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={canReplaceOpenSheet:function(h,i){if(h.isSheetWithInput&&h.isSheetWithInput())return i.getType()!=h.getType()&&i.isSheetWithInput&&i.isSheetWithInput();if(h.getType()==i.getType())return false;if(h.isPermanent()&&!i.isPermanent())return false;return true;}};e.exports=g;},null);
__d("MercurySheetView",["Animation","ArbiterMixin","MercurySheetPolicy","CSS","DOM","Style","MercurySheetTemplates","Vector","copyProperties","cx","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=5000,s=function(t,u,v){this._threadID=t;this._rootElement=u;this._tabMainElement=v;this._openSheet=null;};o(s.prototype,h,{destroy:function(){k.empty(this._rootElement);},_openCommon:function(t,u){if(this._openSheet&&!i.canReplaceOpenSheet(this._openSheet,t)){if(t.couldNotReplace)t.couldNotReplace();return;}this.clear(function(){this._openSheet=t;var v=m[':fb:mercury:tab-sheet:loading'].build().getRoot();k.setContent(this._rootElement,v);j.show(v);j.show(this._rootElement);t.render();if(u){j.addClass(this._tabMainElement,'sheetSlide');j.addClass(this._tabMainElement,"_1sk4");var w=n.getElementDimensions(this._rootElement).y;l.set(this._rootElement,'bottom',w+'px');this.resize();this._animation=new g(this._rootElement).to('bottom',0).duration(150).ease(g.ease.both).ondone(function(){j.removeClass(this._tabMainElement,'sheetSlide');j.removeClass(this._tabMainElement,"_1sk4");this.resize();}.bind(this)).go();}else this.resize();if(!t.isPermanent()){var x=r;if(t.getCloseTimeout)x=t.getCloseTimeout();var y=this.getAutoCloseCallback(t);this._sheetCloseHandler=q(this.close.bind(this,t,y),x);if(t.timeoutCanBeReset)t.setResetTimeoutCallback(this.resetTimeout.bind(this));}}.bind(this));},getAutoCloseCallback:function(t){if(!t.autoCloseCallback)return null;return t.autoCloseCallback.bind(t);},resetTimeout:function(t,u){clearTimeout(this._sheetCloseHandler);var v=this.getAutoCloseCallback(t);this._sheetCloseHandler=q(this.close.bind(this,t,v),u);},set:function(t){return this._openCommon(t,false);},open:function(t){return this._openCommon(t,true);},close:function(t,u){if(this._openSheet!=t)return;if(!this._openSheet){u&&u();return;}if(this._animation)this._animation.stop();if(this._sheetCloseHandler){clearTimeout(this._sheetCloseHandler);this._sheetCloseHandler=null;}j.addClass(this._tabMainElement,'sheetSlide');j.addClass(this._tabMainElement,"_1sk4");var v=n.getElementDimensions(this._rootElement).y;this.resize();this._animation=new g(this._rootElement).to('bottom',v+'px').duration(100).ease(g.ease.begin).ondone(function(){k.empty(this._rootElement);j.hide(this._rootElement);j.removeClass(this._tabMainElement,'sheetSlide');j.removeClass(this._tabMainElement,"_1sk4");this._openSheet=null;this.resize();u&&u();}.bind(this)).go();},clear:function(t){this.close(this._openSheet,t);},resize:function(){this.inform('resize');}});e.exports=s;},null);
__d("MercuryTypeahead",["Event","ArbiterMixin","DOM","DOMDimensions","Input","Keys","MercuryTypeaheadTemplates","Tokenizer","Typeahead","TypeaheadCore","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=function(t,u){this._domElement=null;this._typeahead=null;this._tokenizer=null;this._placeholder='';this._exclusions=[];this._viewNodeOrID=null;this._viewOptions={renderer:'compact',autoSelect:true};this._tokenizerBehaviors=[];this._heightPrev=null;this._dataSource=t;this._view=u;};q(s.prototype,h);q(s.prototype,{setPlaceholder:function(t){this._placeholder=t;return this;},setExcludedParticipantsFromThreadMeta:function(t){if(!t)return;if(!t.former_participants){this.setExcludedParticipants(t.participants);return;}var u=t.former_participants.filter(function(v){return v.is_friend===false;}).map(function(v){return v.id;});this.setExcludedParticipants(u.concat(t.participants));},setExcludedParticipants:function(t){this._exclusions=[];t.forEach(function(u){var v=u.indexOf(':');if(u.substr(0,v)=='fbid')this._exclusions.push(u.substr(v+1));}.bind(this));return this;},setViewNodeID:function(t){this._viewNodeOrID=t;},setViewNode:function(t){this._viewNodeOrID=t;},setFullWidthView:function(t){var u=i.create('div',{className:"_4ck uiTypeaheadView"});i.setContent(t,u);this.setViewNode(u);},setViewOption:function(t,u){this._viewOptions[t]=u;},addTokenizerBehavior:function(t){this._tokenizerBehaviors.push(t);},build:function(t){if(this._domElement)return;var u=m[':fb:mercury:tokenizer'].build(),v=m[':fb:mercury:typeahead'].build();this._domElement=u.getRoot();i.appendContent(this._domElement,v.getRoot());var w=v.getNode('textfield');k.setPlaceholder(w,this._placeholder);w.setAttribute('data-placeholder',this._placeholder);this._input=w;var x={node_id:this._viewNodeOrID,ctor:this._view,options:this._viewOptions},y={ctor:p,options:{setValueOnSelect:true}};this._typeahead=new o(this._dataSource,x,y,v.getRoot());this._typeahead.init();var z={inline:true,behaviors:this._tokenizerBehaviors};this._tokenizer=new n(this._domElement,this._typeahead);this._tokenizer.init(u.getNode('tokenarea'),'participants',[],z);this._tokenizer.subscribe(['addToken','removeToken','removeAllTokens'],this._tokensChanged.bind(this));this._tokenizer.subscribe('resize',function(){this.inform('resize');}.bind(this));g.listen(w,'focus',function(){this._resetDataSource();this._typeahead.init();}.bind(this));g.listen(this._domElement,'click',this.focus.bind(this));g.listen(w,'keydown',this.keydown.bind(this));this._heightPrev=j.getElementDimensions(this._domElement).height;},getElement:function(){return this._domElement;},getSelectedParticipantIDs:function(){var t=[];if(this._tokenizer)(this._tokenizer.getTokenValues()||[]).forEach(function(u){t.push('fbid:'+u);});return t;},getTokens:function(){var t=[];if(this._tokenizer)t=this._tokenizer.getTokens();return t;},getTokenizer:function(){return this._tokenizer;},keydown:function(event){if(this._tokenizer.inline&&event.keyCode==l.ESC){event.stopPropagation();if(k.isEmpty(this._input)){var t=this._tokenizer.getLastToken();if(t&&t.isRemovable()){this._tokenizer.removeToken(t);return;}}else{this._typeahead.getCore().reset();return;}this.inform('esc-pressed');return;}if(k.isEmpty(this._input)&&this._tokenizer.inline&&event.keyCode===l.RETURN){event.preventDefault();return this.inform('tokens-return');}},reset:function(){this._tokenizer&&this._tokenizer.removeAllTokens();this._typeahead&&this._typeahead.getCore().reset();},focus:function(){this._tokenizer&&this._tokenizer.focusInput();},getTypeahead:function(){return this._typeahead;},_resetDataSource:function(){this._dataSource.setExclusions(this._exclusions);},_tokensChanged:function(){this.inform('tokens-changed');}});e.exports=s;},null);
__d("XNFXStartForMessageThreadController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/nfx\/start_message_thread\/",{thread_fbid:{type:"String",required:true},responsible_fbid:{type:"Int"},av:{type:"Int"},location:{type:"Enum",enumType:1},__asyncDialog:{type:"Int"}});},null);