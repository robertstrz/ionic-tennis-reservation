/*!CK:2822274106!*//*1433782419,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["GzgHw"]); }

__d("CommentsPluginSentryAction",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={CONFIRM_POST_TO_PROFILE:"confirm_post_to_profile"};},null);
__d("DeveloperCommentsModerationSource",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={APP:"app",URL:"url"};},null);
__d("ActorBio.react",["React","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g,j=i.PropTypes,k=g.createClass({displayName:"ActorBio",propTypes:{stats:j.object.isRequired,preferredTypes:j.array.isRequired},renderLink:function(l){return 'url' in l?g.createElement("a",g.__spread({},this.props,{href:l.url}),l.name):g.createElement("span",null,l.name);},renderItem:function(l,m){var n;switch(l){case 'employer':if('position' in m){n=h._("{position} w firmie {employer}",[h.param("position",this.renderLink(m.position)),h.param("employer",this.renderLink(m))]);}else n=h._("Pracuje w firmie: {employer}",[h.param("employer",this.renderLink(m))]);break;case 'mutual_friend':n=h._("Znajomo\u015b\u0107 z u\u017cytkownikiem {user}",[h.param("user",this.renderLink(m))]);break;default:return this.renderLink(m);}return g.createElement("span",null,n);},render:function(){var l=this.props.stats,m=this.props.preferredTypes;for(var n=0;n<m.length;n++)for(var o=0;o<m[n].length;o++){var p=m[n][o];if(p in l)return this.renderItem(p,l[p]);}return g.createElement("span",null);}});e.exports=k;},null);
__d("DevxFluxDispatcher",["Dispatcher"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;function j(){if(g!==null)g.apply(this,arguments);}j.prototype.handleServerAction=function(k){this.$DevxFluxDispatcher0('serverAction',k);};j.prototype.handleViewAction=function(k){this.$DevxFluxDispatcher0('viewAction',k);};j.prototype.$DevxFluxDispatcher0=function(k,l){this.dispatch(Object.assign({source:k},l));};e.exports=new j();},null);
__d("DevxProxyActions",["DevxFluxDispatcher"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';function h(i){Object.keys(i.ActionHandler).forEach(function(j){this[j]=function(){for(var k=[],l=0,m=arguments.length;l<m;l++)k.push(arguments[l]);g.handleViewAction({action:j,args:k});};}.bind(this));}e.exports=h;},null);
__d("createEditorStateWithEntities",["DocumentCharacters","EditorState","applyEntityToContentBlock","createContentStateFromBlocks","createInitialEditorState","createPlainBlocksFromText"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=new RegExp(g.SOFT_NEWLINE,'ig');function n(o){var p=o,q=p.text,r=p.ranges,s=p.decorator,t=p.entityCreationFn,u=p.splitIntoBlocks,v=p.allowUndo,w,x;if(u===undefined)u=true;if(q){w=u?q.split(m):[q];x=[];var y=0;w.forEach(function(ba){x.push(y);y+=ba.length+1;});}else w=[''];var z=l(w);if(r&&r.length&&t)r.forEach(function(ba){var ca=t(ba.entity);if(ca===null)return;var da=ba.offset,ea,fa;for(var ga=0;ga<x.length;ga++){var ha=x[ga],ia=x[ga+1];if(ia===undefined||(da>=ha&&da<ia)){ea=z[ga];fa=da-ha;break;}}z[ga]=i(ea,fa,fa+ba.length,ca);});var aa=k(j(z),s);if(v===false)aa=h.set(aa,{allowUndo:false});return aa;}e.exports=n;},null);
__d("getVisibleValueForContentState",["ComposedEntityType","DocumentCharacters","DocumentEntity","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g.EMOTICON,l=h.SOFT_NEWLINE;function m(n){var o=n.getBlockMap().map(function(p){var q=p.getText(),r='';p.findEntityRanges(j.thatReturnsTrue,function(s,t){var u=p.getEntityAt(s);if(u===null){r+=q.slice(s,t);}else{var v=i.get(u);if(v.getType()===k){r+=v.getData().originalEmoticon;}else r+=q.slice(s,t);}});return r;});return o.join(l);}e.exports=m;},null);
__d("XDeveloperDocumentationController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/docs\/{?path1}\/{?path2}\/{?path3}\/{?path4}\/{?path5}\/{?path6}\/",{path:{type:"String"},preview:{type:"Exists",defaultValue:false},revisionid:{type:"Int"},locale:{type:"String"},path1:{type:"String"},path2:{type:"String"},path3:{type:"String"},path4:{type:"String"},path5:{type:"String"},path6:{type:"String"}});},null);
__d("CommentsPluginFooter.react",["ImageBlock.react","React","XDeveloperDocumentationController","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h.Component;for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(){if(k!==null)k.apply(this,arguments);}n.prototype.render=function(){return (h.createElement("div",{className:"_5lm5 _2pi3 _3-8y"},h.createElement(g,null,h.createElement("img",{src:"/images/like/icons/fav.png"}),h.createElement("a",{target:"_blank",href:i.getURIBuilder().setString('path1','plugins').setString('path2','comments').getURI().setSubdomain('developers')},"Facebook Comments Plugin"))));};e.exports=n;},null);
__d("XPluginCommentsBanAuthorAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/moderate\/ban\/{comment_id}\/",{comment_id:{type:"String",required:true}});},null);
__d("XPluginCommentsCreateCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/createComment\/{target_id}\/",{target_id:{type:"Int",required:true}});},null);
__d("XPluginCommentsCreateReplyAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/createReply\/{parent_comment_id}\/",{parent_comment_id:{type:"String",required:true}});},null);
__d("XPluginCommentsDeleteCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/delete\/",{});},null);
__d("XPluginCommentsEditCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/edit\/",{});},null);
__d("XPluginCommentsFlagCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/flag\/",{});},null);
__d("XPluginCommentsLikeCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/like\/",{action_like:{type:"Bool",defaultValue:false}});},null);
__d("XPluginCommentsHideCommentAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/moderate\/hide\/{url_id}\/",{url_id:{type:"Int",required:true},action:{type:"Enum",required:true,enumType:1},type:{type:"Enum",required:true,enumType:1}});},null);
__d("XPluginCommentsPagerAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/{target_id}\/pager\/{ordering}\/",{target_id:{type:"Int",required:true},ordering:{type:"Enum",required:true,enumType:1}});},null);
__d("XPluginCommentsRepliesPagerAsyncController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/async\/comment\/{comment_id}\/pager\/",{comment_id:{type:"String",required:true}});},null);
__d("CommentsPluginStore",["AsyncRequest","XPluginCommentsBanAuthorAsyncController","XPluginCommentsCreateCommentAsyncController","XPluginCommentsCreateReplyAsyncController","XPluginCommentsDeleteCommentAsyncController","DeveloperCommentsModerationAction","DeveloperCommentsModerationSource","DeveloperCommentsModerationType","DevxFluxDispatcher","DTSG","XPluginCommentsEditCommentAsyncController","XPluginCommentsFlagCommentAsyncController","XPluginCommentsLikeCommentAsyncController","XPluginCommentsHideCommentAsyncController","MultiLoginPopup","XPluginCommentsPagerAsyncController","XPluginCommentsRepliesPagerAsyncController","UnverifiedXD","fbt","getMentionsTextForContentState","getVisibleValueForContentState","invariant","mixInEventEmitter","nullthrows","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){b.__markCompiled&&b.__markCompiled();'use strict';var fa=10,ga='__DEVX__',ha={visibleValue:'',encodedValue:''},ia={change:true,composerChange:true,composerCommentAdded:true,login:true,moreCommentsCompleted:true,moreRepliesCompleted:true,postError:true,sortingCompleted:true,sentryAction:true},ja={maxLines:10,maxLength:1000},ka=[],la={},ma={userID:null,actors:{},appID:null,afterCursor:null,beforeCursor:null,channelURL:null,composerSearchSource:{},deeplinkedCommentID:null,href:'',iframeReferer:null,isMobile:false,isModerator:false,mirroredPage:null,moderateURL:null,targetFBID:null,totalCount:0,user:{}},na=false,oa={ordering:null},pa={},qa={},ra={setPostToFeed:true,sort:true,showMoreComments:true,showMoreReplies:true,toggleVisibility:true},sa={addComment:true};function ta(bb){ba(ab.hasOwnProperty(bb));}function ua(){ba(Array.isArray(ka));ba(la instanceof Object);}function va(bb,cb){if(!ra[bb]&&!za.isLoggedIn()){var db=sa[bb]?null:cb;u.login(null,null,y._("Zaloguj si\u0119, aby skomentowa\u0107"),{},wa.bind(null,db));return;}cb.call();}function wa(bb,cb){ma.user.id=cb.user;ma.user.uri=cb.profileUrl;ma.user.thumbSrc=cb.profilePic;ma.user.actorIDs=cb.actorIDs;if(cb.fbDtsg)p.setToken(cb.fbDtsg);bb&&bb.call();za.emit('change');za.emit('login');}function xa(bb,cb,db){return db.indexOf(bb)===cb;}function ya(bb,cb){if(!ma.channelURL)return;Object.assign(cb,{type:bb,href:ma.href});x.send(cb,ma.channelURL);}var za={LOGGED_OUT_USER:"0",getCommentIDs:function(){return ka;},getByID:function(bb){ua();return da(la)[bb];},isOptimisticComment:function(bb){return bb.id.startsWith(ga);},getCurrentSorting:function(){return da(oa.ordering);},getTargetFBID:function(){return da(ma.targetFBID);},getCommentsCount:function(){ua();return ma.totalCount;},getUser:function(){return ma.user;},getIframeReferer:function(){return ma.iframeReferer;},getAuthor:function(bb){return this.getByID(this.getByID(bb).authorID);},getPageSize:function(){return fa;},getCommentBodyTruncationLimits:function(){return ja;},getComposerSearchSource:function(){return ma.composerSearchSource;},getMirroredPage:function(){return ma.mirroredPage;},isMirrored:function(){return this.getMirroredPage()!=null;},isReply:function(bb){var cb=this.getByID(bb);return cb.targetID!==this.getTargetFBID();},setActor:function(bb){ma.user=ma.actors[bb];},getPostToFeed:function(){return na;},setPostToFeed:function(bb){na=bb;},setCreateComposerState:function(bb,cb){pa[cb||ga]=bb;this.emit('composerChange');},getCreateComposerState:function(bb){return pa[bb||ga];},getCreateComposerContent:function(bb){return this._editorStateToComposerPayload(this.getCreateComposerState(bb));},isEmptyCreateComposer:function(bb){return this.getCreateComposerContent(bb).visibleValue.trim()==='';},setEditComposerState:function(bb,cb){qa[cb]=bb;this.emit('composerChange');},getEditComposerState:function(bb){return qa[bb];},getEditComposerContent:function(bb){return this._editorStateToComposerPayload(this.getEditComposerState(bb));},isEmptyEditComposer:function(bb){return this.getEditComposerContent(bb).visibleValue.trim()==='';},_editorStateToComposerPayload:function(bb){if(!bb)return ha;var cb=bb.getCurrentContent(),db=aa(cb),eb=z(cb);return {visibleValue:db,encodedValue:eb};},getActorIDs:function(){return Object.keys(ma.actors);},getModerateURL:function(){return ma.moderateURL;},isLoggedIn:function(){return ma.user.id!==za.LOGGED_OUT_USER;},isMobile:function(){return ma.isMobile;},isViewerModerator:function(){return ma.isModerator;},hasUnloadedComments:function(){return !!ma.afterCursor;},hasUnloadedReplies:function(bb){var cb=this.getByID(bb).public_replies;if(!cb)return false;if(cb.afterCursor)return true;if((!cb.commentIDs||cb.commentIDs.length===0)&&cb.totalCount>0)return true;return false;},getUnloadedCommentsCount:function(){return ma.totalCount-ka.length;},dispatcherIndex:o.register(function(bb){var cb;ta(bb.action);va(bb.action,(cb=ab[bb.action]).bind.apply(cb,[ab].concat(bb.args)));}),init:function(bb,cb,db){ma=cb;this.updateCommentData(bb,db);Object.keys(ma.actors).forEach(function(eb){return la[eb]=ma.actors[eb];});this.setActor(ma.userID);},updateCommentData:function(bb,cb){ka=bb.commentIDs;la=this.initComments(ka,bb.idMap);oa.ordering=cb;},initComment:function(bb){bb.collapsed=false;bb.editor=false;bb.composer=false;bb.deleted=false;bb.flagged=false;return bb;},initComments:function(bb,cb){bb.forEach(function(db){return cb[db]=this.initComment(cb[db]);}.bind(this));return cb;},emit:((void 0)),addListener:((void 0)),removeCurrentListener:((void 0)),ActionHandler:((void 0))};ca(za,ia);var ab={ban:function(bb){var cb=za.getByID(bb);cb.deleted=true;za.emit('change');var db=h.getURIBuilder().setString('comment_id',bb).getURI();new g(db).setMethod('POST').setData({ban:true,source:m.URL}).send();},hide:function(bb){var cb=za.getByID(bb);cb.deleted=true;za.emit('change');var db=t.getURIBuilder().setInt('url_id',ma.targetFBID).setEnum('action',l.DELETE).setEnum('type',n.APPROVED).getURI();new g(db).setData({comment_ids:[bb]}).setMethod('POST').send();},addComment:function(){var bb=za.getCreateComposerContent(),cb=i.getURIBuilder().setInt('target_id',ma.targetFBID).getURI();new g(cb).setData({app_id:ma.appID,av:za.getUser().id,text:bb.encodedValue,post_to_feed:za.getPostToFeed(),iframe_referer:ma.iframeReferer}).setMethod('POST').setHandler(function(db){var eb=db.payload,fb=eb.commentID;this._prependComment(eb.idMap[fb]);delete pa[ga];za.emit('composerCommentAdded',{});ya('commentCreated',{commentID:fb,message:bb.visibleValue});if(eb.sentryAction)za.emit('sentryAction',eb.sentryAction,fb);}.bind(this)).setErrorHandler(function(db){delete la[ga];ka.shift();za.emit('change');za.emit('postError',db);}).send();this._prependComment({authorID:ma.user.id,targetID:ma.targetFBID,body:{text:bb.visibleValue}});},addReply:function(bb){var cb=za.getCreateComposerContent(bb),db=j.getURIBuilder().setString('parent_comment_id',bb).getURI(),eb=ga+ea();new g(db).setData({app_id:ma.appID,av:za.getUser().id,text:cb.encodedValue,iframe_referer:ma.iframeReferer,replied_to:za.getByID(bb).replyToCommentID}).setMethod('POST').setHandler(function(hb){var ib=za.getByID(bb),jb=Object.assign({},ib.public_replies);Object.assign(la,hb.payload.idMap);ib=za.getByID(bb);ib.public_replies=jb;delete la[eb];delete pa[bb];ka.splice(ka.indexOf(eb),1);ib.composer=false;delete ib.replyToCommentID;ib.public_replies.commentIDs.pop();ib.public_replies.commentIDs.push(hb.payload.commentID);ya('commentCreated',{commentID:hb.payload.commentID,parentCommentID:bb,message:cb.visibleValue});za.emit('change');}).setErrorHandler(function(hb){delete la[eb];ka.splice(ka.indexOf(eb),1);fb=za.getByID(bb);fb.public_replies.commentIDs.pop();fb.public_replies.totalCount--;fb.composer=false;delete fb.replyToCommentID;za.emit('change');za.emit('postError',hb);}).send();var fb=za.getByID(bb),gb=Object.assign({},fb.public_replies);if(!gb.commentIDs)gb.commentIDs=[];if(!gb.totalCount)gb.totalCount=0;gb.totalCount++;gb.commentIDs.push(eb);fb.public_replies=gb;la[eb]={authorID:ma.user.id,body:{text:cb.visibleValue},targetID:bb,id:eb};ka.push(eb);za.emit('change');},_prependComment:function(bb){if(!bb.id){bb.id=ga;}else{ka.shift();delete la[ga];}ka.unshift(bb.id);la[bb.id]=za.initComment(bb);za.emit('change');},edit:function(bb){za.getByID(bb).editor=true;za.emit('change');},saveEdit:function(bb){var cb=JSON.parse(JSON.stringify(za.getByID(bb))),db=q.getURIBuilder().getURI(),eb=za.getEditComposerContent(bb);new g(db).setMethod('POST').setData({app_id:ma.appID,text:eb.encodedValue,comment_id:bb,av:za.getAuthor(bb).id,iframe_referer:ma.iframeReferer}).setHandler(function(gb){var hb=gb.payload;la[hb.commentID]=za.initComment(hb.idMap[hb.commentID]);delete qa[bb];za.emit('change');}).setErrorHandler(function(gb){cb.editor=false;Object.assign(za.getByID(bb),cb);za.emit('change');za.emit('postError',gb);}).send();var fb=za.getByID(bb);fb.editor=false;fb.body.text=eb.visibleValue;delete fb.ranges;za.emit('change');},cancelEdit:function(bb){var cb=za.getByID(bb);cb.editor=false;za.emit('change');},"delete":function(bb){var cb=za.getByID(bb);cb.deleted=true;var db=k.getURIBuilder().getURI();new g(db).setData({app_id:ma.appID,comment_id:bb,av:za.getAuthor(bb).id,iframe_referer:ma.iframeReferer}).setMethod('POST').setHandler(function(){return ya('commentRemoved',{commentID:bb});}).setErrorHandler(function(eb){var fb=za.getByID(bb);fb.deleted=false;za.emit('change');}).send();za.emit('change');},like:function(bb){var cb=za.getByID(bb),db=s.getURIBuilder().setBool('action_like',!cb.hasLiked).getURI();new g(db).setData({app_id:ma.appID,comment_id:cb.id,iframe_referer:ma.iframeReferer}).setMethod('POST').setHandler(function(eb){var fb=eb.payload;Object.assign(la[fb.commentID],za.initComment(fb.idMap[fb.commentID]));za.emit('change');}).setErrorHandler(function(eb){cb.likeCount--;cb.hasLiked=false;za.emit('postError',eb);}).send();cb.hasLiked=!cb.hasLiked;if(cb.hasLiked){cb.likeCount++;}else if(cb.likeCount>0)cb.likeCount--;la[cb.id]=cb;za.emit('change');},sort:function(bb){var cb=v.getURIBuilder().setInt('target_id',ma.targetFBID).setEnum('ordering',bb).getURI();new g(cb).setMethod('POST').setData({app_id:ma.appID,limit:za.getPageSize(),iframe_referer:ma.iframeReferer}).setHandler(function(db){var eb=db.payload;ma.afterCursor=eb.afterCursor;za.updateCommentData(eb,bb);za.emit('sortingCompleted');za.emit('change');}).send();},showMoreComments:function(){var bb=v.getURIBuilder().setInt('target_id',ma.targetFBID).setEnum('ordering',za.getCurrentSorting()).getURI();new g(bb).setMethod('POST').setData({app_id:ma.appID,after_cursor:ma.afterCursor,limit:za.getPageSize(),deeplinked_comment_id:ma.deeplinkedCommentID,iframe_referer:ma.iframeReferer}).setHandler(function(cb){var db=cb.payload;ma.afterCursor=db.afterCursor;ka=ka.concat(db.commentIDs).filter(xa);la=Object.assign(la,za.initComments(db.commentIDs,db.idMap));za.emit('moreCommentsCompleted');za.emit('change');}).setErrorHandler(function(cb){za.emit('postError',cb);za.emit('moreCommentsCompleted');}).send();},setUser:function(bb){za.setActor(bb);za.emit('composerChange');},setPostToFeed:function(bb){za.setPostToFeed(bb);},showMoreReplies:function(bb){var cb=w.getURIBuilder().setString('comment_id',bb).getURI(),db=za.getByID(bb).public_replies;new g(cb).setMethod('POST').setData({app_id:ma.appID,after_cursor:db.afterCursor,limit:za.getPageSize(),iframe_referer:ma.iframeReferer}).setHandler(function(eb){var fb=eb.payload;la=Object.assign(za.initComments(fb.commentIDs,fb.idMap),la);db.afterCursor=fb.afterCursor;db.commentIDs=db.commentIDs.concat(fb.commentIDs).filter(xa);za.emit('moreRepliesCompleted',{commentID:bb});za.emit('change');}).setErrorHandler(function(eb){za.emit('postError',eb);za.emit('moreRepliesCompleted',{commentID:bb});}).send();},toggleVisibility:function(bb){var cb=za.getByID(bb);cb.collapsed=!cb.collapsed;za.emit('change');},flag:function(bb){la[bb].flagged=true;this._sendFlagOrUnflagRequest(bb,'flag');za.emit('change');},unflag:function(bb){la[bb].flagged=false;this._sendFlagOrUnflagRequest(bb,'unflag');za.emit('change');},_sendFlagOrUnflagRequest:function(bb,cb){var db=r.getURIBuilder().getURI();new g(db).setData({app_id:ma.appID,comment_id:bb,iframe_referer:ma.iframeReferer,unflag:cb==='unflag'}).setMethod('POST').setErrorHandler(function(eb){la[bb].flagged=!la[bb].flagged;za.emit('postError',eb);}).send();},showReplyComposer:function(bb){var cb=za.getByID(bb);if(za.isReply(bb)){var db=bb;cb=za.getByID(cb.targetID);cb.replyToCommentID=db;}cb.composer=true;za.emit('change');},cancelReply:function(bb){var cb=za.getByID(bb);cb.composer=false;delete cb.replyToCommentID;za.emit('change');}};za.ActionHandler=ab;e.exports=za;},null);
__d("CommentsPluginActions",["CommentsPluginStore","DevxProxyActions"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';e.exports=new h(g);},null);
__d("CommentsPluginHeader.react",["CommentsPluginActions","CommentsPluginStore","DeveloperCommentsPluginOrdering","LeftRight.react","Link.react","React","XUISelector.react","XUISpinner.react","XUIText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=m.Option,s=l.Component;for(var t in s)if(s.hasOwnProperty(t))v[t]=s[t];var u=s===null?null:s.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=s;function v(w,x){this.state={sorting:false};var y=this;y.$CommentsPluginHeader0=this.$CommentsPluginHeader0.bind(this);}v.prototype.$CommentsPluginHeader0=function(event){this.setState({sorting:true});h.addListener('sortingCompleted',function(){this.setState({sorting:false});h.removeCurrentListener();}.bind(this));g.sort(event.value);};v.prototype.render=function(){var w=null;if(h.getModerateURL())w=l.createElement("span",null,l.createElement("span",{className:"_52bm"},"|"),l.createElement(k,{href:h.getModerateURL(),target:"_blank"},q._("Moderation Tool")));return (l.createElement(j,{className:"_491z"},l.createElement("span",null,l.createElement(o,{weight:"bold"},h.getCommentsCount()!==1?q._("{count} Comments",[q.param("count",h.getCommentsCount())]):q._("1 Comment")),w),l.createElement("div",null,this.state.sorting?l.createElement(n,{size:"small",className:"_3-90"}):null,l.createElement("span",{className:"_pup"},q._("Sort by")),' ',l.createElement(m,{initialValue:h.getCurrentSorting(),onChange:this.$CommentsPluginHeader0},i.__types.map(function(x){return l.createElement(r,{value:x,key:x},i.__labels[x]);})))));};e.exports=v;},null);
__d("CommentsPluginAction",["fbt"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h={EDIT:'edit',DELETE:'delete',FLAG:'flag',UNFLAG:'unflag',BAN:'ban',HIDE:'hide',COLLAPSE:'collapse',SHOW:'show',getLabel:function(i){switch(i){case h.COLLAPSE:return g._("Collapse comment");case h.SHOW:return g._("Show comment");case h.EDIT:return g._("Edit comment");case h.DELETE:return g._("Delete comment");case h.FLAG:return g._("Flag comment");case h.UNFLAG:return g._("Unflag comment");case h.BAN:return g._("Ban user");case h.HIDE:return g._("Hide comment");}},getMenuActions:function(){return [h.COLLAPSE,h.SHOW,h.EDIT,h.DELETE,h.FLAG,h.UNFLAG,h.BAN,h.HIDE];}};e.exports=h;},null);
__d("MixinCommentsPluginConfirmAction",["CommentsPluginAction","CommentsPluginActions","React","Set","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s={requiresConfirmation:function(t){var u=new j([g.DELETE,g.BAN,g.HIDE]);return u.has(t);},confirmAction:function(t){this.setState({actionConfirmationShown:true,action:t});},_onActionConfirmed:function(){h[this.state.action](this.props.commentID);this.setState({actionConfirmationShown:false});},_onActionCancelled:function(){this.setState({actionConfirmationShown:false});},_getActionMetadata:function(t){switch(t){case g.DELETE:return {body:q._("Are you sure you want to delete this comment?"),button_label:q._("Confirm Delete")};case g.BAN:return {body:q._("Are you sure you want to ban this user?"),button_label:q._("Confirm Ban")};case g.HIDE:return {body:q._("Are you sure you want to hide this comment?"),button_label:q._("Confirm Hide")};default:r(false);}},renderActionConfirmationDialog:function(t){var u=this.state.action;if(!u)return null;var v=this._getActionMetadata(u);return (i.createElement(k,{shown:this.state.actionConfirmationShown,width:t},i.createElement(p,{showCloseButton:false},g.getLabel(u)),i.createElement(l,null,v.body),i.createElement(o,null,i.createElement(n,{onClick:this._onActionCancelled}),i.createElement(m,{use:"confirm",label:v.button_label,onClick:this._onActionConfirmed}))));}};e.exports=s;},null);
__d("CommentsPluginCommentActions.react",["ActionList.react","CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","Image.react","Link.react","MixinCommentsPluginConfirmAction","React","UFICommentMetadata.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=n,s=r.PropTypes,t=n.createClass({displayName:"CommentsPluginCommentActions",mixins:[m],propTypes:{commentID:s.string.isRequired},getInitialState:function(){return {deleteConfirmationShown:false,action:null};},_onLikeAction:function(){i.like(this.props.commentID);},_onReply:function(){i.showReplyComposer(this.props.commentID);},_onFlag:function(){i.flag(this.props.commentID);},_getLikeActionElem:function(u){if(!u.canLike&&j.isLoggedIn())return null;return (n.createElement(l,{onClick:this._onLikeAction},u.hasLiked?q._("Unlike"):q._("Like")));},render:function(){var u=j.getByID(this.props.commentID);return (n.createElement(g,{className:"_2vq9"},this._getLikeActionElem(u),n.createElement(l,{onClick:this._onReply},q._("Reply")),j.isMobile()?u.canEdit?n.createElement(l,{onClick:this.confirmAction.bind(this,h.DELETE)},q._("Delete")):n.createElement(l,{onClick:this._onFlag},q._("Flag")):null,u.likeCount?n.createElement("span",null,n.createElement(k,{src:"/images/ufi/fbfeed/like.png",className:"_3-8_ _4iy4"}),u.likeCount):null,n.createElement(o,{comment:u,permalink:u.permalink,shortenTimestamp:true,showPermalink:!j.isReply(this.props.commentID),permalinkTarget:"_parent"}),j.isMobile()?this.renderActionConfirmationDialog(320):null));}});e.exports=t;},null);
__d("CommentsPluginComposerMirroringNotice.react",["CommentsPluginStore","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=h,l=k.PropTypes,m=h.Component;for(var n in m)if(m.hasOwnProperty(n))p[n]=m[n];var o=m===null?null:m.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=m;function p(){if(m!==null)m.apply(this,arguments);}p.prototype.render=function(){var q=g.getMirroredPage();if(!q)return null;return (h.createElement("div",{className:"_5sge _2ph-"},q.name?j._("Your {comment or reply} may also appear on {page name}'s Facebook Page.",[j.param("comment or reply",this.props.isReply?'reply':'comment'),j.param("page name",h.createElement("a",{href:q.uri,target:"blank"},q.name))]):j._("Your {comment or reply} may also appear on Facebook.",[j.param("comment or reply",this.props.isReply?'reply':'comment')])));};p.propTypes={isReply:l.bool};e.exports=p;},null);
__d("CommentsPluginProfilePicture.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g,j=i.PropTypes,k=g.Component;for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(){if(k!==null)k.apply(this,arguments);}n.prototype.render=function(){return (g.createElement("a",g.__spread({},this.props,{href:this.props.href}),g.createElement("img",{className:((!this.props.isReply?"_1ci":'')+(this.props.isReply?' '+"_1cj":'')),src:this.props.src})));};n.propTypes={href:j.string.isRequired,src:j.string.isRequired,isReply:j.bool};e.exports=n;},null);
__d("CommentsPluginComposer.react",["CommentsPluginStore","CommentsPluginComposerMirroringNotice.react","CommentsPluginProfilePicture.react","ComposedEntityMutability","ComposedEntityType","DocumentEntity","EditorState","MentionsInput.react","React","UFIImageBlock.react","UFICommentUtils.react","XUITypeaheadView.react","createEditorStateWithEntities","createEmptyEditorState","cx","fbt","getMentionsInputDecorator","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();'use strict';var y=o,z=y.PropTypes;function aa(fa){return l.create(k.MENTION,j.IMMUTABLE,{id:fa.id});}var ba=o.Component;for(var ca in ba)if(ba.hasOwnProperty(ca))ea[ca]=ba[ca];var da=ba===null?null:ba.prototype;ea.prototype=Object.create(da);ea.prototype.constructor=ea;ea.__superConstructor__=ba;function ea(fa,ga){ba.call(this,fa,ga);this.state=this.$CommentsPluginComposer0();var ha=this;ha.$CommentsPluginComposer1=this.$CommentsPluginComposer1.bind(this);ha.$CommentsPluginComposer2=this.$CommentsPluginComposer2.bind(this);}ea.prototype.$CommentsPluginComposer0=function(){var fa=null,ga=null;if(this.props.editCommentID){ga=g.getByID(this.props.editCommentID);fa=s({text:ga.body.text,ranges:q.shallowCopyRanges(ga.ranges).filter(function(ja){return !ja.entity.external;}),decorator:w(),entityCreationFn:aa});}else if(this.props.parentCommentIDOfNewReply){ga=g.getByID(this.props.parentCommentIDOfNewReply);if(ga.replyToCommentID&&g.getAuthor(ga.replyToCommentID).id!==g.getUser().id){var ha=g.getAuthor(ga.replyToCommentID),ia={id:ha.id,text:ha.name,offset:0,length:ha.name.length,entity:{id:ha.id}};fa=m.moveFocusToEnd(s({text:ha.name+' ',ranges:[ia],decorator:w(),entityCreationFn:aa}));}}if(!fa)fa=t(w());return {editorState:fa,expanded:!!this.props.alwaysExpanded};};ea.prototype.$CommentsPluginComposer3=function(){return !this.props.editCommentID&&!this.props.parentCommentIDOfNewReply;};ea.prototype.componentDidMount=function(){g.addListener('composerCommentAdded',function(event){if(this.$CommentsPluginComposer3()){var fa=this.$CommentsPluginComposer0();fa.expanded=true;this.setState(fa);}}.bind(this));if(!this.$CommentsPluginComposer3())this.refs.composer.focus();};ea.prototype.$CommentsPluginComposer1=function(fa){this.setState({editorState:fa});if(this.props.editCommentID){g.setEditComposerState(fa,this.props.editCommentID);}else g.setCreateComposerState(fa,this.props.parentCommentIDOfNewReply);};ea.prototype.$CommentsPluginComposer4=function(){if(this.props.editCommentID)return g.isReply(this.props.editCommentID);return !!this.props.parentCommentIDOfNewReply;};ea.prototype.$CommentsPluginComposer2=function(){this.setState({expanded:true});};ea.prototype.render=function(){var fa=this.props.editCommentID?g.getAuthor(this.props.editCommentID):fa=g.getUser(),ga=this.props.placeholder||v._("Add a comment..."),ha=this.$CommentsPluginComposer4();return (o.createElement(p,{spacing:"medium",className:x((("_4uyl")+(ha?' '+"_1zz6":'')+(!this.state.expanded?' '+"_1zz7":'')+(!!this.state.expanded?' '+"_1zz8":'')),this.props.className)},g.isMobile()?o.createElement("div",null):o.createElement(i,{href:fa.uri,src:fa.thumbSrc,isReply:ha,target:"_blank"}),o.createElement("div",null,o.createElement(n,{className:(("_1cb")+(this.props.readOnly?' '+"_5pu_":'')),editorState:this.state.editorState,mentionsSource:g.getComposerSearchSource(),onChange:this.$CommentsPluginComposer1,onFocus:this.$CommentsPluginComposer2,placeholder:ga,readOnly:this.props.readOnly,typeaheadView:r,ref:"composer"}),this.state.expanded?o.createElement("div",{className:"_4uym"},o.createElement(h,{isReply:ha}),this.props.children):null)));};ea.propTypes={editCommentID:z.string,parentCommentIDOfNewReply:z.string,readOnly:z.bool,placeholder:z.node,alwaysExpanded:z.bool};e.exports=ea;},null);
__d("CommentsPluginComposerEdit.react",["CommentsPluginActions","CommentsPluginComposer.react","CommentsPluginStore","React","XUIButton.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=j,o=n.PropTypes,p=j.Component;for(var q in p)if(p.hasOwnProperty(q))s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t,u){p.call(this,t,u);this.state={waitingAsyncResponse:false};var v=this;v.$CommentsPluginComposerEdit0=this.$CommentsPluginComposerEdit0.bind(this);v.$CommentsPluginComposerEdit1=this.$CommentsPluginComposerEdit1.bind(this);this.$CommentsPluginComposerEdit2=null;}s.prototype.componentDidMount=function(){this.$CommentsPluginComposerEdit2=i.addListener('composerChange',function(){return this.forceUpdate();}.bind(this));};s.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerEdit2)this.$CommentsPluginComposerEdit2.remove();};s.prototype.$CommentsPluginComposerEdit0=function(){this.setState({waitingAsyncResponse:true});g.saveEdit(this.props.commentID);};s.prototype.$CommentsPluginComposerEdit1=function(){g.cancelEdit(this.props.commentID);};s.prototype.$CommentsPluginComposerEdit3=function(){return (this.state.waitingAsyncResponse||i.isEmptyEditComposer(this.props.commentID));};s.prototype.render=function(){return (j.createElement(h,{alwaysExpanded:true,readOnly:this.state.waitingAsyncResponse,editCommentID:this.props.commentID},j.createElement("div",{className:"_5tr6 clearfix _2ph_"},j.createElement(k,{disabled:this.$CommentsPluginComposerEdit3(),label:m._("Save"),use:"confirm",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit0}),j.createElement(k,{disabled:this.state.waitingAsyncResponse,label:m._("Cancel"),use:"default",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerEdit1})),this.props.children));};s.propTypes={commentID:o.string.isRequired};e.exports=s;},null);
__d("CommentsPluginMenu.react",["CommentsPluginAction","CommentsPluginActions","CommentsPluginStore","Image.react","MixinCommentsPluginConfirmAction","ReactXUIMenu","PopoverMenu.react","React","Tooltip","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=n,s=r.PropTypes,t=l.Item,u=n.createClass({displayName:"CommentsPluginMenu",mixins:[k],propTypes:{commentID:s.string.isRequired},getInitialState:function(){return {opened:false,actionConfirmationShown:false,action:null};},_onMenuShow:function(){this.setState({opened:true});},_onMenuHide:function(){this.setState({opened:false});},_toggleVisibility:function(){h.toggleVisibility(this.props.commentID);},_onAction:function(v,event){var w=event.item.getValue();if(this.requiresConfirmation(w)){this.confirmAction(w);}else if(w===g.SHOW||w===g.COLLAPSE){this._toggleVisibility();}else h[w](this.props.commentID);},_getMenuItem:function(v,w){var x=i.isReply(w.id);switch(v){case g.DELETE:case g.EDIT:if(!w.canEdit)return null;break;case g.FLAG:if(w.canEdit||w.collapsed||w.flagged)return null;break;case g.UNFLAG:if(w.canEdit||!w.flagged)return null;break;case g.SHOW:if(x||!w.collapsed)return null;break;case g.COLLAPSE:if(x||w.collapsed||w.flagged)return null;break;case g.BAN:case g.HIDE:if(!i.isViewerModerator())return null;break;default:break;}return (n.createElement(t,{value:v,key:v},g.getLabel(v)));},render:function(){var v=i.getByID(this.props.commentID);return (n.createElement("div",null,n.createElement(m,{alignh:"right",onShow:this._onMenuShow,onHide:this._onMenuHide,menu:n.createElement(l,{onItemClick:this._onAction},g.getMenuActions().map(function(w){return this._getMenuItem(w,v);}.bind(this)))},n.createElement("a",null,n.createElement(j,n.__spread({},o.propsFor(p._("Menu")),{src:q('/images/plugins/comments/chevron-down.png')})))),this.renderActionConfirmationDialog(400)));},isOpen:function(){return this.state.opened;}});e.exports=u;},null);
__d("CommentsPluginAuthorSelector.react",["ActorSelector.react","CommentsPluginActions","CommentsPluginStore","React","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=j.Component;for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(p,q){this.state={selectedActorID:i.getUser().id};var r=this;r.$CommentsPluginAuthorSelector0=this.$CommentsPluginAuthorSelector0.bind(this);}o.prototype.$CommentsPluginAuthorSelector0=function(p){this.setState({selectedActorID:p.value});h.setUser(p.value);};o.prototype.$CommentsPluginAuthorSelector1=function(p){return (k._("Commenting as {actorName}",[k.param("actorName",p)]));};o.prototype.render=function(){var p=i.getActorIDs();return (p.length>1?j.createElement("div",{className:this.props.className},j.createElement(g,{actorIDs:p,coverEnabled:false,selectedActorID:this.state.selectedActorID,onChange:this.$CommentsPluginAuthorSelector0,tooltipConstructor:this.$CommentsPluginAuthorSelector1})):null);};e.exports=o;},null);
__d("CommentsPluginComposerReply.react",["CommentsPluginActions","CommentsPluginAuthorSelector.react","CommentsPluginComposer.react","CommentsPluginStore","React","XUIButton.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=k,p=o.PropTypes,q=k.Component;for(var r in q)if(q.hasOwnProperty(r))t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u,v){q.call(this,u,v);this.state={waitingAsyncResponse:false};var w=this;w.$CommentsPluginComposerReply0=this.$CommentsPluginComposerReply0.bind(this);w.$CommentsPluginComposerReply1=this.$CommentsPluginComposerReply1.bind(this);this.$CommentsPluginComposerReply2=null;}t.prototype.componentDidMount=function(){this.$CommentsPluginComposerReply2=j.addListener('composerChange',function(){return this.forceUpdate();}.bind(this));};t.prototype.componentWillUnmount=function(){if(this.$CommentsPluginComposerReply2)this.$CommentsPluginComposerReply2.remove();};t.prototype.$CommentsPluginComposerReply0=function(){this.setState({waitingAsyncResponse:true});g.addReply(this.props.commentID);};t.prototype.$CommentsPluginComposerReply1=function(){g.cancelReply(this.props.commentID);};t.prototype.$CommentsPluginComposerReply3=function(){return (this.state.waitingAsyncResponse||j.isEmptyCreateComposer(this.props.commentID));};t.prototype.render=function(){return (k.createElement(i,{alwaysExpanded:true,readOnly:this.state.waitingAsyncResponse,parentCommentIDOfNewReply:this.props.commentID,placeholder:n._("Add a reply...")},k.createElement("div",{className:"_5tr6 clearfix _2ph_"},k.createElement(l,{disabled:this.$CommentsPluginComposerReply3(),label:n._("Reply"),use:"confirm",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerReply0}),k.createElement(l,{disabled:this.state.waitingAsyncResponse,label:n._("Cancel"),use:"default",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerReply1}),k.createElement(h,{className:"rfloat"}))));};t.propTypes={commentID:p.string.isRequired};e.exports=t;},null);
__d("CommentsPluginComment.react",["ActorBio.react","CenteredContainer.react","CommentsPluginActions","CommentsPluginCommentActions.react","CommentsPluginComposerEdit.react","CommentsPluginProfilePicture.react","CommentsPluginMenu.react","CommentsPluginComposerReply.react","CommentsPluginStore","HovercardLinkInterpolator","Link.react","Image.react","React","TruncatedTextWithEntities.react","UFIActor.react","UFICommentUtils.react","UFIImageBlock.react","XUIGrayText.react","XUISpinner.react","XUIText.react","cx","fbt","joinClasses","nullthrows","xuiglyph"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){b.__markCompiled&&b.__markCompiled();'use strict';var fa=s,ga=fa.PropTypes,ha=s.Component;for(var ia in ha)if(ha.hasOwnProperty(ia))ka[ia]=ha[ia];var ja=ha===null?null:ha.prototype;ka.prototype=Object.create(ja);ka.prototype.constructor=ka;ka.__superConstructor__=ha;function ka(pa,qa){ha.call(this,pa,qa);this.state={showMenu:false};var ra=this;ra.$CommentsPluginComment0=this.$CommentsPluginComment0.bind(this);ra.$CommentsPluginComment1=this.$CommentsPluginComment1.bind(this);}ka.prototype.$CommentsPluginComment0=function(){this.setState({showMenu:true});};ka.prototype.$CommentsPluginComment1=function(){if(!this.refs.menu||!this.refs.menu.isOpen())this.setState({showMenu:false});};ka.prototype.render=function(){var pa=da(o.getByID(this.props.commentID));if(pa.deleted)return null;if(pa.editor)return (s.createElement("div",{className:"_3-8y"},s.createElement(k,{commentID:this.props.commentID}),s.createElement(oa,{commentID:this.props.commentID,className:"_3j_p"})));var qa=v.shallowCopyRanges(pa.ranges),ra=v.getCommentTextWithTruncatedURIs(qa,pa.body.text),sa=null;if(pa.collapsed||pa.flagged){sa=s.createElement("div",{className:"_5mlf"},s.createElement(x,{shade:"light"},ba._("This comment is {action}",[ba.param("action",pa.collapsed?'collapsed':'flagged')])));}else sa=ra?s.createElement(t,s.__spread({className:"_5mdd",text:ra,ranges:qa,interpolator:function(xa,ya){return p(xa,ya,'_blank');}},o.getCommentBodyTruncationLimits(),{renderEmoticons:true,renderEmoji:true})):null;var ta=da(o.getByID(pa.authorID)),ua=o.isOptimisticComment(pa),va=o.isReply(this.props.commentID),wa=o.isMobile();return (s.createElement(w,{className:(("_3-8y")+(!va?' '+"_5nz1":'')),spacing:"medium",onMouseEnter:this.$CommentsPluginComment0,onMouseLeave:this.$CommentsPluginComment1},s.createElement(l,{href:ta.uri,src:ta.thumbSrc,isReply:va,target:"_blank"}),s.createElement("div",null,s.createElement(u,{author:ta,delimiter:wa?' ':undefined,key:"author",showHovercard:!wa,target:"_blank"},ta.bio?s.createElement("div",{className:"_4q1v"},s.createElement(g,{target:"_blank",preferredTypes:ta.bio.preferredTypes,stats:ta.bio.stats})):null),s.createElement("div",{className:"_3-8m"},sa),ua||pa.collapsed||pa.flagged?null:s.createElement(j,{commentID:this.props.commentID}),s.createElement(oa,{commentID:this.props.commentID})),s.createElement("div",null,this.state.showMenu&&!ua&&!wa?s.createElement(m,{ref:"menu",commentID:this.props.commentID}):null)));};ka.propTypes={commentID:ga.string.isRequired};var la=s.Component;for(var ma in la)if(la.hasOwnProperty(ma))oa[ma]=la[ma];var na=la===null?null:la.prototype;oa.prototype=Object.create(na);oa.prototype.constructor=oa;oa.__superConstructor__=la;function oa(pa,qa){la.call(this,pa,qa);this.state={loading:false};var ra=this;ra.$CommentsPluginCommentReplies0=this.$CommentsPluginCommentReplies0.bind(this);}oa.prototype.$CommentsPluginCommentReplies0=function(){this.setState({loading:true});o.addListener('moreRepliesCompleted',function(event){if(this.props.commentID===event.commentID){this.setState({loading:false});o.removeCurrentListener();}}.bind(this));i.showMoreReplies(this.props.commentID);};oa.prototype.render=function(){var pa=o.getByID(this.props.commentID),qa=pa.public_replies;if(qa===undefined||pa.collapsed===true||pa.flagged)return pa.composer?s.createElement("div",{className:ca("_44ri _2pis _3-8y",this.props.className)},s.createElement(n,{commentID:this.props.commentID})):null;if(!qa.commentIDs)qa.commentIDs=[];var ra=qa.totalCount-qa.commentIDs.length,sa=o.getPageSize(),ta=ra<sa?ra:sa;return (s.createElement("div",{className:ca("_44ri _2pis",this.props.className)},qa.commentIDs.map(function(ua){if(ua===this.props.commentID)return null;return s.createElement(ka,{commentID:ua,key:ua});}.bind(this)),o.hasUnloadedReplies(this.props.commentID)&&ra>0?s.createElement("div",{className:"_5yct _3-8y _3-96 _2ph-"},this.state.loading?s.createElement(h,null,s.createElement(y,{size:"small"})):s.createElement(q,{onClick:this.$CommentsPluginCommentReplies0},s.createElement(z,{size:"small",weight:"bold"},ta===1?ba._("Show 1 more reply in this thread"):ba._("Show {number of replies} more replies in this thread",[ba.param("number of replies",ta)])),s.createElement(r,{src:ea({name:'triangle-down'})}))):null,pa.composer?s.createElement("div",{className:"_3-8y"},s.createElement(n,{commentID:this.props.commentID})):null));};oa.propTypes={commentID:ga.string.isRequired};e.exports=ka;},null);
__d("CommentsPluginLoadMore.react",["CenteredContainer.react","CommentsPluginActions","CommentsPluginStore","React","XUIButton.react","XUISpinner.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=j.Component;for(var p in o)if(o.hasOwnProperty(p))r[p]=o[p];var q=o===null?null:o.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=o;function r(s,t){o.call(this,s,t);this.state={loading:false};var u=this;u.$CommentsPluginLoadMore0=this.$CommentsPluginLoadMore0.bind(this);}r.prototype.$CommentsPluginLoadMore0=function(){h.showMoreComments();this.setState({loading:true});i.addListener('moreCommentsCompleted',function(){this.setState({loading:false});i.removeCurrentListener();}.bind(this));};r.prototype.render=function(){var s=i.getUnloadedCommentsCount();if(!i.hasUnloadedComments()||s<1)return null;if(this.state.loading)return (j.createElement(g,{className:"_ndl"},j.createElement(l,{size:"large"})));var t=i.getPageSize(),u=s<t?s:t;return (j.createElement("div",{className:"_5o4h"},j.createElement(k,{className:"_1gl3",role:"button",onClick:this.$CommentsPluginLoadMore0,label:u===1?n._("Load 1 more comment"):n._("Load {pagesize} more comments",[n.param("pagesize",u)])})));};e.exports=r;},null);
__d("CommentsPluginListing.react",["CommentsPluginComment.react","CommentsPluginLoadMore.react","CommentsPluginStore","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=j.Component;for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(){if(l!==null)l.apply(this,arguments);}o.prototype.render=function(){var p=i.getCommentIDs(),q=p.map(function(r){return j.createElement(g,{commentID:r,key:r});});return (j.createElement("div",{className:"_4k-6"},q,j.createElement(h,null)));};e.exports=o;},null);
__d("CommentsPluginComposerComment.react",["CommentsPluginActions","CommentsPluginAuthorSelector.react","CommentsPluginComposer.react","CommentsPluginStore","InputLabel.react","LeftRight.react","React","XUIButton.react","XUICheckboxInput.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=m.Component;for(var s in r)if(r.hasOwnProperty(s))u[s]=r[s];var t=r===null?null:r.prototype;u.prototype=Object.create(t);u.prototype.constructor=u;u.__superConstructor__=r;function u(v,w){this.state={selectedActorID:j.getUser().id,postToFeed:false,waitingAsyncResponse:false};var x=this;x.$CommentsPluginComposerComment0=this.$CommentsPluginComposerComment0.bind(this);x.$CommentsPluginComposerComment1=this.$CommentsPluginComposerComment1.bind(this);}u.prototype.componentDidMount=function(){j.addListener('composerChange',function(){return this.forceUpdate();}.bind(this));j.addListener('composerCommentAdded',function(){this.setState({waitingAsyncResponse:false});}.bind(this));j.addListener('login',function(){this.setState({waitingAsyncResponse:false});}.bind(this));};u.prototype.$CommentsPluginComposerComment1=function(event){var v=!this.state.postToFeed;this.setState({postToFeed:v});g.setPostToFeed(v);};u.prototype.$CommentsPluginComposerComment2=function(){var v=this.state.selectedActorID;if(v!==j.LOGGED_OUT_USER)return v;return j.getUser().id;};u.prototype.$CommentsPluginComposerComment0=function(){this.setState({waitingAsyncResponse:true});g.setPostToFeed(this.state.postToFeed);g.addComment();};u.prototype.$CommentsPluginComposerComment3=function(){return (this.state.waitingAsyncResponse||j.isEmptyCreateComposer());};u.prototype.render=function(){var v=j.isLoggedIn()?q._("Post"):q._("Log In to Post");return (m.createElement(i,{className:"_2392",readOnly:this.state.waitingAsyncResponse},m.createElement(l,{className:"_5tr6 clearfix _2ph-"},!j.isMirrored()?m.createElement(k,{className:"_1u0n"},m.createElement(o,{checked:this.state.postToFeed,onChange:this.$CommentsPluginComposerComment1}),m.createElement("label",{className:"_3-99 _2ern _50f8 _5kx5"},q._("Also post on Facebook"))):m.createElement("span",null),m.createElement("span",null,m.createElement(n,{disabled:this.$CommentsPluginComposerComment3(),label:v,use:"confirm",className:"rfloat _3-99",onClick:this.$CommentsPluginComposerComment0}),m.createElement(h,{className:"rfloat"})))));};e.exports=u;},null);
__d("XPluginCommentsConfirmPostToFacebookAsyncDialogController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/plugins\/comments\/{comment_id}\/async\/confirm\/publish\/dialog\/",{comment_id:{type:"String",required:true},__asyncDialog:{type:"Int"}});},null);
__d("CommentsPlugin.react",["AsyncDialog","AsyncRequest","CommentsPluginFooter.react","CommentsPluginHeader.react","CommentsPluginListing.react","CommentsPluginComposerComment.react","CommentsPluginStore","XPluginCommentsConfirmPostToFacebookAsyncDialogController","DOMQuery","PluginResize","React","CommentsPluginSentryAction","SimpleXUIDialog","cx","fbt","getElementPosition","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=q,y=x.PropTypes,z=q.Component;for(var aa in z)if(z.hasOwnProperty(aa))ca[aa]=z[aa];var ba=z===null?null:z.prototype;ca.prototype=Object.create(ba);ca.prototype.constructor=ca;ca.__superConstructor__=z;function ca(){if(z!==null)z.apply(this,arguments);}ca.prototype.componentWillMount=function(){m.init(this.props.comments,this.props.meta,this.props.initialOrdering);m.addListener('postError',function(da){s.show(!!da.errorSummary?da.errorSummary:u._("Wyst\u0105pi\u0142 b\u0142\u0105d. Spr\u00f3buj ponownie p\u00f3\u017aniej."));});m.addListener('sentryAction',function(da,ea){switch(da){case r.CONFIRM_POST_TO_PROFILE:var fa=n.getURIBuilder().setString('comment_id',ea).getURI();g.send(new h(fa).setData({iframe_referer:m.getIframeReferer()}));break;default:break;}});};ca.prototype.componentDidMount=function(){p.auto(q.findDOMNode(this));var da=q.findDOMNode(this);new p(function(){return da.offsetWidth;},function(){var ea=da.offsetHeight;if(m.getCommentsCount()>1)return ea;var fa=o.scry(document.body,'.uiLayer:not(.hidden_elem) .uiContextualLayer');if(fa.length===0)return ea;var ga=v(fa[0]);return Math.max(ea,ga.y+ga.height+1);},'resize.iframe',false).resize().auto();m.addListener('change',function(){this.forceUpdate();}.bind(this));};ca.prototype.render=function(){return (q.createElement("div",{className:w("_56q9",this.props.className)},q.createElement("div",{className:"_2pi8"},q.createElement(j,null),q.createElement(l,null),q.createElement(k,null),q.createElement(i,null))));};ca.propTypes={comments:y.object.isRequired,meta:y.object.isRequired,initialOrdering:y.string.isRequired};e.exports=ca;},null);