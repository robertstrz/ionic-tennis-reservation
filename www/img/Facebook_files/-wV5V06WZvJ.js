/*!CK:1141495114!*//*1434123744,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["PtCab"]); }

__d("CurationToggleButton",["CSS","cx","Event","SaveState","SaveStateHandler","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m="_vu",n="_vv";function o(p,q,r,s,t){"use strict";this.$CurationToggleButton0=false;this.$CurationToggleButton1=t;l([i.listen(q,'click',this.setSaving.bind(this)),i.listen(q,'error',this.setUnsaved.bind(this)),i.listen(r,'click',this.setUnsaving.bind(this)),i.listen(r,'error',this.setSaved.bind(this))]);k.listen(s,function(u){switch(u){case j.SAVING:g.addClass(p,m);g.addClass(p,n);r.setAttribute('rel','');this.$CurationToggleButton0=true;break;case j.SAVED:g.addClass(p,m);g.removeClass(p,n);r.setAttribute('rel','async-post');this.$CurationToggleButton0=false;break;case j.UNSAVING:g.removeClass(p,m);g.addClass(p,n);q.setAttribute('rel','');this.$CurationToggleButton0=true;break;case j.UNSAVED:g.removeClass(p,m);g.removeClass(p,n);q.setAttribute('rel','async-post');this.$CurationToggleButton0=false;break;}}.bind(this));}o.prototype.setSaving=function(){"use strict";if(!this.$CurationToggleButton0)k.saving(this.$CurationToggleButton1);};o.prototype.setUnsaving=function(){"use strict";if(!this.$CurationToggleButton0)k.unsaving(this.$CurationToggleButton1);};o.prototype.setSaved=function(){"use strict";k.saved(this.$CurationToggleButton1);};o.prototype.setUnsaved=function(){"use strict";k.unsaved(this.$CurationToggleButton1);};e.exports=o;},null);
__d("VertexScaledImageWithFallback",["CSS","DOMQuery"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();e.exports={handleFallback:function(i,j){var k=h.find(i,'img'),l=new Image(),m=function(n){if(l.width<=1||l.height<=1){g.hide(i);g.show(j);}}.bind(this);l.onload=m;l.onerror=m;l.src=k.src;}};},null);