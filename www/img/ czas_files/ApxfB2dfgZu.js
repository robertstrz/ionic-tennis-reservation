/*!CK:2878862244!*//*1433972993,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["PJOe4"]); }

__d("AdminSignatureConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={SETTING_ATTACH_TO_POST:"shouldAttachToPost",SETTING_ATTACH_TO_COMMENT:"shouldAttachToComment",SETTING_ATTACH_TO_MESSAGE:"shouldAttachToMessage",SETTING_EVER_PROMPTED:"everPromptedUser",SETTING_SIGNATURE_TEXT:"signature",FIELD_PAGE_ID:"pageID",FIELD_SIGNATURE_OPTION_FIELD:"signatureOption",FIELD_SIGNATURE_OPTION_VALUE_FIELD:"signatureOptionValue",FIELD_SIGNATURE_TEXT_FIELD:"signatureText",EVENT_ADMIN_SIGNATURE_PROMPTED:"AdminSignature\/prompted",EVENT_ADMIN_SIGNATURE_SETTING_CHANGED:"AdminSignatureSetting\/changed"};},null);
__d("ChatPerfEvent",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ASYNC_REQUEST:"async_request",SIDEBAR_FROM_CLIENT_TTI:"sidebar_from_client_tti",SIDEBAR_FROM_SERVER_TTI:"sidebar_from_server_tti",TTI:"tti",CHAT_CONVERSATION_TTI:"chat_conversation_tti"};},null);
__d("PagesPrivateReplyConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={Status:{REPLYABLE:"replyable",ALREADY_REPLIED:"already_replied",RECIPIENT_FILTER:"recipient_filter",EXPIRED:"expired",NOT_USER_CREATED:"not_user_created"},Type:{COMMENT_PAGE_POST:"comment_page_post",COMMENT_WALL_POST:"comment_wall_post",COMMENT_REVIEW:"comment_review",REVIEW:"review",WALL_POST:"wall_post"}};},null);
__d("ShareNowCounterEvent",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={SHARE_NOW_NOT_AVAILABLE:"share_now_not_available",OPEN_SHARE_NOW:"open_share_now",OPEN_DIALOG:"open_dialog",OPEN_MESSAGE_DIALOG:"open_mesage_dialog",SHARE_CREATED:"share_created",SHARE_NOW_CREATED:"share_now_created",SHARE_ERROR:"share_error",SHARE_INVOKE_ERROR:"share_invoke_error",SHARE_INVOKED:"share_invoked",SHARE_BOOTLOADED:"share_bootloaded",SHARE_POST:"share_post",SHARE_POST_ERROR:"share_post_error",SHARE_POST_SUCCESS:"share_post_success",NO_FOOTER_REF:"no_footer_ref",NO_PRIVACY_NODE:"no_privacy_node",NO_PRIVACY_REF:"no_privacy_ref",NO_PRIVACY_VALUE:"no_privacy_value",NO_PRIVACY_VALUE_ADAMA:"no_privacy_value_adama",SHARE_POST_OWN:"share_post_own",SHARE_POST_PERSON:"share_post_person",SHARE_POST_PAGE:"share_post_page",SHARE_POST_GROUP:"share_post_group",SHARE_POST_MESSAGE:"share_post_message",SHARE_ERROR_OWN:"share_error_own",SHARE_ERROR_PERSON:"share_error_person",SHARE_ERROR_PAGE:"share_error_page",SHARE_ERROR_GROUP:"share_error_group",SHARE_ERROR_MESSAGE:"share_error_message",SHARE_CREATED_OWN:"share_created_own",SHARE_CREATED_PERSON:"share_created_person",SHARE_CREATED_PAGE:"share_created_page",SHARE_CREATED_GROUP:"share_created_group",SHARE_CREATED_MESSAGE:"share_created_message"};},null);
__d("StickerConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},ActionTypes:{ADD_PACK:"ADD_PACK",REMOVE_PACK:"REMOVE_PACK",SELECT_PACK:"SELECT_PACK",RESET_NUM_NEW_PACKS:"RESET_NUM_NEW_PACKS"},EMOTICON_PACK_ID:"1471127876485636",DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120};},null);
__d("StickerInterfaces",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={MESSAGES:"messages",COMMENTS:"comments",STICKERED:"stickered",COMPOSER:"composer"};},null);
__d("TrackingNodeTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={HEADLINE:1,USER_NAME:2,ACTOR_PHOTO:3,ACTION_LINKS:4,LIKE_LINK:5,UNLIKE_LINK:6,PARTICIPANT:7,PRONOUN:8,ROBOTEXT:9,TITLE:10,MEDIA_GENERIC:11,PHOTO:12,VIDEO:13,MUSIC:14,ATTACHMENT:15,NAME_LIST:16,SHARE_LINK:17,USER_MESSAGE:18,SUBTITLE:19,DESCRIPTION:20,SOURCE:21,BLINGBOX:22,OTHER:23,VIEW_ALL_COMMENTS:24,COMMENT:25,COMMENT_LINK:26,SMALL_ACTOR_PHOTO:27,SUBSTORY:28,XBUTTON:29,HIDE_LINK:30,REPORT_SPAM_LINK:31,HIDE_ALL_LINK:32,BAD_AGGREGATION_LINK:33,ADD_COMMENT_BOX:34,APP_CALL_TO_ACTION:35,UFI:36,OG_LEFT_SLIDE_PAGER:37,OG_RIGHT_SLIDE_PAGER:38,EXP_CALL_TO_ACTION:39,LARGE_MEDIA_ATTACHMENT:40,FAN_PAGE:42,UNFAN_PAGE:43,SEE_MORE:44,COLLECTION_ROBOTEXT_LINK:45,COLLECTION_ACTION_LINK:46,COLLECTION_TICKER_LINK:47,SPONSORED_LINK:49,PAGE_LINK:50,SOCIAL_CONTEXT:51,SOCIAL_ACTOR_PHOTO:52,OFFERS_CLAIM:53,OFFERS_CLICK:54,DROPDOWN_BUTTON:55,EVENT_VIEW:56,EVENT_RSVP:57,ADS_SHIMMED_LINK:58,COLLECTION_ADD_BUTTON:59,EVENT_INVITE_FRIENDS:60,RHC_AD:61,AD_CREATIVE_TITLE:62,AD_CREATIVE_BODY:63,AD_CREATIVE_IMAGE:64,AD_SOCIAL_SENTENCE:65,APP_NAME:66,GROUP_JOIN:67,PAGE_COVER_PHOTO:68,PAGE_PROFILE_PIC:69,AD_IDENTITY:70,UNHIDE_LINK:71,TRENDING_TOPIC_LINK:72,RELATED_SHARE_ARTICLE:73,OFFERS_USE_NOW:74,RELATED_SHARE_VIDEO:75,RHC_CARD:76,RHC_CARD_HIDE:77,RHC_SIMPLIFICATION:78,RHC_SIMPLIFICATION_HIDE:79,TOPIC_PIVOT_HEADER:80,ADD_FRIEND_BUTTON:81,SNOWLIFT:82,SNOWLIFT_MESSAGE:83,OFFERS_RESEND:84,RHC_LINK_OPEN:85,GENERIC_CALL_TO_ACTION_BUTTON:86,AD_LOGOUT:87,RHC_PHOTO_SLIDER:88,RHC_COMMENT_BUTTON:89,HASHTAG:90,NOTE:91,RELATED_SHARE_ARTICLE_HIDE:92,RELATED_SHARE_VIDEO_HIDE:93,NEKO_PREVIEW:94,OG_COMPOSER_OBJECT:95,INSTALL_ACTION:96,SPONSORED_CONTEXT:97,DIGITAL_GOOD:98,STORY_FOOTER:99,STORY_LOCATION:100,ADD_PHOTO_ACTION:101,ACTION_ICON:102,EGO_FEED_UNIT:103,PLACE_STAR_SURVEY:104,REVIEW_MENU:105,SAVE_ACTION:106,PHOTO_GALLERY:107,SUB_ATTACHMENT:108,FEEDBACK_SECTION:109,ALBUM:110,ALBUM_COLLAGE:111,AVATAR_LIST:112,STORY_LIST:113,MEDIA_CONTROLS:114,ZERO_UPSELL_BUY:115,ZERO_UPSELL_FEED_UNIT:116,RATING:117,PERMALINK_COMMENT:118,LIKE_COUNT:119,RETRY_BUTTON:120,TIMELINE_GIFTS:121,NEARBY_FRIENDS_LIST:122,PRESENCE_UNIT:123,EVENT_INVITE_SENT:124,ATTACHMENT_TITLE:125,HSCROLL_PAGER:126,STORY_MESSAGE:127,STATUS_LINK:128,ADD_MEDIA_LINK:129,ADD_QUESTION_LINK:130,START_Q_AND_A_LINK:131,UPLOAD_FILE_LINK:132,START_CONVERSATION_LINK:133,ATTACH_LIFE_EVENT_LINK:134,ATTACH_PLACE_LINK:135,COVER_PHOTO_EDIT_LINK:136,SHOW_LIKES:137,ROTATE_LEFT_BUTTON:138,ROTATE_RIGHT_BUTTON:139,TAG_LINK:140,CLOSE_BUTTON:141,PAGER_NEXT:142,PAGER_PREVIOUS:143,FULLSCREEN_BUTTON:144,ACTIONS:145,CURATION_MENU:146,PROFILE_PIC_EDIT_LINK:147,VIEW_ALL_SHARES:148,THUMBNAIL_LINK:149,EDIT_HISTORY:150,ADD_TO_THREAD:151,SIDEBAR:152,HOME_SIDENAV:153,BUDDYLIST_NUB:154,TITLEBAR:155,SEND_BUTTON:156,CONVERSATION:157,CHAT_FLYOUT:158,INPUT:159,EMOTICONS:160,VIDEOCHAT:161,TYPEAHEAD:162,OPTIONS_MENU:163,BOOST_POST_BUTTON:164,TOGGLE_BUTTON:165,CHAT_SIDEBAR_FOOTER:166,GRIPPER:167,BOOKMARK_ITEM:168,BOOKMARKS_SECTION:169,BOOKMARKS_NAV:170,RHC:171,RHC_HEADER:172,SIDE_ADS:173,BUDDY_LIST:174,SHOW_ADS_FEED:184,VIDEO_IN_PLAY_CALL_TO_ACTION_BUTTON:185,VIDEO_ENDSCREEN_CALL_TO_ACTION_BUTTON:186,INLINE_PHOTO_PIVOTS_HIDE:187,VIDEO_CALL_TO_ACTION_ENDSCREEN_REPLAY:188,APP_ATTACHMENT:189,ACTIVITY_LINK:190,SAVE_BUTTON:191,SEE_MORE_PHOTO_PAGE_POST_BUTTON:192,BUY_VIRTUAL_GOOD:193,SAVE_SECONDARY_MENU:194,MPP_INSIGHTS:195,WAP_FOOTER:196,GROUP_CANCEL:197,GROUP_LEAVE:198,MESSAGE_LINK:199,VIDEO_SPONSORSHIP_LABEL:200,MULTI_ATTACHMENT_PAGER_NEXT:201,MULTI_ATTACHMENT_PAGER_PREV:202,WEB_CLICK:203,COMPOSER_POST:204,MULTI_ATTACHMENT_VIDEO:205,UNUSED:-1};},null);
__d("UFITranslationConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={BING_PAGE_URL:"http:\/\/bing.com\/translator",BING_TRANSLATOR_APP:"bing",FB_TRANSLATOR_APP:"fb",FB_AND_BING_TRANSLATOR_APP:"fb_and_bing"};},null);
__d("toIterator",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g='key',h='value',i='key+value',j=(typeof Symbol==='function')?Symbol.iterator:'@@iterator',k=(function(){if(!(Array.prototype[j]&&String.prototype[j])){return (function(){function l(o,p){"use strict";if(!Array.isArray(o))throw new TypeError('Object is not an Array');this.$ArrayIterator0=o;this.$ArrayIterator1=p;this.$ArrayIterator2=0;}l.prototype.next=function(){"use strict";if(!this instanceof l)throw new TypeError('Object is not an ArrayIterator');if(this.$ArrayIterator0==null)return n((void 0),true);var o=this.$ArrayIterator0,p=this.$ArrayIterator0.length,q=this.$ArrayIterator2,r=this.$ArrayIterator1;if(q>=p){this.$ArrayIterator0=(void 0);return n((void 0),true);}this.$ArrayIterator2=q+1;if(r===g){return n(q,false);}else if(r===h){return n(o[q],false);}else if(r===i)return n([q,o[q]],false);};l.prototype["@@iterator"]=function(){"use strict";return this;};function m(o){"use strict";if(typeof o!=='string')throw new TypeError('Object is not a string');this.$StringIterator0=o;this.$StringIterator1=0;}m.prototype.next=function(){"use strict";if(!this instanceof m)throw new TypeError('Object is not a StringIterator');if(this.$StringIterator0==null)return n((void 0),true);var o=this.$StringIterator1,p=this.$StringIterator0,q=p.length;if(o>=q){this.$StringIterator0=(void 0);return n((void 0),true);}var r,s=p.charCodeAt(o);if(s<55296||s>56319||o+1===q){r=p[o];}else{var t=p.charCodeAt(o+1);if(t<56320||t>57343){r=p[o];}else r=p[o]+p[o+1];}this.$StringIterator1=o+r.length;return n(r,false);};m.prototype["@@iterator"]=function(){"use strict";return this;};function n(o,p){return {value:o,done:p};}return function(o,p){if(typeof o==='string'){return new m(o);}else if(Array.isArray(o)){return new l(o,p||h);}else return o[j]();};})();}else return function(l){return l[j]();};})();Object.assign(k,{KIND_KEY:g,KIND_VALUE:h,KIND_KEY_VAL:i,ITERATOR_SYMBOL:j});e.exports=k;},null);
__d("_shouldPolyfillES6Collection",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(j){var k=a[j];if(k==null)return true;var l=k.prototype;return k==null||typeof k!=='function'||typeof l.clear!=='function'||new k().size!==0||typeof l.keys!=='function'||typeof l.forEach!=='function'||i(k)||!h(k);}function h(j){for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(){"use strict";if(j!==null)j.apply(this,arguments);}try{var o=(new m([]));o.size;return o instanceof j;}catch(n){return false;}}function i(j){try{j();}catch(k){return false;}return true;}e.exports=g;},null);
__d("Map",["guid","isNode","toIterator","_shouldPolyfillES6Collection"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();e.exports=(function(k,l){if(!j('Map'))return k.Map;var m='key',n='value',o='key+value',p='$map_',q,r='IE_HASH_';function s(da){"use strict";if(!x(this))throw new TypeError('Wrong map object type.');w(this);if(da!=null){var ea=i(da),fa;while(!(fa=ea.next()).done){if(!x(fa.value))throw new TypeError('Expected iterable items to be pair objects.');this.set(fa.value[0],fa.value[1]);}}}s.prototype.clear=function(){"use strict";w(this);};s.prototype.has=function(da){"use strict";var ea=u(this,da);return !!(ea!=null&&this._mapData[ea]);};s.prototype.set=function(da,ea){"use strict";var fa=u(this,da);if(fa!=null&&this._mapData[fa]){this._mapData[fa][1]=ea;}else{fa=this._mapData.push([da,ea])-1;v(this,da,fa);this.size+=1;}return this;};s.prototype.get=function(da){"use strict";var ea=u(this,da);if(ea==null){return l;}else return this._mapData[ea][1];};s.prototype["delete"]=function(da){"use strict";var ea=u(this,da);if(ea!=null&&this._mapData[ea]){v(this,da,l);this._mapData[ea]=l;this.size-=1;return true;}else return false;};s.prototype.entries=function(){"use strict";return new t(this,o);};s.prototype.keys=function(){"use strict";return new t(this,m);};s.prototype.values=function(){"use strict";return new t(this,n);};s.prototype.forEach=function(da,ea){"use strict";if(typeof da!=='function')throw new TypeError('Callback must be callable.');var fa=da.bind(ea||l),ga=this._mapData;for(var ha=0;ha<ga.length;ha++){var ia=ga[ha];if(ia!=null)fa(ia[1],ia[0],this);}};s.prototype[i.ITERATOR_SYMBOL]=s.prototype.entries;function t(da,ea){"use strict";if(!(x(da)&&da._mapData))throw new TypeError('Object is not a map.');if([m,o,n].indexOf(ea)===-1)throw new Error('Invalid iteration kind.');this._map=da;this._nextIndex=0;this._kind=ea;}t.prototype.next=function(){"use strict";if(!this instanceof s)throw new TypeError('Expected to be called on a MapIterator.');var da=this._map,ea=this._nextIndex,fa=this._kind;if(da==null)return y(l,true);var ga=da._mapData;while(ea<ga.length){var ha=ga[ea];ea+=1;this._nextIndex=ea;if(ha)if(fa===m){return y(ha[0],false);}else if(fa===n){return y(ha[1],false);}else if(fa)return y(ha,false);}this._map=l;return y(l,true);};t.prototype[i.ITERATOR_SYMBOL]=function(){return this;};function u(da,ea){if(x(ea)){var fa=ca(ea);return da._objectIndex[fa];}else{var ga=p+ea;if(typeof ea==='string'){return da._stringIndex[ga];}else return da._otherIndex[ga];}}function v(da,ea,fa){var ga=fa==null;if(x(ea)){var ha=ca(ea);if(ga){delete da._objectIndex[ha];}else da._objectIndex[ha]=fa;}else{var ia=p+ea;if(typeof ea==='string'){if(ga){delete da._stringIndex[ia];}else da._stringIndex[ia]=fa;}else if(ga){delete da._otherIndex[ia];}else da._otherIndex[ia]=fa;}}function w(da){da._mapData=[];da._objectIndex={};da._stringIndex={};da._otherIndex={};da.size=0;}function x(da){return da!=null&&(typeof da==='object'||typeof da==='function');}function y(da,ea){return {value:da,done:ea};}var z=(function(){try{Object.defineProperty({},'__.$#x',{});return true;}catch(da){return false;}})();function aa(da){if(!z){return true;}else return Object.isExtensible(da);}function ba(da){var ea;switch(da.nodeType){case 1:ea=da.uniqueID;break;case 9:ea=da.documentElement.uniqueID;break;default:return null;}if(ea){return r+ea;}else return null;}var ca=(function(){var da=Object.prototype.propertyIsEnumerable,ea=g(),fa=0;return function ga(ha){if(ha[ea]){return ha[ea];}else if(!z&&ha.propertyIsEnumerable&&ha.propertyIsEnumerable[ea]){return ha.propertyIsEnumerable[ea];}else if(!z&&h(ha)&&ba(ha)){return ba(ha);}else if(!z&&ha[ea])return ha[ea];if(aa(ha)){fa+=1;if(z){Object.defineProperty(ha,ea,{enumerable:false,writable:false,configurable:false,value:fa});}else if(ha.propertyIsEnumerable){ha.propertyIsEnumerable=function(){return da.apply(this,arguments);};ha.propertyIsEnumerable[ea]=fa;}else if(h(ha)){ha[ea]=fa;}else throw new Error('Unable to set a non-enumerable property on object.');return fa;}else throw new Error('Non-extensible objects are not allowed as keys.');};})();return s;})(Function('return this')());},null);
__d("BootloadedComponent.react",["Map","React"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=h,j=i.PropTypes,k=new g(),l=h.createClass({displayName:"BootloadedComponent",propTypes:{bootloadPlaceholder:j.element.isRequired,bootloadComponent:j.func.isRequired,onComponentLoad:j.func,module:j.string},getInitialState:function(){return {component:this.props.module?k.get(this.props.module):null};},componentDidMount:function(){if(!this.state.component)this.props.bootloadComponent(this.onComponentLoaded);},render:function(){var m=this.state.component;if(!m)return this.props.bootloadPlaceholder;return (h.createElement(m,h.__spread({},this.props),this.props.children));},onComponentLoaded:function(m){if(this.props.module)k.set(this.props.module,m);this.setState({component:m},function(){this.props.onComponentLoad&&this.props.onComponentLoad();}.bind(this));}});e.exports=l;},null);
__d("ClickPointIdentifiersDEPRECATED",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={types:{TIMELINE_SEE_LIKERS:'timeline:seelikes'},getUserActionID:function(h){return '{"ua_id":"'+h+'"}';}};e.exports=g;},null);
__d("TrackingNodes",["TrackingNodeTypes"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={types:g,BASE_CODE_START:58,BASE_CODE_END:126,BASE_CODE_SIZE:69,PREFIX_CODE_START:42,PREFIX_CODE_END:47,PREFIX_CODE_SIZE:6,TN_URL_PARAM:'__tn__',encodeTN:function(i,j){var k=(i-1)%h.BASE_CODE_SIZE,l=parseInt((i-1)/h.BASE_CODE_SIZE,10);if(i<1||l>h.PREFIX_CODE_SIZE)throw Error('Invalid tracking node: '+i);var m="";if(l>0)m+=String.fromCharCode(l-1+h.PREFIX_CODE_START);m+=String.fromCharCode(k+h.BASE_CODE_START);if(typeof j!="undefined"&&j>0)m+=String.fromCharCode(48+Math.min(j,10)-1);return m;},decodeTN:function(i){if(i.length===0)return [0];var j=i.charCodeAt(0),k=1,l,m;if(j>=h.PREFIX_CODE_START&&j<=h.PREFIX_CODE_END){if(i.length==1)return [0];m=j-h.PREFIX_CODE_START+1;l=i.charCodeAt(1);k=2;}else{m=0;l=j;}if(l<h.BASE_CODE_START||l>h.BASE_CODE_END)return [0];var n=m*h.BASE_CODE_SIZE+(l-h.BASE_CODE_START)+1;if(i.length>k&&(i.charAt(k)>='0'&&i.charAt(k)<='9'))return [k+1,[n,parseInt(i.charAt(k),10)+1]];return [k,[n]];},parseTrackingNodeString:function(i){var j=[];while(i.length>0){var k=h.decodeTN(i);if(k.length==1)return [];j.push(k[1]);i=i.substring(k[0]);}return j;},getTrackingInfo:function(i,j){return '{"tn":"'+h.encodeTN(i,j)+'"}';},addDataAttribute:function(i,j,k){if(j===(void 0))return;['data-ft','data-gt'].forEach(function(l){var m;if(i.getAttribute){m=i.getAttribute(l)||"{}";}else if(i.props){m=i.props[l]||"{}";}else return;var n=h.encodeTN(j,k);try{m=JSON.parse(m);if(m.tn&&m.tn===n)return;m.tn=n;if(i.setAttribute){i.setAttribute(l,JSON.stringify(m));}else if(i.props){i.props[l]=JSON.stringify(m);}else return;}catch(o){}});}};e.exports=h;},null);
__d("NumberFormat",["NumberFormatConfig"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=/(\d{3})(?=\d)/g;function i(l){return (''+l).split('').reverse().join('');}function j(l,m){if(Math.abs(l).toString().length<g.minDigitsForThousandsSeparator)return l.toString();var n=i(l);return i(n.replace(h,'$1'+m));}var k={formatIntegerWithDelimiter:j,formatInteger:function(l){return j(l,g.numberDelimiter);}};e.exports=k;},null);
__d("UFIBlingItem.react",["React","NumberFormat","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"UFIBlingItem",propTypes:{contextArgs:m.object.isRequired,count:m.number.isRequired,countreduced:m.string,allowText:m.bool,className:m.string,iconClassName:m.string,itemKey:m.string},render:function(){var o=k(this.props.className,this.props.iconClassName,"UFIBlingBoxSprite"),p=h.formatIntegerWithDelimiter(this.props.count,this.props.contextArgs.numberdelimiter||','),q=p,r=this.props.contextArgs.ufiexperiments||{};if(this.props.allowText||r.showRevisedUFI||r.showSlimUFI)switch(this.props.itemKey){case 'like':if(r.showRevisedUFI||r.showSlimUFI)q=j._({"Like":"{count} polubienie","Likes":"{count} polubie\u0144"},[j.param("count",r.truncateNumbers?this.props.countreduced:q),j['enum'](this.props.count===1?'Like':'Likes',{Like:"Like",Likes:"Likes"})]);break;case 'comment':if(r.showRevisedUFI||r.showSlimUFI)q=j._({"Comment":"{count} komentarz","Comments":"{count} komentarzy"},[j.param("count",r.truncateNumbers?this.props.countreduced:q),j['enum'](this.props.count===1?'Comment':'Comments',{Comment:"Comment",Comments:"Comments"})]);break;case 'reshare':if(this.props.contextArgs.reshareedu||r.showRevisedUFI)q=j._({"Share":"{count} udost\u0119pnienie","Shares":"{count} udost\u0119pnie\u0144"},[j.param("count",r.truncateNumbers?this.props.countreduced:q),j['enum'](this.props.count===1?'Share':'Shares',{Share:"Share",Shares:"Shares"})]);break;}var s=g.createElement("span",{className:(("UFIBlingBoxText")+(r.showRevisedUFI?' '+"UFIBlingBoxTextRevised":'')+(r.showSlimUFI?' '+"UFIBlingBoxTextSlim":''))},q);if(!r.showRevisedUFI&&!r.showSlimUFI){return (g.createElement("span",null,g.createElement("i",{className:o}),s));}else return s;}});e.exports=n;},null);
__d("UFIBlingBox.react",["React","UFIBlingItem.react","UFIConstants","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"UFIBlingBox",propTypes:{contextArgs:m.object.isRequired,'data-ft':m.string,comments:m.number,commentsreduced:m.string,likes:m.number,likesreduced:m.string,nfb:m.number,onClick:m.func,permalink:m.string,reshares:m.number,resharesreduced:m.string},render:function(){var o=[],p='',q=this.props.contextArgs.ufiexperiments||{};if(this.props.likes){o.push(g.createElement(h,{className:((o.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.likes,countreduced:this.props.likesreduced,iconClassName:"UFIBlingBoxLikeIcon",itemKey:"like",key:"like"}));p+=(this.props.likes==1)?k._("1 osoba lubi to"):k._({"*":"{count} os\u00f3b lubi to","268435456":"{count} osoba lubi to","536870912":"{count} osoby lubi\u0105 to"},[k.param("count",this.props.likes,[0])]);p+=' ';}if(this.props.comments){o.push(g.createElement(h,{className:((o.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.comments,countreduced:this.props.commentsreduced,iconClassName:"UFIBlingBoxCommentIcon",itemKey:"comment",key:"comment"}));p+=(this.props.comments==1)?k._("1 komentarz"):k._({"*":"{count} komentarzy","268435456":"{count} komentarz","536870912":"{count} komentarze"},[k.param("count",this.props.comments,[0])]);p+=' ';}if(this.props.reshares&&!q.showSlimUFI){o.push(g.createElement(h,{className:((o.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.reshares,countreduced:this.props.resharesreduced,iconClassName:"UFIBlingBoxReshareIcon",itemKey:"reshare",key:"reshare"}));p+=(this.props.reshares==1)?k._("1 udost\u0119pnienie"):k._({"*":"{count} udost\u0119pnie\u0144","268435456":"{count} udost\u0119pnienie","536870912":"{count} udost\u0119pnienia"},[k.param("count",this.props.reshares,[0])]);}var r=this.props.onClick,s='ignore';if(this.props.comments>i.defaultPageSize){r=null;s=null;}var t=g.createElement("a",{className:(("UFIBlingBox")+(' '+"uiBlingBox")+(' '+"feedbackBling")+(q.showRevisedUFI?' '+"UFIBlingBoxRevised":'')+(q.showSlimUFI?' '+"UFIBlingBoxSlim":'')+(q.showSlimUFI&&o.length===1?' '+"UFIBlingBoxOneItem":'')),href:this.props.permalink,"data-ft":this.props['data-ft'],"aria-label":p,onClick:r,rel:s},o);return t;}});e.exports=n;},null);
__d("LiveTimer",["CSS","DOM","ServerTime","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=1000,l=60,m=3600,n=43200,o=86400,p=60,q=20000,r={restart:function(s){i.update(s*1000);this.updateTimeStamps();},getApproximateServerTime:function(){return i.get();},getServerTimeOffset:function(){return -1*i.getSkew();},updateTimeStamps:function(){this.timestamps=h.scry(document.body,'abbr.livetimestamp');this.startLoop(q);},addTimeStamps:function(s){if(!s)return;this.timestamps=this.timestamps||[];if(h.isNodeOfType(s,'abbr')&&g.hasClass(s,'livetimestamp')){this.timestamps.push(s);}else{var t=h.scry(s,'abbr.livetimestamp');for(var u=0;u<t.length;++u)this.timestamps.push(t[u]);}this.startLoop(0);},startLoop:function(s){this.stop();this.timeout=setTimeout(function(){this.loop();}.bind(this),s);},stop:function(){clearTimeout(this.timeout);},loop:function(s){if(s)this.updateTimeStamps();var t=Math.floor(i.get()/k),u=-1;this.timestamps&&this.timestamps.forEach(function(w){var x=w.getAttribute('data-utime'),y=w.getAttribute('data-shorten'),z=this.renderRelativeTime(t,x,y);if(z.text)h.setContent(w,z.text);if(z.next!=-1&&(z.next<u||u==-1))u=z.next;}.bind(this));if(u!=-1){var v=Math.max(q,u*k);this.timeout=setTimeout(function(){this.loop();}.bind(this),v);}},renderRelativeTime:function(s,t,u){var v={text:"",next:-1};if(s-t>(o))return v;var w=s-t,x=Math.floor(w/l),y=Math.floor(x/p);if(x<1){if(u){v.text=j._("Przed chwil\u0105");v.next=20-w%20;}else{v.text=j._("kilka sekund temu");v.next=l-w%l;}return v;}if(y<1){if(u&&x==1){v.text=j._("1 min");}else if(u){v.text=j._({"*":"{number} min"},[j.param("number",x,[0])]);}else v.text=x==1?j._("oko\u0142o minuty temu"):j._({"*":"{number} min. temu"},[j.param("number",x,[0])]);v.next=l-w%l;return v;}if(y<11)v.next=m-w%m;if(u&&y==1){v.text=j._("1 godz.");}else if(u){v.text=j._({"*":"{number} godz."},[j.param("number",y,[0])]);}else v.text=y==1?j._("oko\u0142o godziny temu"):j._({"*":"{number} godz. temu"},[j.param("number",y,[0])]);return v;},renderRelativeTimeToServer:function(s,t){return this.renderRelativeTime(Math.floor(i.get()/k),s,t);}};e.exports=r;e.exports.CONSTS={MS_IN_SEC:k,SEC_IN_MIN:l,SEC_IN_HOUR:m,SEC_IN_12_HOUR:n,SEC_IN_24_HOUR:o,MIN_IN_HOUR:p,HEARTBEAT:q};},null);
__d("UFICentralUpdates",["Arbiter","ChannelConstants","LiveTimer","ShortProfiles","UFIConstants","copyProperties","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=0,o={},p={},q={},r={},s=[];g.subscribe(h.getArbiterType('live-data'),function(x,y){if(y&&y.obj){var z=y.obj,aa=z.comments||[];aa.forEach(function(ba){ba.timestamp.text=m._("kilka sekund temu");});w.handleUpdate(k.UFIPayloadSourceType.LIVE_SEND,z);}});function t(){if(!n){var x=q,y=o,z=p,aa=r;q={};o={};p={};r={};if(Object.keys(x).length)v('feedback-id-changed',x);if(Object.keys(y).length)v('feedback-updated',y);if(Object.keys(z).length)v('comments-updated',z);if(Object.keys(aa).length)v('instance-updated',aa);s.pop();}}function u(){if(s.length){return s[s.length-1];}else return k.UFIPayloadSourceType.UNKNOWN;}function v(event,x){w.inform(event,{updates:x,payloadSource:u()});}var w=l(new g(),{handleUpdate:function(x,y){if(Object.keys(y).length)this.synchronizeInforms(function(){s.push(x);var z=l({payloadsource:u()},y);this.inform('update-feedback',z);this.inform('update-comment-lists',z);this.inform('update-comments',z);this.inform('update-actions',z);(y.profiles||[]).forEach(function(aa){j.set(aa.id,aa);});if(y.servertime)i.restart(y.servertime);}.bind(this));},didUpdateFeedback:function(x){o[x]=true;t();},didUpdateComment:function(x){p[x]=true;t();},didUpdateFeedbackID:function(x,y){q[x]=y;t();},didUpdateInstanceState:function(x,y){if(!r[x])r[x]={};r[x][y]=true;t();},synchronizeInforms:function(x){n++;try{x();}catch(y){throw y;}finally{n--;t();}}});e.exports=w;},null);
__d("UFICommentLink.react",["Image.react","React","TrackingNodes","emptyFunction","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"UFICommentLink",propTypes:{ufiExperiments:n.object,onClick:n.func},getDefaultProps:function(){return {ufiExperiments:{},onClick:j};},render:function(){var p=this.props.ufiExperiments,q=k._("Komentarz"),r=k._("Dodaj komentarz"),s='{ "tn": "'+i.encodeTN(i.types.COMMENT_LINK)+'", "type": 24 }',t=null;if(p.showRevisedUFI||p.showSlimUFI)t=h.createElement(g,{className:"UFICommentLinkIcon",src:l('/images/ufi/fbfeed/comment_gray.png')});return (h.createElement("a",{className:"comment_link",href:"#",role:"button",title:r,onClick:this.props.onClick,"data-ft":s},t,q));}});e.exports=o;},null);
__d("ClientIDs",["randomInt"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={},i={getNewClientID:function(){var j=Date.now(),k=j+':'+(g(0,4294967295)+1);h[k]=true;return k;},isExistingClientID:function(j){return !!h[j];}};e.exports=i;},null);
__d("UFIFeedbackTargets",["ClientIDs","KeyedCallbackManager","UFICentralUpdates","UFIConstants","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=new h();function m(v){var w={};v.forEach(function(x){var y=k({},x);delete y.commentlist;delete y.commentcount;w[x.entidentifier]=y;i.didUpdateFeedback(x.entidentifier);});l.addResourcesAndExecute(w);}function n(v){for(var w=0;w<v.length;w++){var x=v[w];switch(x.actiontype){case j.UFIActionType.LIKE_ACTION:p(x);break;case j.UFIActionType.SUBSCRIBE_ACTION:q(x);break;case j.UFIActionType.DISABLE_COMMENTS:r(x);break;}}}function o(v){for(var w=0;w<v.length;w++){var x=v[w];if(x.orig_ftentidentifier)t(x.orig_ftentidentifier,x.ftentidentifier);}}function p(v){var w=s(v);if(w){v.hasviewerliked=!!v.hasviewerliked;if(v.clientid&&g.isExistingClientID(v.clientid)&&v.hasviewerliked!=w.hasviewerliked)return;w.likecount=v.likecount||0;w.likesentences=v.likesentences;if(v.actorid==w.actorforpost){w.hasviewerliked=v.hasviewerliked;}else if(v.hasviewerliked!=w.hasviewerliked){w.likesentences={current:v.likesentences.alternate,alternate:v.likesentences.current};if(w.hasviewerliked){w.likecount++;}else w.likecount--;}if(v.actorid!=w.actorforpost)w.likesentences.isunseen=true;m([w]);}}function q(v){var w=s(v);if(w){v.hasviewersubscribed=!!v.hasviewersubscribed;if(v.clientid&&g.isExistingClientID(v.clientid)&&v.hasviewersubscribed!=w.hasviewersubscribed)return;if(v.actorid==w.actorforpost)w.hasviewersubscribed=v.hasviewersubscribed;m([w]);}}function r(v){var w=s(v);if(w){w.cancomment=!!v.cancomment;m([w]);}}function s(v){if(v.orig_entidentifier)t(v.orig_entidentifier,v.entidentifier);return l.getResource(v.entidentifier);}function t(v,w){var x=l.getResource(v);if(x){l.setResource(v,null);x.entidentifier=w;l.setResource(w,x);i.didUpdateFeedbackID(v,w);}}var u={getFeedbackTarget:function(v,w){var x=l.executeOrEnqueue(v,w),y=l.getUnavailableResources(x);y.length;return x;},getActorIDForFeedbackTargetIfExists:function(v){var w=l.getResource(v);return w?w.actorforpost:null;},handleNFB:function(v,w){var x=l.getResource(v);if(x){x.nfbcount=w||0;m([x]);}},unsubscribe:function(v){l.unsubscribe(v);}};i.subscribe('update-feedback',function(v,w){var x=w.feedbacktargets;if(x&&x.length)m(x);});i.subscribe('update-actions',function(v,w){if(w.actions&&w.actions.length)n(w.actions);});i.subscribe('update-comments',function(v,w){if(w.comments&&w.comments.length)o(w.comments);});e.exports=u;},null);
__d("UFIInstanceState",["UFICentralUpdates"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={};function i(k){if(!h[k])h[k]={};}var j={getKeyForInstance:function(k,l){i(k);return h[k][l];},updateState:function(k,l,m){i(k);h[k][l]=m;g.didUpdateInstanceState(k,l);},updateStateField:function(k,l,m,n){var o=this.getKeyForInstance(k,l)||{};o[m]=n;this.updateState(k,l,o);}};e.exports=j;},null);
__d("UFIShareLink.react",["Event","React","Image.react","TrackingNodes","XUISpinner.react","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=h,p=o.PropTypes,q=null,r=h.createClass({displayName:"UFIShareLink",propTypes:{ufiExperiments:p.object},componentDidMount:function(){if(!this.props.onShareClick)return;q=g.listen(h.findDOMNode(this),'click',this.props.onShareClick);},componentWillUnmount:function(){if(!this.props.onShareClick)return;q.remove();},render:function(){var s=m._("Wy\u015blij znajomym albo opublikuj na swojej osi czasu."),t='{ "tn": "'+j.encodeTN(j.types.SHARE_LINK)+'", "type": 25 }',u=this.props.ufiExperiments,v=null;if(u.showRevisedUFI||u.showSlimUFI)v=h.createElement(i,{className:"UFIShareLinkIcon",src:n('/images/ufi/fbfeed/share_gray.png')});var w=null;if(this.props.rel!=='dialog')w=h.createElement(k,{className:"UFIShareLinkSpinner",showOnAsync:true});return (h.createElement("a",h.__spread({className:"share_action_link","data-ft":t,title:s},this.props),v,m._("Udost\u0119pnij"),w));}});e.exports=r;},null);
__d("ContextualLayerAsyncRelative",["Event","Parent","copyProperties"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k){"use strict";this._layer=k;}j.prototype.enable=function(){"use strict";this._layerSubscription=this._layer.subscribe('show',this._attachListener.bind(this));if(this._layer.isShown())this._attachListener();};j.prototype.disable=function(){"use strict";this._layerSubscription.unsubscribe();this._layerSubscription=null;if(this._listener){this._listener.remove();this._listener=null;}};j.prototype._attachListener=function(){"use strict";this._listener=g.listen(this._layer.getRoot(),'click',this._onclick.bind(this));};j.prototype._onclick=function(k){"use strict";var l=h.byTag(k.getTarget(),'A');if(!l)return;var m=l.getAttribute('ajaxify'),n=l.href,o=m||n;if(l.rel==='async'||l.rel==='async-post'){d(['AsyncRequest'],function(p){p.bootstrap(o,this._layer.getContext(),l.rel==='async-post');}.bind(this));return false;}};i(j.prototype,{_layerSubscription:null,_listener:null});e.exports=j;},null);
__d("InlineBlock.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l={baseline:null,bottom:"_6d",middle:"_6b",top:"_6e"},m=g.createClass({displayName:"InlineBlock",propTypes:{alignv:k.oneOf(['baseline','bottom','middle','top']),height:k.number,fullWidth:k.bool},getDefaultProps:function(){return {alignv:'baseline',fullWidth:false};},render:function(){var n=l[this.props.alignv],o="_6a";if(this.props.fullWidth)o=i(o,"_5u5j");var p=i(o,n);if(this.props.height!=null){var q=g.createElement("div",{className:i("_6a",n),style:{height:this.props.height+'px'}});return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,o),height:null}),q,g.createElement("div",{className:p},this.props.children)));}else return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,p)}),this.props.children));}});e.exports=m;},null);
__d("MenuTheme",["cx"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports={className:"_569t"};},null);
__d("curry",["bind"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g(null,g,null);e.exports=h;},null);
__d("ParameterizedPopover",["Arbiter","ArbiterMixin","CSS","DataStore","Event","Focus","Keys","KeyStatus","LayerHideOnEscape","Toggler","copyProperties","curry","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();p.subscribe(['show','hide'],function(x,y){var z=j.get(y.getActive(),'Popover');if(z)if(x==='show'){z.showLayer();}else z.hideLayer();});var t=s(h);for(var u in t)if(t.hasOwnProperty(u))w[u]=t[u];var v=t===null?null:t.prototype;w.prototype=Object.create(v);w.prototype.constructor=w;w.__superConstructor__=t;function w(x,y,z,aa){"use strict";this._root=x;this._triggerElem=y;this._behaviors=z;this._config=aa||{};this._disabled=!!this._config.disabled;this._listeners=[];if(!this._disabled&&(y.nodeName!=='A'||y.rel!=='toggle'))this._setupClickListener();this._setupKeyListener();y.setAttribute('role','button');j.set(x,'Popover',this);if(p.getActive()===x)this.showLayer();}w.prototype.ensureInit=function(){"use strict";if(!this._layer)this._init();};w.prototype.showLayer=function(){"use strict";this.ensureInit();this._layer.show();p.show(this._root);i.addClass(this._root,'selected');this.inform('show');this._triggerElem.setAttribute('aria-expanded','true');};w.prototype.getContentRoot=function(){"use strict";return this._root;};w.prototype.getLayer=function(){"use strict";return this._layer;};w.prototype.hideLayer=function(){"use strict";this._layer.hide();this._triggerElem.setAttribute('aria-expanded','false');};w.prototype.isShown=function(){"use strict";return this._layer&&this._layer.isShown();};w.prototype.setLayerContent=function(x){"use strict";this.ensureInit();if(this._layer.setContent)this._layer.setContent(x);};w.prototype._init=function(){"use strict";var x=this._config.layer;x.enableBehaviors([o]);p.createInstance(x.getRoot()).setSticky(false);x.subscribe('hide',this._onLayerHide.bind(this));this._behaviors&&x.enableBehaviors(this._behaviors);this._layer=x;this.inform('init',null,g.BEHAVIOR_PERSISTENT);};w.prototype._onLayerHide=function(){"use strict";p.hide(this._root);i.removeClass(this._root,'selected');this.inform('hide');if(n.getKeyDownCode()===m.ESC)l.set(this._triggerElem);};w.prototype.enable=function(){"use strict";if(!this._disabled)return;this._setupClickListener();this._setupKeyListener();this._disabled=false;};w.prototype.disable=function(){"use strict";if(this._disabled)return;if(this.isShown())this.hideLayer();while(this._listeners.length)this._listeners.pop().remove();if(this._triggerElem.getAttribute('rel')==='toggle')this._triggerElem.removeAttribute('rel');this._disabled=true;};w.prototype._setupClickListener=function(){"use strict";this._listeners.push(k.listen(this._triggerElem,'click',r(p.bootstrap,this._triggerElem)));};w.prototype._setupKeyListener=function(){"use strict";this._listeners.push(k.listen(this._triggerElem,'keydown',this._handleKeyEvent.bind(this)));};w.prototype._handleKeyEvent=function(event){"use strict";if(event.getModifiers().any)return;var x=k.getKeyCode(event);switch(x){case m.SPACE:case m.DOWN:case m.UP:if(x===m.SPACE||!this.isShown())p.bootstrap(this._triggerElem);break;default:return;}event.prevent();};w.prototype.destroy=function(){"use strict";j.remove(this._root,'Popover');};q(w.prototype,{_layer:null});e.exports=w;},null);
__d("Popover",["ContextualLayer","ContextualLayerHideOnScroll","DOM","ParameterizedPopover"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(){"use strict";if(j!==null)j.apply(this,arguments);}m.prototype._init=function(){"use strict";var n=new g({context:this._triggerElem,position:'below',arrowDimensions:{offset:12,length:16}},i.create('div'));n.enableBehaviors([h]);this._config.layer=n;if(this._config.alignh)n.setAlignment(this._config.alignh);if(this._config.layer_content)n.setContent(this._config.layer_content);if(this._config.position)n.setPosition(this._config.position);l._init.call(this);};e.exports=m;},null);
__d("PopoverMenuInterface",["ArbiterMixin","copyProperties","emptyFunction","mixin"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=j(g);for(var l in k)if(k.hasOwnProperty(l))n[l]=k[l];var m=k===null?null:k.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=k;function n(){"use strict";}n.prototype.done=function(){"use strict";this.inform('done');};h(n.prototype,{getRoot:i,onShow:i,onHide:i,focusAnItem:i.thatReturnsFalse,blur:i,handleKeydown:i.thatReturnsFalse});e.exports=n;},null);
__d("PopoverLoadingMenu",["BehaviorsMixin","DOM","PopoverMenuInterface","copyProperties","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();for(var m in i)if(i.hasOwnProperty(m))o[m]=i[m];var n=i===null?null:i.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=i;function o(p){"use strict";i.call(this);this._config=p||{};this._theme=p.theme||{};}o.prototype.getRoot=function(){"use strict";if(!this._root){this._root=h.create('div',{className:l("_54nq",this._config.className,this._theme.className)},h.create('div',{className:"_54ng"},h.create('div',{className:"_54nf _54af"},h.create('span',{className:"_54ag"}))));if(this._config.behaviors)this.enableBehaviors(this._config.behaviors);}return this._root;};j(o.prototype,g,{_root:null});e.exports=o;},null);
__d("PopoverMenu",["Arbiter","ArbiterMixin","ARIA","BehaviorsMixin","Event","Focus","Keys","KeyStatus","copyProperties","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=p(h,j);for(var r in q)if(q.hasOwnProperty(r))t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u,v,w,x){"use strict";this._popover=u;this._triggerElem=v;this._initialMenu=w;u.subscribe('init',this._onLayerInit.bind(this));u.subscribe('show',this._onPopoverShow.bind(this));u.subscribe('hide',this._onPopoverHide.bind(this));k.listen(this._triggerElem,'keydown',this._handleKeyEventOnTrigger.bind(this));x&&this.enableBehaviors(x);}t.prototype.getContentRoot=function(){"use strict";return this._popover.getContentRoot();};t.prototype.setMenu=function(u){"use strict";this._menu=u;var v=u.getRoot();this._popover.setLayerContent(v);u.subscribe('done',this._onMenuDone.bind(this));if(this._popoverShown)this._menu.onShow();i.owns(this._triggerElem,v);this.inform('setMenu',null,g.BEHAVIOR_PERSISTENT);};t.prototype.getPopover=function(){"use strict";return this._popover;};t.prototype.getTriggerElem=function(){"use strict";return this._triggerElem;};t.prototype.getInitialMenu=function(){"use strict";return this._initialMenu;};t.prototype.getMenu=function(){"use strict";return this._menu;};t.prototype._onLayerInit=function(){"use strict";this.setMenu(this._initialMenu);this._popover.getLayer().subscribe('key',this._handleKeyEvent.bind(this));};t.prototype._onPopoverShow=function(){"use strict";if(this._menu)this._menu.onShow();this._popoverShown=true;};t.prototype._onPopoverHide=function(){"use strict";if(this._menu)this._menu.onHide();this._popoverShown=false;};t.prototype._handleKeyEvent=function(u,v){"use strict";var w=k.getKeyCode(v);if(w===m.TAB){this._popover.hideLayer();l.set(this._triggerElem);return;}if(v.getModifiers().any)return;switch(w){case m.RETURN:return;default:if(this._menu.handleKeydown(w,v)===false){this._menu.blur();this._menu.handleKeydown(w,v);}break;}v.prevent();};t.prototype._handleKeyEventOnTrigger=function(u){"use strict";var v=k.getKeyCode(u),w=String.fromCharCode(v).toLowerCase();if(/^\w$/.test(w)){this._popover.showLayer();this._menu.blur();if(this._menu.handleKeydown(v,u)===false){this._popover.hideLayer();l.set(this._triggerElem);}}};t.prototype._onMenuDone=function(u){"use strict";var v=n.isKeyDown();setTimeout(function(){this._popover.hideLayer();if(v)l.set(this._triggerElem);}.bind(this),0);};t.prototype.enable=function(){"use strict";this._popover.enable();};t.prototype.disable=function(){"use strict";this._popover.disable();};o(t.prototype,{_popoverShown:false});e.exports=t;},null);
__d("PopoverAsyncMenu",["Bootloader","Event","PopoverMenu"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={},k=0;for(var l in i)if(i.hasOwnProperty(l))n[l]=i[l];var m=i===null?null:i.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=i;function n(o,p,q,r,s,t){"use strict";this._endpoint=r;this._endpointData=t||{};this._loadingMenu=q;this._instanceId=k++;j[this._instanceId]=this;this._mouseoverListener=h.listen(p,'mouseover',this.fetchMenu.bind(this));i.call(this,o,p,null,s);}n.prototype._onLayerInit=function(){"use strict";if(!this._menu&&this._loadingMenu)this.setMenu(this._loadingMenu);this.fetchMenu();this._popover.getLayer().subscribe('key',this._handleKeyEvent.bind(this));};n.prototype.fetchMenu=function(){"use strict";if(this._fetched)return;g.loadModules(["AsyncRequest"],function(o){new o().setURI(this._endpoint).setData(Object.assign({pmid:this._instanceId},this._endpointData)).send();}.bind(this));this._fetched=true;if(this._mouseoverListener){this._mouseoverListener.remove();this._mouseoverListener=null;}};n.setMenu=function(o,p){"use strict";j[o].setMenu(p);};n.getInstance=function(o){"use strict";return j[o];};e.exports=n;},null);
__d("PopoverMenu.react",["CSS","InlineBlock.react","Popover","PopoverMenu","React","ReactElement","SubscriptionsHandler","cx","joinClasses","areEqual","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=k,s=r.PropTypes,t=k.createClass({displayName:"ReactPopoverMenu",statics:{getFirstChild:function(u){var v=u.children;return Array.isArray(v)?v[0]:v;},getButtonSize:function(u){var v=t.getFirstChild(u);return v&&v.type.getButtonSize(v.props);}},propTypes:{alignh:s.oneOf(['left','center','right']),alignv:s.oneOf(['baseline','bottom','middle','top']),position:s.oneOf(['above','below','left','right']),layerBehaviors:s.array,menu:s.object,disabled:s.bool,open:s.bool},getDefaultProps:function(){return {alignv:'middle'};},_menuSubscriptions:null,componentDidMount:function(){var u=k.findDOMNode(this.refs.root),v=u.firstChild;g.addClass(v,"_p");this._popover=new i(u,v,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled});this._popoverMenu=new j(this._popover,v,this._createMenu(this.props.menu),this.props.behaviors);},componentDidUpdate:function(u){if(!p(u.menu,this.props.menu))q(this._recreateMenu);if(this.props.alignh!==u.alignh)this._popoverMenu.getPopover().getLayer().setAlignment(this.props.alignh);if(this.props.disabled!==u.disabled)if(this.props.disabled){this._popoverMenu.disable();}else this._popoverMenu.enable();},_recreateMenu:function(){if(this._menuSubscriptions){this._menuSubscriptions.release();this._menuSubscriptions=null;}this._unmountCurrentMenuItems();this._popoverMenu.setMenu(this._createMenu(this.props.menu));},render:function(){var u=k.Children.map(this.props.children,function(v,w){if(w===0){return l.cloneAndReplaceProps(v,Object.assign({},v.props,{className:o(v.props.className,"_p")}));}else return v;});return (k.createElement(h,k.__spread({},this.props,{className:o(this.props.className,"uiPopover"),ref:"root",disabled:null}),u));},componentWillUnmount:function(){this.hidePopover();if(this._menuSubscriptions){this._menuSubscriptions.release();this._menuSubscriptions=null;}},_createMenu:function(u){var v=u.props,w=new u.type(v);this._menuSubscriptions=new m();if(v.onItemClick)this._menuSubscriptions.addSubscriptions(w.subscribe('itemclick',v.onItemClick));if(v.onItemFocus)this._menuSubscriptions.addSubscriptions(w.subscribe('focus',v.onItemFocus));if(v.onItemBlur)this._menuSubscriptions.addSubscriptions(w.subscribe('blur',v.onItemBlur));if(v.onChange)this._menuSubscriptions.addSubscriptions(w.subscribe('change',v.onChange));if(this.props.onShow)this._menuSubscriptions.addSubscriptions(this._popover.subscribe('show',this.props.onShow));if(this.props.onHide)this._menuSubscriptions.addSubscriptions(this._popover.subscribe('hide',this.props.onHide));return w;},getMenu:function(){return this._popoverMenu.getMenu();},showPopover:function(u){this._popover.showLayer();if(u){var v=this._popoverMenu.getMenu();v.blur();v.focusAnItem(u);}},hidePopover:function(){var u=this._popover;if(u&&u.isShown())u.hideLayer();},getFocusedItem:function(){var u=this._popoverMenu.getMenu();return u.getFocusedItem();},_unmountCurrentMenuItems:function(){var u=this.getMenu();u&&u.forEachItem(function(v){var w=v.getRoot().firstElementChild;w&&k.unmountComponentAtNode(w);});}});e.exports=t;},null);
__d("PopoverAsyncMenu.react",["CSS","InlineBlock.react","MenuTheme","Popover","PopoverLoadingMenu","PopoverAsyncMenu","React","ReactElement","PopoverMenu.react","URI","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=m,t=s.PropTypes,u=m.createClass({displayName:"ReactPopoverAsyncMenu",statics:{getButtonSize:o.getButtonSize},propTypes:{alignh:t.oneOf(['left','center','right']),alignv:t.oneOf(['baseline','bottom','middle','top']),position:t.oneOf(['above','below','left','right']),layerBehaviors:t.array,disabled:t.bool,open:t.bool,endpoint:t.oneOfType([t.string.isRequired,t.instanceOf(p).isRequired]),endpointData:t.object},getDefaultProps:function(){return {alignv:'middle'};},componentDidMount:function(){var v=m.findDOMNode(this.refs.root),w=v.firstChild;g.addClass(w,"_p");this._popover=new j(v,w,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled});this._popoverMenu=new l(this._popover,w,this._createLoadingMenu(),this.props.endpoint,this.props.behaviors,this.props.endpointData);},componentDidUpdate:function(v){if(this.props.alignh!==v.alignh)this._popoverMenu.getPopover().getLayer().setAlignment(this.props.alignh);if(this.props.disabled!==v.disabled)if(this.props.disabled){this._popoverMenu.disable();}else this._popoverMenu.enable();},render:function(){var v=m.Children.map(this.props.children,function(w,x){if(x===0){return n.cloneAndReplaceProps(w,Object.assign({},w.props,{className:r(w.props.className,"_p")}));}else return w;});return (m.createElement(h,m.__spread({},this.props,{className:r(this.props.className,"uiPopover"),ref:"root",disabled:null}),v));},componentWillUnmount:function(){this.hidePopover();},_createLoadingMenu:function(){return new k({theme:i});},getPopoverMenu:function(){return this._popoverMenu;},getMenu:function(){return this._popoverMenu.getMenu();},showPopover:function(v){this._popover.showLayer();if(v){var w=this._popoverMenu.getMenu();w.blur();w.focusAnItem(v);}},hidePopover:function(){var v=this._popover;if(v&&v.isShown())v.hideLayer();},getFocusedItem:function(){var v=this._popoverMenu.getMenu();return v.getFocusedItem();}});e.exports=u;},null);
__d("XShareNowCounterController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/share\/share_now\/counter\/",{event:{type:"Enum",required:true,enumType:1},control:{type:"Bool",defaultValue:false}});},null);
__d("ShareNowCounter",["AsyncSignal","XShareNowCounterController"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={logEvent:function(event,j){var k=h.getURIBuilder().setEnum('event',event).setBool('control',j).getURI();(new g(k)).send();}};e.exports=i;},null);
__d("ShareNowConstants",["fbt"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports={error:g._("Nie mo\u017cna teraz udost\u0119pni\u0107 tego posta. Spr\u00f3buj ponownie p\u00f3\u017aniej."),success:g._("Tw\u00f3j post zosta\u0142 opublikowany.")};},null);
__d("ShareNowController",["Dialog","Event","ShareNowCounter","ShareNowCounterEvent","ShareNowConstants"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l,m={initMenu:function(n){var o=n.getTriggerElem();h.listen(o,'success',function(event){try{var q=event.data.response.payload;if(q.share_now_succeeded)this.showSuccess(q.message);}catch(p){}}.bind(this));h.listen(o,'error',function(event){try{this.showError(event.data.response.errorDescription);}catch(p){this.showError();}}.bind(this));n.getPopover().subscribe('show',this._logMenuShown);},showSuccess:function(n){this.showDialog(n||k.success);},showError:function(n){this.showDialog(n||k.error);},showDialog:function(n){if(l)l.destroy();l=new g().setBody(n).setAutohide(2500).setModal(true).show();},_logMenuShown:function(){i.logEvent(j.OPEN_SHARE_NOW);}};e.exports=m;},null);
__d("UFIShareNowMenu.react",["ContextualDialogArrow","ContextualLayerAsyncRelative","ContextualLayerAutoFlip","PopoverAsyncMenu.react","React","ShareNowController"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=k.createClass({displayName:"UFIShareNowMenu",componentDidMount:function(){l.initMenu(this.refs.menu.getPopoverMenu());},render:function(){return (k.createElement(j,k.__spread({alignv:"baseline"},this.props,{layerBehaviors:[g,h,i],ref:"menu"}),this.props.children));}});e.exports=m;},null);
__d("UFISubscribeLink.react",["React","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=g.createClass({displayName:"UFISubscribeLink",propTypes:{subscribeAction:j.bool,onClick:j.func},render:function(){var l=this.props.subscribeAction?h._("Otrzymuj powiadomienia"):h._("Wstrzymaj powiadomienia"),m=this.props.subscribeAction?h._("Otrzymuj powiadomienia o wszystkich komentarzach."):h._("Przesta\u0144 otrzymywa\u0107 powiadomienia o dodaniu komentarza przez innego u\u017cytkownika.");return (g.createElement("a",{className:"UFISubscribeLink",href:"#",role:"button","aria-live":"polite",title:m,onClick:this.props.onClick},l));}});e.exports=k;},null);
__d("ProfileBrowserLink",["URI"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h='/ajax/browser/dialog/',i='/browse/',j=function(l,m,n){return new g(l+m).setQueryData(n);},k={constructPageURI:function(l,m){return j(i,l,m);},constructDialogURI:function(l,m){return j(h,l,m);}};e.exports=k;},null);
__d("ProfileBrowserTypes",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={LIKES:'likes',GROUP_MEMBERS:'group_members',GROUP_MESSAGE_VIEWERS:'group_message_viewers',MUTUAL_FRIENDS:'mutual_friends',TODO_LIST_ASSIGNEES:'todo_list_assignees',TOPIC_CONVERSATION_PARTICIPANTS:'topic_conversation_participants'};e.exports=g;},null);
__d("UFITimelineBlingBox.react",["ProfileBrowserLink","ProfileBrowserTypes","React","UFIBlingItem.react","URI","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i,o=n.PropTypes,p=i.createClass({displayName:"UFITimelineBlingBox",propTypes:{contextArgs:o.object.isRequired,'data-ft':o.string,'data-gt':o.string,actorid:o.any,commentOnClick:o.func,comments:o.number,commentsreduced:o.string,enableShowComments:o.bool,enableShowLikes:o.bool,feedbackFBID:o.any,likes:o.number,likesreduced:o.string,reshares:o.number,resharesreduced:o.string},render:function(){var q=[];if(this.props.likes&&this.props.enableShowLikes){var r=this._getProfileBrowserURI(),s=m._("Zobacz osoby, kt\u00f3re to lubi\u0105"),t=i.createElement("a",{ajaxify:r.dialog,className:this._getItemClassName(q),"data-ft":this.props['data-ft'],"data-gt":this.props['data-gt'],"data-hover":"tooltip","data-tooltip-alignh":"right","data-tooltip-uri":this._getLikeToolTipURI(),href:r.page,key:"like",rel:"dialog",role:"button",title:s},i.createElement(j,{contextArgs:this.props.contextArgs,count:this.props.likes,countreduced:this.props.likesreduced,iconClassName:"UFIBlingBoxTimelineLikeIcon",itemKey:"like"}));q.push(t);}if(this.props.comments&&this.props.enableShowComments){var u=m._("Poka\u017c komentarze"),v=i.createElement("a",{"aria-label":u,className:this._getItemClassName(q),"data-ft":this.props['data-ft'],"data-hover":"tooltip","data-tooltip-alignh":"right",href:"#",key:"comment",onClick:this.props.commentOnClick},i.createElement(j,{contextArgs:this.props.contextArgs,count:this.props.comments,countreduced:this.props.commentsreduced,iconClassName:"UFIBlingBoxTimelineCommentIcon",itemKey:"comment"}));q.push(v);}if(this.props.reshares){var w=m._("Poka\u017c udost\u0119pnion\u0105 zawarto\u015b\u0107"),x=this._getShareViewURI(),y=i.createElement("a",{ajaxify:x.dialog,"aria-label":w,className:this._getItemClassName(q),"data-ft":this.props['data-ft'],"data-hover":"tooltip","data-tooltip-alignh":"right",href:x.page,key:"reshare",rel:"async"},i.createElement(j,{allowText:true,contextArgs:this.props.contextArgs,count:this.props.reshares,countreduced:this.props.resharesreduced,iconClassName:"UFIBlingBoxTimelineReshareIcon",itemKey:"reshare"}));q.push(y);}return (i.createElement("span",null,q));},_getItemClassName:function(q){return ((q.length>0?"mls":'')+(' '+"UFIBlingBoxTimelineItem"));},_getLikeToolTipURI:function(){if(this.props.feedbackFBID){var q=new k('/ajax/like/tooltip.php').setQueryData({comment_fbid:this.props.feedbackFBID});return q.toString();}else return null;},_getProfileBrowserURI:function(){if(this.props.feedbackFBID){var q=h.LIKES,r={id:this.props.feedbackFBID,actorid:this.props.actorid},s=g.constructDialogURI(q,r),t=g.constructPageURI(q,r),u={dialog:s.toString(),page:t.toString()};return u;}},_getShareViewURI:function(){if(this.props.feedbackFBID){var q=new k('/ajax/shares/view').setQueryData({target_fbid:this.props.feedbackFBID}),r=new k('/shares/view').setSubdomain('www').setQueryData({id:this.props.feedbackFBID}),s={dialog:q.toString(),page:r.toString()};return s;}}});e.exports=p;},null);
__d("MercuryLoggingHelper",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={obfuscateThread:function(h){var i=Object.assign({},h);if(h&&h.snippet&&h.snippet.length>5)i.snippet=h.snippet.substr(0,5)+'...';return i;},obfuscateMessage:function(h){var i=Object.assign({},h);if(h&&h.body&&h.body.length>5)i.body=h.body.substr(0,5)+'...';return i;}};e.exports=g;},null);
__d("MercuryServerDispatcher",["AsyncRequest","BanzaiLogger","ChatPerfEvent","CurrentUser","LogHistory","MercuryLoggingHelper","areJSONRepresentationsEqual","copyProperties","debounceAcrossTransitions","performanceAbsoluteNow"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q={},r=k.getInstance('mercury_dispatcher'),s=false,t={IMMEDIATE:'immediate',IDEMPOTENT:'idempotent',BATCH_SUCCESSIVE:'batch-successive',BATCH_SUCCESSIVE_UNIQUE:'batch-successive-unique',BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:'batch-successive-piggyback-retry',BATCH_DEFERRED_MULTI:'batch-deferred-multi',BATCH_CONDITIONAL:'batch-conditional',DEFAULT_ENDPOINT_ID:'mercuryServerDispatcherDefaultEndpointID',registerEndpoints:function(w){for(var x in w){var y=w[x],z=y.request_user_id||j.getID(),aa=y.endpoint_id||t.DEFAULT_ENDPOINT_ID;if(!q[x])q[x]={};if(!q[x][z])q[x][z]={};q[x][z][aa]=new u(x,y);}},trySend:function(w,x,y,z,aa){z=z||j.getID();aa=aa||t.DEFAULT_ENDPOINT_ID;q[w][z][aa].trySend(x,y);}};function u(w,x){var y=x.mode||t.IMMEDIATE;switch(y){case t.IMMEDIATE:case t.IDEMPOTENT:case t.BATCH_SUCCESSIVE:case t.BATCH_SUCCESSIVE_UNIQUE:case t.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case t.BATCH_DEFERRED_MULTI:case t.BATCH_CONDITIONAL:break;default:throw new Error('Invalid MercuryServerDispatcher mode '+y);}this._endpoint=w;this._mode=y;this._customHeader=x.customHeader;this._requestUserID=x.request_user_id;this._combineData=x.batch_function;this._combineDataIf=x.batch_if;this._batchSizeLimit=x.batch_size_limit;this._batches=[];this._handler=x.handler;this._errorHandler=x.error_handler;this._transportErrorHandler=x.transport_error_handler||x.error_handler;this._connectionRetries=x.connection_retries||0;this._timeoutHandler=x.timeout_handler;this._timeout=x.timeout;this._serverDialogCancelHandler=x.server_dialog_cancel_handler||x.error_handler;this._deferredSend=o(this._batchSend,0,this);}n(u.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(w,x){if(s)return;if(w===(void 0))w=null;var y=x||this._mode;if(y==t.IMMEDIATE){this._send(w);}else if(y==t.IDEMPOTENT){if(!this._inFlight)this._send(w);}else if(y==t.BATCH_SUCCESSIVE||y==t.BATCH_SUCCESSIVE_UNIQUE){if(!this._inFlight){this._send(w);}else this._batchData(w);}else if(y==t.BATCH_CONDITIONAL){var z=this._batches[0]&&this._batches[0].getData();if(this._inFlight&&(this._combineDataIf(this._pendingRequestData,w)||this._combineDataIf(z,w))){this._batchData(w);}else this._send(w);}else if(y==t.BATCH_DEFERRED_MULTI){this._batchData(w);this._deferredSend();}else if(y==t.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR){this._batchData(w);if(!this._inFlight)this._batchSend();}},_send:function(w){this._inFlight++;this._pendingRequestData=n({},w);if(this._requestUserID!=j.getID())w.request_user_id=this._requestUserID;var x=[];if(w&&w.message_batch)for(var y=0;y<w.message_batch.length;y++){var z=l.obfuscateMessage(w.message_batch[y]);x.push(z);}var aa=x.length?n({},w,{message_batch:x}):w;r.log('send',{endpoint:this._endpoint,data:aa,inflight_count:this._inFlight});var ba=p(),ca=new g(this._endpoint).setData(w).setOption('retries',this._connectionRetries).setHandler(function(da){h.log('ChatPerfLoggerConfig',{event:i.ASYNC_REQUEST,duration:p()-ba,endpoint:this._endpoint});this._handleResponse(da);}.bind(this)).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this)).setAllowCrossPageTransition(true);if(this._customHeader)ca.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._timeout&&this._timeoutHandler)ca.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));ca.send();},_batchData:function(w,x){if(this._mode==t.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==(void 0)&&m(w,this._pendingRequestData)){return;}else{var y=this._batches.length-1;if(y>=0&&!this._hasReachedBatchLimit(this._batches[y])){x?this._batches[y].combineWithOlder(w,this._combineData):this._batches[y].combineWith(w,this._combineData);}else this._batches.push(new v(w));r.debug('batch',{endpoint:this._endpoint,batches:this._batches,batch_limit:this._batchSizeLimit});}},_hasReachedBatchLimit:function(w){return this._batchSizeLimit&&w.getSize()>=this._batchSizeLimit;},_batchSend:function(){if(this._batches[0]){this._send(this._batches[0].getData());this._batches.shift();}},_handleResponse:function(w){this._inFlight--;r.log('response',{endpoint:this._endpoint,inflight_count:this._inFlight});var x=w.getPayload();s=x&&x.kill_chat;if(s)r.log('killswitch_enabled',{endpoint:this._endpoint,inflight_count:this._inFlight});if(x&&x.error_payload){if(this._errorHandler)this._errorHandler(w);}else this._handler&&this._handler(x,w.getRequest());if(this._mode==t.BATCH_SUCCESSIVE||this._mode==t.BATCH_SUCCESSIVE_UNIQUE||this._mode==t.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==t.BATCH_CONDITIONAL)this._batchSend();delete this._pendingRequestData;},_postErrorHandler:function(){r.error('error',{endpoint:this._endpoint,inflight_count:this._inFlight-1});this._inFlight--;var w=this._mode;if(w==t.BATCH_SUCCESSIVE||w==t.BATCH_SUCCESSIVE_UNIQUE||w==t.BATCH_CONDITIONAL){this._batchSend();}else if(w==t.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR)if(this._batches[0]){this._batchData(this._pendingRequestData,true);this._batchSend();}else this._batchData(this._pendingRequestData,true);delete this._pendingRequestData;},_handleError:function(w){this._errorHandler&&this._errorHandler(w);this._postErrorHandler();},_handleTransportError:function(w){this._transportErrorHandler&&this._transportErrorHandler(w);this._postErrorHandler();},_handleTimeout:function(w){this._timeoutHandler&&this._timeoutHandler(w);this._postErrorHandler();},_handleServerDialogCancel:function(w){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(w);this._postErrorHandler();}});function v(w){this._data=w;this._size=1;}n(v.prototype,{getData:function(){return this._data;},getSize:function(){return this._size;},combineWith:function(w,x){this._data=x(this._data,w);this._size++;},combineWithOlder:function(w,x){this._data=x(w,this._data);this._size++;}});e.exports=t;},null);
__d("UFICommentList",["ClientIDs","KeyedCallbackManager","UFICentralUpdates","UFIConstants","UFIFeedbackTargets","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=l({actorID:true});function n(o){this.count=0;this.deletedComments={};this.deletedCount=0;this.dataSource=new h();this.feedbackTargetID=o;this.lastRequestedOffset=0;this.lastRequestedLength=0;this.basePermalink="";this.commentPermalinks={};k.getFeedbackTarget(this.feedbackTargetID,function(p){this.actorID=p.actorforpost;this.basePermalink=p.permalink;}.bind(this));}n.prototype.addOrUpdateComment=function(o){if(o.islocal){this.$UFICommentList0(o.id);}else this.$UFICommentList1(o.id,o.clientid,o.legacyid);i.didUpdateFeedback(this.feedbackTargetID);};n.prototype.$UFICommentList0=function(o){this.dataSource.setResource(this.count,o);this.count++;};n.prototype.$UFICommentList1=function(o,p,q){var r=p&&g.isExistingClientID(p),s=this.dataSource.getAllResources(),t={};for(var u in s){var v=s[u];t[v]=u;}if(r&&p in t){t[o]=t[p];var w=t[p];this.dataSource.setResource(w,o);}else if(!t[o]&&p)this.$UFICommentList0(o);if(q&&o in t)this.commentPermalinks[o]=this.buildCommentPermalink(o,q,t[o]);};n.prototype.addCommentIDs=function(o,p,q){var r={};for(var s=0;s<p;s++)r[o+s]=q[s]||j.unavailableCommentKey;this.dataSource.addResourcesAndExecute(r);i.didUpdateFeedback(this.feedbackTargetID);return this;};n.prototype.getComments=function(o,p,q,r){var s=[];for(var t=0;t<p;t++)s.push(o+t);var u=this.dataSource.getUnavailableResourcesFromRequest(s);if(u.length){var v=Math.min.apply(Math,u),w=Math.max.apply(Math,u),x=v,y=w-v+1;if(x<this.lastRequestedOffset||(x+y)>(this.lastRequestedOffset+this.lastRequestedLength)){this.lastRequestedOffset=x;this.lastRequestedLength=y;this.fetchComments(x,y,q);}}else this.dataSource.executeOrEnqueue(s,this.deferredCallback.bind(this,o,p,r));};n.prototype.fetchComments=function(o,p,q){};n.prototype.deferredCallback=function(o,p,q,r){};n.prototype.reset=function(){var o=this.dataSource.getAllResources();this.dataSource.reset();this.count=0;this.deletedCount=0;this.deletedComments={};this.lastRequestedOffset=0;this.lastRequestedLength=0;return o;};n.prototype.deleteComment=function(o){if(!(o in this.deletedComments)){this.deletedComments[o]=true;this.deletedCount++;}};n.prototype.updateCommentCount=function(o){this.count=o;this.deletedCount=0;return this;};n.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID;};n.prototype.getCommentCount=function(){return this.count;};n.prototype.getDeletedCount=function(){return this.deletedCount;};n.prototype.getDisplayedCommentCount=function(){return this.count-this.deletedCount;};n.prototype.getBasePermalink=function(){return this.basePermalink;};n.prototype.buildCommentPermalink=function(o,p,q){};n.prototype.getPermalinkForComment=function(o){return this.commentPermalinks[o];};n.isValidContextPropertyForReset=function(o){return o in m;};e.exports=n;},null);
__d("UFICommentOrdering",["UFIConstants"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h={inverted:function(i){switch(i){case g.UFICommentOrderingMode.RECENT_ACTIVITY:case g.UFICommentOrderingMode.RANKED_THREADED:case g.UFICommentOrderingMode.FILTERED:return true;}return false;}};e.exports=h;},null);
__d("UFIComments",["ClientIDs","ImmutableObject","UFICentralUpdates","UFIConstants","UFIInstanceState","invariant","merge","randomInt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o={},p={};function q(fa){return fa in p?p[fa]:fa;}function r(fa,ga){fa.forEach(function(ha){var ia=ha.ftentidentifier,ja=j.UFIPayloadSourceType,ka=ha.clientid,la=false,ma=m({},ha);if(ka){delete ma.clientid;la=g.isExistingClientID(ka);if(la&&p[ka])return;}if((ga===ja.LIVE_SEND)||(ga===ja.USER_ACTION)||(ga===ja.ENDPOINT_ADD_COMMENT)||(ga===ja.ENDPOINT_EDIT_COMMENT))ma.isunseen=true;if(ga===ja.ENDPOINT_COMMENT_FETCH||ga===ja.ENDPOINT_ID_COMMENT_FETCH)ma.fromfetch=true;if(la){if(o[ka].ufiinstanceid)k.updateStateField(o[ka].ufiinstanceid,'locallycomposed',ha.id,true);ma.ufiinstanceid=o[ka].ufiinstanceid;p[ka]=ha.id;o[ha.id]=o[ka];delete o[ka];i.didUpdateComment(ka);}ea.setComment(ha.id,new h(ma));i.didUpdateComment(ha.id);i.didUpdateFeedback(ia);});}function s(fa){for(var ga=0;ga<fa.length;ga++){var ha=fa[ga];switch(ha.actiontype){case j.UFIActionType.LIKE_ACTION:if(ea.getComment(ha.entidentifier))t(ha.clientid,ha.entidentifier,ha.hasviewerliked,ha.likecount);break;case j.UFIActionType.COMMENT_LIKE:t(ha.clientid,ha.commentid,ha.viewerliked,ha.likecount);break;case j.UFIActionType.DELETE_COMMENT:x(ha);break;case j.UFIActionType.LIVE_DELETE_COMMENT:y(ha);break;case j.UFIActionType.REMOVE_PREVIEW:z(ha);break;case j.UFIActionType.COMMENT_SET_SPAM:aa(ha);break;case j.UFIActionType.CONFIRM_COMMENT_REMOVAL:ba(ha);break;case j.UFIActionType.TRANSLATE_COMMENT:v(ha);break;case j.UFIActionType.COMMENT_LIKECOUNT_UPDATE:u(ha);break;}}}function t(fa,ga,ha,ia){var ja=ea.getComment(ga);if(ja){var ka={},la=fa&&g.isExistingClientID(fa);if(!la){ka.hasviewerliked=ha;ka.likecount=ia;}ka.likeconfirmhash=n(0,1024);da(ga,ka);}}function u(fa){var ga=ea.getComment(fa.commentid);if(ga&&fa.hasviewerliked===ga.hasviewerliked){var ha={likecount:fa.likecount,likeconfirmhash:n(0,1024)};da(fa.commentid,ha);}}function v(fa){var ga=fa.commentid,ha=ea.getComment(ga);if(ha){var ia={translatedbody:fa.translatedbody,translatorapp:fa.translatorapp};da(ga,ia);}}function w(fa){var ga={reportLink:fa.reportLink,commenterIsFOF:fa.commenterIsFOF,userIsMinor:fa.userIsMinor,giveFeedbackLink:fa.giveFeedbackLink};return ga;}function x(fa){var ga=ea.getComment(fa.commentid);ca(ga,j.UFIStatus.DELETED);}function y(fa){var ga=ea.getComment(fa.commentid);if(ga&&ga.status!==j.UFIStatus.DELETED)ca(ga,j.UFIStatus.LIVE_DELETED);}function z(fa){da(fa.commentid,{attachment:null});}function aa(fa){var ga=ea.getComment(fa.commentid),ha=fa.shouldHideAsSpam?j.UFIStatus.SPAM_DISPLAY:null;ca(ga,ha);}function ba(fa){da(fa.commentid,w(fa));}function ca(fa,ga){da(fa.id,{priorstatus:fa.status,status:ga});}function da(fa,ga){var ha=ea.getComment(fa)||new h({});ea.setComment(fa,h.set(ha,ga));i.didUpdateComment(ha.id);i.didUpdateFeedback(ha.ftentidentifier);}var ea={getComment:function(fa){if(fa===j.unavailableCommentKey)return null;return o[q(fa)];},setComment:function(fa,ga){l(ga instanceof h);o[q(fa)]=ga;},resetComments:function(fa){for(var ga in fa)delete o[q(ga)];}};i.subscribe('update-comments',function(fa,ga){if(ga.comments&&ga.comments.length)r(ga.comments,ga.payloadsource);});i.subscribe('update-actions',function(fa,ga){if(ga.actions&&ga.actions.length)s(ga.actions);});e.exports=ea;},null);
__d("UFIReplyCommentList",["ActorURI","JSLogger","MercuryServerDispatcher","UFICentralUpdates","UFICommentList","UFIComments","UFIConstants","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o={},p=h.create('ufi_reply_comment_list');for(var q in k)if(k.hasOwnProperty(q))s[q]=k[q];var r=k===null?null:k.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=k;s.getCommentList=function(u,v){if(!o[v])o[v]=new s(u,v);return o[v];};s.resetWithContext=function(u,v,w){var x=o[v];if(!x)return;x.reset();for(var y in w)if(this.isValidContextPropertyForReset(y))x[y]=w[y];};function s(u,v){k.call(this,u);this.parentCommentID=v;}s.prototype.fetchComments=function(u,v,w){var x={ft_ent_identifier:this.feedbackTargetID,parent_comment_ids:[this.parentCommentID],source:null,offsets:[u],lengths:[v],feed_context:w?w.feedContext:null};if(!w||!w.viewAs)x[g.PARAMETER_ACTOR]=this.actorID;i.trySend('/ajax/ufi/reply_fetch.php',x);};s.prototype.deferredCallback=function(u,v,w,x){var y={};for(var z=0;z<v;z++){var aa=l.getComment(x[u+z]);if(aa)y[u+z]=aa;}w(y);};s.prototype.reset=function(){var u=r.reset.call(this),v={};for(var w in u){var x=u[w];v[x]=true;}l.resetComments(v);};s.prototype.getParentCommentID=function(){return this.parentCommentID;};s.prototype.buildCommentPermalink=function(u,v,w){if(!this.basePermalink)return null;var x=this.getParentCommentID().split("_"),y=v;if(x.length===2){y=x[1];}else p.error("Bad reply comment ID: "+this.getParentCommentID());return (new n(this.basePermalink).addQueryData({comment_id:y,reply_comment_id:v,total_comments:this.count}).toString());};i.registerEndpoints({'/ajax/ufi/reply_fetch.php':{mode:i.IMMEDIATE}});function t(u){var v=l.getComment(u.commentid),w=v.id,x=v.ftentidentifier,y=v.parentcommentid;if(!y)return;if(v.status!==m.UFIStatus.DELETED&&v.status!==m.UFIStatus.FAILED_ADD)s.getCommentList(x,y).deleteComment(w);}j.subscribe('update-actions',function(u,v){if(v.actions&&v.actions.length)for(var w=0;w<v.actions.length;w++){var x=v.actions[w];switch(x.actiontype){case m.UFIActionType.DELETE_COMMENT:t(x);break;}}});j.subscribe('update-comment-lists',function(u,v){var w=v.commentlists;if(w&&w.replies&&Object.keys(w).length)for(var x in w.replies){var y=w.replies[x],z=y.ftentidentifier;s.getCommentList(z,x).addCommentIDs(y.range.offset,y.range.length,y.values).updateCommentCount(y.count);}});j.subscribe('update-comments',function(u,v){if(v.comments&&v.comments.length)v.comments.forEach(function(w){var x=w.entidentifier,y=w.parentcommentid;if(!y)return;s.getCommentList(x,y).addOrUpdateComment(w);});});e.exports=s;},null);
__d("UFIToplevelCommentList",["ActorURI","MercuryServerDispatcher","UFICentralUpdates","UFICommentList","UFICommentOrdering","UFIComments","UFIConstants","UFIReplyCommentList","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p={};for(var q in j)if(j.hasOwnProperty(q))s[q]=j[q];var r=j===null?null:j.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=j;s.getCommentList=function(u,v){if(!p[u])p[u]={};if(!p[u][v]){var w=new s(u,v),x=s.getCommentListsForFeedbackTargetID(u);if(x.length)w.updateCommentCount(x[0].getCommentCount());p[u][v]=w;}return p[u][v];};s.getCommentListsForFeedbackTargetID=function(u){var v=[],w=p[u]||{};for(var x in w)v.push(w[x]);return v;};s.getCommentListForFeedbackTargetID_UNSAFE=function(u){var v=s.getCommentListsForFeedbackTargetID(u);return v.length?v[0]:null;};s.resetCommentListsForFeedbackTargetID=function(u){if(!p[u])return;var v={};for(var w in p[u]){var x=p[u][w],y=x.reset();for(var z in y){var aa=y[z];v[aa]=true;}}l.resetComments(v);};s.resetCommentListsWithContext=function(u,v){if(!p[u])return;var w={};for(var x in p[u]){var y=p[u][x];for(var z in v)if(this.isValidContextPropertyForReset(z))y[z]=v[z];var aa=y.reset();for(var ba in aa){var ca=aa[ba];w[ca]=true;n.resetWithContext(u,ca,v);}}l.resetComments(w);};function s(u,v){j.call(this,u);this.orderReversed=false;if(k.inverted(v))this.orderReversed=true;this.orderingMode=v;this.forceNotPageable=false;}s.prototype.fetchComments=function(u,v,w){var x={ft_ent_identifier:this.feedbackTargetID,viewas:w&&w.viewAs?w.viewAs+'':null,source:null,offset:u,length:v,orderingmode:this.orderingMode,feed_context:w?w.feedContext:null};if(!w||!w.viewAs)x[g.PARAMETER_ACTOR]=this.actorID;h.trySend('/ajax/ufi/comment_fetch.php',x);};s.prototype.deferredCallback=function(u,v,w,x){var y={},z=u,aa=u+v-1;for(var ba=0;ba<v;ba++){var ca=this.orderReversed?aa-ba:z+ba,da=l.getComment(x[ca]);if(da)y[u+ba]=da;}w(y);};s.prototype.getOrderingMode=function(){return this.orderingMode;};s.prototype.setForceNotPageable=function(u){this.forceNotPageable=u;return this;};s.prototype.getForceNotPageable=function(){return this.forceNotPageable;};s.prototype.buildCommentPermalink=function(u,v,w){if(!this.basePermalink)return null;var x=Math.floor((this.count-w-1)/m.defaultPageSize)*m.defaultPageSize;return (new o(this.basePermalink).addQueryData({comment_id:v,offset:x,total_comments:this.count}).toString());};h.registerEndpoints({'/ajax/ufi/comment_fetch.php':{mode:h.IMMEDIATE}});function t(u){var v=l.getComment(u.commentid),w=v.id,x=v.ftentidentifier,y=v.parentcommentid;if(y)return;if(u.islocal||(v.status!==m.UFIStatus.DELETED&&v.status!==m.UFIStatus.FAILED_ADD))s.getCommentListsForFeedbackTargetID(x).forEach(function(z){z.deleteComment(w);});}i.subscribe('update-actions',function(u,v){if(v.actions&&v.actions.length)for(var w=0;w<v.actions.length;w++){var x=v.actions[w];switch(x.actiontype){case m.UFIActionType.DELETE_COMMENT:t(x);break;}}});i.subscribe('update-comment-lists',function(u,v){var w=v.commentlists;if(w&&w.comments&&Object.keys(w).length)for(var x in w.comments)for(var y in w.comments[x]){var z=w.comments[x][y],aa=z.forcenotpageable===true;s.getCommentList(x,y).addCommentIDs(z.range.offset,z.range.length,z.values).setForceNotPageable(aa);}});i.subscribe('update-comments',function(u,v){if(v.comments&&v.comments.length)v.comments.forEach(function(w){if(w.parentcommentid)return;var x=w.ftentidentifier;s.getCommentListsForFeedbackTargetID(x).forEach(function(y){y.addOrUpdateComment(w);});});});i.subscribe('update-feedback',function(u,v){if(v.feedbacktargets&&v.feedbacktargets.length)v.feedbacktargets.forEach(function(w){var x=w.entidentifier,y=w.defaultcommentorderingmode,z={};if(y)z[y]=true;if(w.orderingmodes)w.orderingmodes.forEach(function(ba){z[ba.value]=true;});for(var aa in z)s.getCommentList(x,aa).updateCommentCount(w.commentcount);});});e.exports=s;},null);
__d("UnicodeBidiDirection-upstream",["invariant"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h='NEUTRAL',i='LTR',j='RTL',k=null;function l(q){return q===i||q===j;}function m(q){g(l(q));k=q;}function n(){m(i);}function o(){if(k==null)n();return k;}var p={NEUTRAL:h,LTR:i,RTL:j,isStrong:l,setGlobalDir:m,getGlobalDir:o};e.exports=p;},null);
__d("UnicodeBidiDirection",["Locale","UnicodeBidiDirection-upstream"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();h.setGlobalDir(g.isRTL()?h.RTL:h.LTR);e.exports=h;},null);
__d("UnicodeBidi",["UnicodeBidiDirection"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h={L:'A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u01BA\u01BB'+'\u01BC-\u01BF\u01C0-\u01C3\u01C4-\u0293\u0294\u0295-\u02AF\u02B0-\u02B8'+'\u02BB-\u02C1\u02D0-\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376-\u0377'+'\u037A\u037B-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1'+'\u03A3-\u03F5\u03F7-\u0481\u0482\u048A-\u052F\u0531-\u0556\u0559'+'\u055A-\u055F\u0561-\u0587\u0589\u0903\u0904-\u0939\u093B\u093D'+'\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0950\u0958-\u0961\u0964-\u0965'+'\u0966-\u096F\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098C'+'\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD'+'\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09CE\u09D7\u09DC-\u09DD'+'\u09DF-\u09E1\u09E6-\u09EF\u09F0-\u09F1\u09F4-\u09F9\u09FA\u0A03'+'\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33'+'\u0A35-\u0A36\u0A38-\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F'+'\u0A72-\u0A74\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0'+'\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0AD0'+'\u0AE0-\u0AE1\u0AE6-\u0AEF\u0AF0\u0B02-\u0B03\u0B05-\u0B0C\u0B0F-\u0B10'+'\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40'+'\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0B5C-\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F'+'\u0B70\u0B71\u0B72-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95'+'\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9'+'\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7'+'\u0BE6-\u0BEF\u0BF0-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10'+'\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C59\u0C60-\u0C61'+'\u0C66-\u0C6F\u0C7F\u0C82-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8'+'\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CBE\u0CBF\u0CC0-\u0CC4\u0CC6'+'\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0CDE\u0CE0-\u0CE1\u0CE6-\u0CEF'+'\u0CF1-\u0CF2\u0D02-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D'+'\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D57\u0D60-\u0D61'+'\u0D66-\u0D6F\u0D70-\u0D75\u0D79\u0D7A-\u0D7F\u0D82-\u0D83\u0D85-\u0D96'+'\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF'+'\u0DE6-\u0DEF\u0DF2-\u0DF3\u0DF4\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45'+'\u0E46\u0E4F\u0E50-\u0E59\u0E5A-\u0E5B\u0E81-\u0E82\u0E84\u0E87-\u0E88'+'\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7'+'\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6'+'\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F01-\u0F03\u0F04-\u0F12\u0F13\u0F14'+'\u0F15-\u0F17\u0F1A-\u0F1F\u0F20-\u0F29\u0F2A-\u0F33\u0F34\u0F36\u0F38'+'\u0F3E-\u0F3F\u0F40-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C'+'\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FCF\u0FD0-\u0FD4\u0FD5-\u0FD8'+'\u0FD9-\u0FDA\u1000-\u102A\u102B-\u102C\u1031\u1038\u103B-\u103C\u103F'+'\u1040-\u1049\u104A-\u104F\u1050-\u1055\u1056-\u1057\u105A-\u105D\u1061'+'\u1062-\u1064\u1065-\u1066\u1067-\u106D\u106E-\u1070\u1075-\u1081'+'\u1083-\u1084\u1087-\u108C\u108E\u108F\u1090-\u1099\u109A-\u109C'+'\u109E-\u109F\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FB\u10FC'+'\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288'+'\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5'+'\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u1368'+'\u1369-\u137C\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166D-\u166E'+'\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EB-\u16ED\u16EE-\u16F0'+'\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1735-\u1736'+'\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5'+'\u17C7-\u17C8\u17D4-\u17D6\u17D7\u17D8-\u17DA\u17DC\u17E0-\u17E9'+'\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18A8\u18AA'+'\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930-\u1931'+'\u1933-\u1938\u1946-\u194F\u1950-\u196D\u1970-\u1974\u1980-\u19AB'+'\u19B0-\u19C0\u19C1-\u19C7\u19C8-\u19C9\u19D0-\u19D9\u19DA\u1A00-\u1A16'+'\u1A19-\u1A1A\u1A1E-\u1A1F\u1A20-\u1A54\u1A55\u1A57\u1A61\u1A63-\u1A64'+'\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AA6\u1AA7\u1AA8-\u1AAD'+'\u1B04\u1B05-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B45-\u1B4B'+'\u1B50-\u1B59\u1B5A-\u1B60\u1B61-\u1B6A\u1B74-\u1B7C\u1B82\u1B83-\u1BA0'+'\u1BA1\u1BA6-\u1BA7\u1BAA\u1BAE-\u1BAF\u1BB0-\u1BB9\u1BBA-\u1BE5\u1BE7'+'\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1BFC-\u1BFF\u1C00-\u1C23\u1C24-\u1C2B'+'\u1C34-\u1C35\u1C3B-\u1C3F\u1C40-\u1C49\u1C4D-\u1C4F\u1C50-\u1C59'+'\u1C5A-\u1C77\u1C78-\u1C7D\u1C7E-\u1C7F\u1CC0-\u1CC7\u1CD3\u1CE1'+'\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF2-\u1CF3\u1CF5-\u1CF6\u1D00-\u1D2B'+'\u1D2C-\u1D6A\u1D6B-\u1D77\u1D78\u1D79-\u1D9A\u1D9B-\u1DBF\u1E00-\u1F15'+'\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D'+'\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC'+'\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E'+'\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D'+'\u2124\u2126\u2128\u212A-\u212D\u212F-\u2134\u2135-\u2138\u2139'+'\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2182\u2183-\u2184'+'\u2185-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF'+'\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2C7B\u2C7C-\u2C7D\u2C7E-\u2CE4'+'\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F'+'\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE'+'\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005\u3006\u3007'+'\u3021-\u3029\u302E-\u302F\u3031-\u3035\u3038-\u303A\u303B\u303C'+'\u3041-\u3096\u309D-\u309E\u309F\u30A1-\u30FA\u30FC-\u30FE\u30FF'+'\u3105-\u312D\u3131-\u318E\u3190-\u3191\u3192-\u3195\u3196-\u319F'+'\u31A0-\u31BA\u31F0-\u31FF\u3200-\u321C\u3220-\u3229\u322A-\u3247'+'\u3248-\u324F\u3260-\u327B\u327F\u3280-\u3289\u328A-\u32B0\u32C0-\u32CB'+'\u32D0-\u32FE\u3300-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DB5'+'\u4E00-\u9FCC\uA000-\uA014\uA015\uA016-\uA48C\uA4D0-\uA4F7\uA4F8-\uA4FD'+'\uA4FE-\uA4FF\uA500-\uA60B\uA60C\uA610-\uA61F\uA620-\uA629\uA62A-\uA62B'+'\uA640-\uA66D\uA66E\uA680-\uA69B\uA69C-\uA69D\uA6A0-\uA6E5\uA6E6-\uA6EF'+'\uA6F2-\uA6F7\uA722-\uA76F\uA770\uA771-\uA787\uA789-\uA78A\uA78B-\uA78E'+'\uA790-\uA7AD\uA7B0-\uA7B1\uA7F7\uA7F8-\uA7F9\uA7FA\uA7FB-\uA801'+'\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA823-\uA824\uA827\uA830-\uA835'+'\uA836-\uA837\uA840-\uA873\uA880-\uA881\uA882-\uA8B3\uA8B4-\uA8C3'+'\uA8CE-\uA8CF\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8F8-\uA8FA\uA8FB\uA900-\uA909'+'\uA90A-\uA925\uA92E-\uA92F\uA930-\uA946\uA952-\uA953\uA95F\uA960-\uA97C'+'\uA983\uA984-\uA9B2\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uA9C1-\uA9CD'+'\uA9CF\uA9D0-\uA9D9\uA9DE-\uA9DF\uA9E0-\uA9E4\uA9E6\uA9E7-\uA9EF'+'\uA9F0-\uA9F9\uA9FA-\uA9FE\uAA00-\uAA28\uAA2F-\uAA30\uAA33-\uAA34'+'\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA5F\uAA60-\uAA6F'+'\uAA70\uAA71-\uAA76\uAA77-\uAA79\uAA7A\uAA7B\uAA7D\uAA7E-\uAAAF\uAAB1'+'\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAADD\uAADE-\uAADF'+'\uAAE0-\uAAEA\uAAEB\uAAEE-\uAAEF\uAAF0-\uAAF1\uAAF2\uAAF3-\uAAF4\uAAF5'+'\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E'+'\uAB30-\uAB5A\uAB5B\uAB5C-\uAB5F\uAB64-\uAB65\uABC0-\uABE2\uABE3-\uABE4'+'\uABE6-\uABE7\uABE9-\uABEA\uABEB\uABEC\uABF0-\uABF9\uAC00-\uD7A3'+'\uD7B0-\uD7C6\uD7CB-\uD7FB\uE000-\uF8FF\uF900-\uFA6D\uFA70-\uFAD9'+'\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFF6F\uFF70'+'\uFF71-\uFF9D\uFF9E-\uFF9F\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF'+'\uFFD2-\uFFD7\uFFDA-\uFFDC',R:'\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05D0-\u05EA\u05EB-\u05EF'+'\u05F0-\u05F2\u05F3-\u05F4\u05F5-\u05FF\u07C0-\u07C9\u07CA-\u07EA'+'\u07F4-\u07F5\u07FA\u07FB-\u07FF\u0800-\u0815\u081A\u0824\u0828'+'\u082E-\u082F\u0830-\u083E\u083F\u0840-\u0858\u085C-\u085D\u085E'+'\u085F-\u089F\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB37\uFB38-\uFB3C'+'\uFB3D\uFB3E\uFB3F\uFB40-\uFB41\uFB42\uFB43-\uFB44\uFB45\uFB46-\uFB4F',AL:'\u0608\u060B\u060D\u061B\u061C\u061D\u061E-\u061F\u0620-\u063F\u0640'+'\u0641-\u064A\u066D\u066E-\u066F\u0671-\u06D3\u06D4\u06D5\u06E5-\u06E6'+'\u06EE-\u06EF\u06FA-\u06FC\u06FD-\u06FE\u06FF\u0700-\u070D\u070E\u070F'+'\u0710\u0712-\u072F\u074B-\u074C\u074D-\u07A5\u07B1\u07B2-\u07BF'+'\u08A0-\u08B2\u08B3-\u08E3\uFB50-\uFBB1\uFBB2-\uFBC1\uFBC2-\uFBD2'+'\uFBD3-\uFD3D\uFD40-\uFD4F\uFD50-\uFD8F\uFD90-\uFD91\uFD92-\uFDC7'+'\uFDC8-\uFDCF\uFDF0-\uFDFB\uFDFC\uFDFE-\uFDFF\uFE70-\uFE74\uFE75'+'\uFE76-\uFEFC\uFEFD-\uFEFE'},i=new RegExp('['+h.L+h.R+h.AL+']'),j=new RegExp('['+h.R+h.AL+']');function k(q){var r=i.exec(q);if(!r)return g.NEUTRAL;var s=j.exec(r[0]);return s?g.RTL:g.LTR;}function l(q,r){r=r||g.NEUTRAL;if(!q.length)return r;var s=k(q);return (s===g.NEUTRAL)?r:s;}function m(q,r){if(!r||!g.isStrong(r))r=g.getGlobalDir();return l(q,r);}function n(q,r){return m(q,r)===g.LTR;}function o(q,r){return m(q,r)===g.RTL;}var p={firstStrongCharDir:k,resolveBlockDir:l,getDirection:m,isDirectionLTR:n,isDirectionRTL:o};e.exports=p;},null);
__d("UFIUserActions",["ActorURI","AsyncResponse","requireWeak","ClientIDs","ImmutableObject","Nectar","UFICentralUpdates","UFIToplevelCommentList","UFIComments","UFIConstants","UFIFeedbackTargets","MercuryServerDispatcher","collectDataAttributes","copyProperties","errorCode","fbt","UnicodeBidi"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();var x;i(['CLoggerX'],function(ma){x=ma;});var y={BAN:'ban',UNDO_BAN:'undo_ban'},z={changeActor:function(ma,na){q.getFeedbackTarget(ma,function(oa){n.resetCommentListsWithContext(ma,{actorID:na});var pa={from_actor_id:oa.actorforpost,ft_ent_identifier:ma};pa[g.PARAMETER_ACTOR]=na;r.trySend('/ajax/ufi/actor_change.php',pa);});},changeCommentLike:function(ma,na,oa){var pa=o.getComment(ma);if(pa.hasviewerliked!=na){var qa=aa(oa.target),ra=na?1:-1,sa={commentid:ma,actiontype:p.UFIActionType.COMMENT_LIKE,viewerliked:na,likecount:(pa.likecount||0)+ra};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[sa]});q.getFeedbackTarget(pa.ftentidentifier,function(ta){var ua={};ua[g.PARAMETER_ACTOR]=ta.actorforpost;r.trySend('/ajax/ufi/comment_like.php',t({comment_id:ma,legacy_id:pa.legacyid,like_action:na,ft_ent_identifier:pa.ftentidentifier,source:oa.source,client_id:j.getNewClientID()},qa,ua));});}},addComment:function(ma,na,oa,pa){q.getFeedbackTarget(ma,function(qa){var ra=aa(pa.target),sa=j.getNewClientID();if(!qa.actorforpost)return;var ta=w.isDirectionLTR(na)?'ltr':'rtl',ua={ftentidentifier:ma,body:{text:na,dir:ta},author:qa.actorforpost,id:sa,islocal:true,ufiinstanceid:pa.ufiinstanceid,likecount:0,hasviewerliked:false,parentcommentid:pa.replyid,attachment:pa.attachedsticker,photo_comment:pa.attachedphoto,timestamp:{time:Math.floor(Date.now()/1000),text:v._("kilka sekund temu")}},va={actiontype:p.UFIActionType.SUBSCRIBE_ACTION,actorid:qa.actorforpost,hasviewersubscribed:true,entidentifier:ma},wa={actiontype:p.UFIActionType.ADD_COMMENT_ACTION,feedbackfbid:qa.targetfbid};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[ua],actions:[va,wa]});var xa=null;if(pa.replyid)xa=(o.getComment(pa.replyid)).fbid;var ya;if(x)ya=x.getCLParamsForTarget(pa.target,xa);var za={};za[g.PARAMETER_ACTOR]=qa.actorforpost;r.trySend('/ajax/ufi/add_comment.php',t({ft_ent_identifier:qa.entidentifier,comment_text:oa,source:pa.source,client_id:sa,reply_fbid:xa,parent_comment_id:pa.replyid,timeline_log_data:pa.timelinelogdata,rootid:pa.rootid,clp:ya,attached_sticker_fbid:pa.attachedsticker?pa.attachedsticker.fbid:0,attached_photo_fbid:pa.attachedphoto?pa.attachedphoto.fbid:0,giftoccasion:pa.giftoccasion,recommendation_ids:pa.recommendationIDs?pa.recommendationIDs:[],feed_context:pa.feedcontext},ra,za));});},_hasCommentTextChanged:function(ma,na){return ma.body&&ma.body.text!=na;},_hasCommentPhotoChanged:function(ma,na){return ((ma||na)&&!(ma&&na))||(ma&&na&&(ma.fbid!=na.fbid));},_hasCommentStickerChanged:function(ma,na){return ((ma||na)&&!(ma&&na))||(ma&&(ma.type=="sticker")&&na&&(ma.fbid!=na.fbid));},editComment:function(ma,na,oa,pa){var qa=aa(pa.target),ra=o.getComment(ma),sa=this._hasCommentTextChanged(ra,na)||this._hasCommentPhotoChanged(ra.photo_comment,pa.attachedPhoto)||this._hasCommentStickerChanged(ra.attachment,pa.attachedSticker);ra=k.set(ra,{status:p.UFIStatus.PENDING_EDIT,body:{text:na},editnux:null,attachment:pa.attachedSticker,photo_comment:pa.attachedPhoto});if(sa)ra=k.set(ra,{originalTimestamp:ra.timestamp.time,timestamp:{time:Math.floor(Date.now()/1000),text:v._("kilka sekund temu")}});m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[ra]});q.getFeedbackTarget(ra.ftentidentifier,function(ta){var ua={};ua[g.PARAMETER_ACTOR]=ta.actorforpost;r.trySend('/ajax/ufi/edit_comment.php',t({ft_ent_identifier:ra.ftentidentifier,comment_text:oa,source:pa.source,comment_id:ra.id,parent_comment_id:ra.parentcommentid,attached_sticker_fbid:pa.attachedSticker?pa.attachedSticker.fbid:0,attached_photo_fbid:pa.attachedPhoto?pa.attachedPhoto.fbid:0},qa,ua));});},translateComment:function(ma,na){r.trySend('/ajax/ufi/translate_comment.php',{ft_ent_identifier:ma.ftentidentifier,comment_ids:[ma.id],source:na.source});},setHideAsSpam:function(ma,na,oa){var pa=aa(oa.target),qa=o.getComment(ma),ra={commentid:ma,actiontype:p.UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:na};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[ra]});r.trySend('/ajax/ufi/comment_spam.php',t({comment_id:ma,spam_action:na,ft_ent_identifier:qa.ftentidentifier,source:oa.source},pa));},removeComment:function(ma,na){var oa=aa(na.target),pa=o.getComment(ma),qa={actiontype:p.UFIActionType.DELETE_COMMENT,commentid:ma,islocal:true,oneclick:na.oneclick};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[qa]});q.getFeedbackTarget(pa.ftentidentifier,function(ra){var sa={};sa[g.PARAMETER_ACTOR]=ra.actorforpost;r.trySend('/ajax/ufi/delete_comment.php',t({comment_id:pa.id,comment_legacyid:pa.legacyid,ft_ent_identifier:pa.ftentidentifier,one_click:na.oneclick,source:na.source,client_id:j.getNewClientID(),timeline_log_data:na.timelinelogdata},oa,sa));});},banUser:function(ma,na,oa,pa){var qa=oa?y.BAN:y.UNDO_BAN;r.trySend('/ajax/ufi/ban_user.php',{page_id:na,commenter_id:ma.author,action:qa,comment_id:ma.id,client_side:true});},changeLike:function(ma,na,oa){q.getFeedbackTarget(ma,function(pa){var qa=aa(oa.target);if(pa.hasviewerliked!==na){var ra=na?1:-1,sa={actiontype:p.UFIActionType.LIKE_ACTION,actorid:pa.actorforpost,hasviewerliked:na,likecount:(pa.likecount||0)+ra,entidentifier:ma,likesentences:{current:pa.likesentences.alternate,alternate:pa.likesentences.current}};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[sa]});var ta={};ta[g.PARAMETER_ACTOR]=pa.actorforpost;r.trySend('/ajax/ufi/like.php',t({like_action:na,ft_ent_identifier:ma,source:oa.source,client_id:j.getNewClientID(),rootid:oa.rootid,giftoccasion:oa.giftoccasion},qa,ta));}});},changeSubscribe:function(ma,na,oa){q.getFeedbackTarget(ma,function(pa){var qa=aa(oa.target);if(pa.hasviewersubscribed!==na){var ra={actiontype:p.UFIActionType.SUBSCRIBE_ACTION,actorid:pa.actorforpost,hasviewersubscribed:na,entidentifier:ma};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[ra]});var sa={};sa[g.PARAMETER_ACTOR]=pa.actorforpost;r.trySend('/ajax/ufi/subscribe.php',t({subscribe_action:na,ft_ent_identifier:ma,source:oa.source,client_id:j.getNewClientID(),rootid:oa.rootid,comment_expand_mode:oa.commentexpandmode},qa,sa));}});},fetchSpamComments:function(ma,na,oa,pa){r.trySend('/ajax/ufi/id_comment_fetch.php',{ft_ent_identifier:ma,viewas:pa,comment_ids:na,parent_comment_id:oa,source:null});},removePreview:function(ma,na){var oa=aa(na.target),pa={commentid:ma.id,actiontype:p.UFIActionType.REMOVE_PREVIEW};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});r.trySend('/ajax/ufi/remove_preview.php',t({comment_id:ma.id,ft_ent_identifier:ma.ftentidentifier,source:na.source},oa));}};function aa(ma){if(!ma)return {ft:{}};var na={ft:s(ma,['ft']).ft};l.addModuleData(na,ma);return na;}function ba(ma){var na=ma.request.data;h.defaultErrorHandler(ma);var oa=na.client_id||na.comment_id,pa=o.getComment(oa),qa=(pa.status===p.UFIStatus.PENDING_EDIT)?p.UFIStatus.FAILED_EDIT:p.UFIStatus.FAILED_ADD;pa=k.setDeep(pa,{status:qa,allowRetry:ca(ma),body:{mentionstext:na.comment_text,mentionsphoto:pa.photo_comment}});m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[pa]});}function ca(ma){var na=ma.getError();if(ma.isBlockedAction())return false;if(ma.silentError)return true;if(na===1357012||na===1357006)return false;return true;}function da(ma){var na=ma.request.data,oa=na.comment_id,pa=o.getComment(oa);pa=k.set(pa,{status:pa.priorstatus||null,priorstatus:(void 0)});m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{comments:[pa]});}function ea(ma){var na=ma.request.data,oa=na.comment_id,pa=o.getComment(oa);if(na.like_action===pa.hasviewerliked){var qa=pa.hasviewerliked?-1:1,ra={commentid:oa,actiontype:p.UFIActionType.COMMENT_LIKE,viewerliked:!pa.hasviewerliked,likecount:(pa.likecount||0)+qa};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[ra]});}h.defaultErrorHandler(ma);}function fa(ma){var na=ma.request.data,oa=na.ft_ent_identifier;q.getFeedbackTarget(oa,function(pa){if(pa.hasviewerliked===na.like_action){var qa=pa.hasviewerliked?-1:1,ra={actiontype:p.UFIActionType.LIKE_ACTION,actorid:pa.actorforpost,hasviewerliked:!pa.hasviewerliked,likecount:(pa.likecount||0)+qa,entidentifier:oa,likesentences:{current:pa.likesentences.alternate,alternate:pa.likesentences.current}};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[ra]});}});h.defaultErrorHandler(ma);}function ga(ma){var na=ma.request.data,oa=na.ft_ent_identifier;q.getFeedbackTarget(oa,function(pa){if(pa.hasviewersubscribed===na.subscribe_action){var qa={actiontype:p.UFIActionType.SUBSCRIBE_ACTION,actorid:pa.actorforpost,hasviewersubscribed:!pa.hasviewersubscribed,entidentifier:oa};m.handleUpdate(p.UFIPayloadSourceType.USER_ACTION,{actions:[qa]});}});h.defaultErrorHandler(ma);}var ha={'/ajax/ufi/actor_change.php':{mode:r.IMMEDIATE},'/ajax/ufi/comment_like.php':{mode:r.BATCH_CONDITIONAL,error_handler:ea,batch_if:ia,batch_function:la},'/ajax/ufi/comment_spam.php':{mode:r.IMMEDIATE,error_handler:da},'/ajax/ufi/add_comment.php':{mode:r.IMMEDIATE,error_handler:ba},'/ajax/ufi/delete_comment.php':{mode:r.IMMEDIATE,error_handler:da},'/ajax/ufi/ban_user.php':{mode:r.IMMEDIATE},'/ajax/ufi/edit_comment.php':{mode:r.IMMEDIATE,error_handler:ba},'/ajax/ufi/like.php':{mode:r.BATCH_CONDITIONAL,error_handler:fa,batch_if:ja,batch_function:la},'/ajax/ufi/subscribe.php':{mode:r.BATCH_CONDITIONAL,error_handler:ga,batch_if:ka,batch_function:la},'/ajax/ufi/id_comment_fetch.php':{mode:r.IMMEDIATE},'/ajax/ufi/remove_preview.php':{mode:r.IMMEDIATE},'/ajax/ufi/translate_comment.php':{mode:r.IMMEDIATE},'/profile/broadcast_request/async/add_composer_token/':{mode:r.IMMEDIATE}};r.registerEndpoints(ha);function ia(ma,na){return ma&&ma.ft_ent_identifier==na.ft_ent_identifier&&ma.comment_id==na.comment_id;}function ja(ma,na){return ma&&ma.ft_ent_identifier==na.ft_ent_identifier;}function ka(ma,na){return ma&&ma.ft_ent_identifier==na.ft_ent_identifier;}function la(ma,na){return na;}e.exports=z;},null);
__d("UFIUIEvents",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g='UFIUIEvents/ufiActionAddComment',h='UFIUIEvents/ufiActionLinkLike',i='UFIUIEvents/ufiActionLinkUnlike',j={UFIActionLinkLike:h,UFIActionLinkUnlike:i,UFIActionAddComment:g};e.exports=j;},null);
__d("XUIText.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"XUIText",propTypes:{size:k.oneOf(['small','medium','large','xlarge','inherit']),weight:k.oneOf(['bold','inherit','normal']),display:k.oneOf(['inline','block'])},getDefaultProps:function(){return {size:'inherit',weight:'inherit',display:'inline'};},render:function(){var m=this.props.size,n=this.props.weight,o=((m==='small'?"_50f3":'')+(m==='medium'?' '+"_50f4":'')+(m==='large'?' '+"_50f5":'')+(m==='xlarge'?' '+"_50f6":'')+(n==='bold'?' '+"_50f7":'')+(n==='normal'?' '+"_5kx5":''));if(this.props.display==='block')return (g.createElement("div",g.__spread({},this.props,{className:i(this.props.className,o)}),this.props.children));return (g.createElement("span",g.__spread({},this.props,{className:i(this.props.className,o)}),this.props.children));}});e.exports=l;},null);
__d("XUIGrayText.react",["React","XUIText.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"XUIGrayText",propTypes:{shade:l.oneOf(['light','medium','dark'])},getDefaultProps:function(){return {shade:'light'};},render:function(){var n=((this.props.shade==='light'?"_50f8":'')+(this.props.shade==='medium'?' '+"_c24":'')+(this.props.shade==='dark'?' '+"_50f9":''));return (g.createElement(h,g.__spread({},this.props,{className:j(this.props.className,n)}),this.props.children));}});e.exports=m;},null);
__d("XPagesMessagingPrivateReplyDialogController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/messaging\/private_reply\/dialog\/",{activity_id:{type:"String",required:true}});},null);
__d("UFIPrivateReplyLink.react",["ActorURI","Link.react","PagesPrivateReplyConstants","React","XUIGrayText.react","XPagesMessagingPrivateReplyDialogController","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=i.Status,o=i.Type,p=j,q=p.PropTypes,r=j.createClass({displayName:"UFIPrivateReplyLink",propTypes:{actorID:q.string.isRequired,activityID:q.string.isRequired,context:q.shape({activityType:q.string.isRequired,status:q.string.isRequired,hasReplyPermission:q.bool.isRequired,pageID:q.string.isRequired,permalink:q.string}).isRequired},render:function(){var s=this.props.context;if(s.hasReplyPermission&&this.props.actorID===s.pageID){if(s.status===n.REPLYABLE){return this._renderMessageLink();}else if(s.status===n.ALREADY_REPLIED)return this._renderSeeReplyLink();return this._renderTooltip();}if(s.status===n.ALREADY_REPLIED)return this._renderIndicator();return null;},_renderMessageLink:function(){var s=g.create(l.getURIBuilder().setString('activity_id',this.props.activityID).getURI(),this.props.context.pageID);return (j.createElement(h,{href:s,rel:"dialog"},this._getLabel()));},_renderTooltip:function(){var s;switch(this.props.context.status){case n.EXPIRED:s=m._({"comments":"Nie mo\u017cesz wys\u0142a\u0107 odpowiedzi na komentarze, kt\u00f3re s\u0105 starsze ni\u017c 6 miesi\u0119cy.","reviews":"Nie mo\u017cesz wys\u0142a\u0107 odpowiedzi na opinie, kt\u00f3re s\u0105 starsze ni\u017c 6 miesi\u0119cy.","posts":"Nie mo\u017cesz wys\u0142a\u0107 odpowiedzi na posty, kt\u00f3re s\u0105 starsze ni\u017c 6 miesi\u0119cy."},[m['enum'](this._getActivityTypeLabel(),{comments:"comments",reviews:"reviews",posts:"posts"})]);break;case n.NOT_USER_CREATED:s=m._("Strony nie mog\u0105 wysy\u0142a\u0107 prywatnych wiadomo\u015bci do innych stron.");break;}return (j.createElement("span",null,j.createElement(k,{shade:"light","aria-label":s,"data-hover":s?'tooltip':null},this._getLabel())));},_renderSeeReplyLink:function(){return (j.createElement(h,{href:this.props.context.permalink||'#'},m._("Zobacz odpowied\u017a")));},_renderIndicator:function(){return (j.createElement("span",null,j.createElement(k,{shade:"light"},m._("Odpowied\u017a prywatna ze strony"))));},_getLabel:function(){return (m._("Wiadomo\u015b\u0107 prywatna"));},_getActivityTypeLabel:function(){switch(this.props.context.activityType){case o.COMMENT_PAGE_POST:case o.COMMENT_WALL_POST:case o.COMMENT_REVIEW:return 'comments';case o.REVIEW:return 'reviews';default:return 'posts';}}});e.exports=r;},null);
__d("UFIActionLinkController",["Arbiter","BootloadedComponent.react","Bootloader","ClickPointIdentifiersDEPRECATED","CSS","DataStore","DOM","DOMQuery","Parent","React","TrackingNodes","UFIBlingBox.react","UFICentralUpdates","UFICommentLink.react","UFIConstants","UFIFeedbackTargets","UFIInstanceState","UFILikeLink.react","UFIShareLink.react","UFIShareNowMenu.react","UFISubscribeLink.react","UFITimelineBlingBox.react","UFIToplevelCommentList","UFIUserActions","UFIUIEvents","UFIPrivateReplyLink.react","URI","cx","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia){b.__markCompiled&&b.__markCompiled();function ja(la,ma,na){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var oa=n.scry(la,ma)[0];if(oa){if(k.hasClass(oa,'prevent_react_replace'))return;var pa=document.createElement('span');oa.parentNode.replaceChild(pa,oa);pa.appendChild(oa);if(typeof na==="function")na(pa);}else var qa=g.subscribe('PhotoSnowlift.DATA_CHANGE',function(){g.unsubscribe(qa);ja(la,ma,na);},g.SUBSCRIBE_NEW);}var ka=function(la,ma,na,oa){this._id=ma.ftentidentifier;this._ftFBID=na.targetfbid;this._source=ma.source;this._contextArgs=ma;this._ufiRoot=la;this._ufiInstanceID=oa;this._isOnTimeline=this._isRenderingOnTimeline();if(this._isOnTimeline){this._attemptInitializeTimelineBling();}else this._attemptInitializeBling();if(na.viewercanlike||na.hasviewerliked)this._attemptInitializeLike();if(na.cancomment&&this._contextArgs.reactcommentlink)this._attemptInitializeComment();if(na.viewercansubscribetopost)this._attemptInitializeSubscribe();this._attemptInitializeShare();this._attemptInitializeMessageReply();s.subscribe('feedback-updated',function(pa,qa){var ra=qa.updates;if(this._id in ra)this.render();}.bind(this));s.subscribe('feedback-id-changed',function(pa,qa){var ra=qa.updates;if(this._id in ra)this._id=ra[this._id];}.bind(this));s.subscribe('instance-updated',function(pa,qa){var ra=qa.updates[this._ufiInstanceID];if(ra&&ra.inlineShare)this.render();}.bind(this));};ia(ka.prototype,{_attemptInitializeBling:function(){ja(this._ufiRoot,'^form .uiBlingBox',function(la){this._blingRoot=la;if(this._dataReady)this._renderBling();}.bind(this));},_attemptInitializeTimelineBling:function(){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var la=n.scry(this._ufiRoot,'^form .fbTimelineFeedbackActions .UFIBlingBoxTimeline')[0];if(la){var ma=n.scry(la,'.fbTimelineFeedbackLikes')[0];this._enableShowLikes=ma?true:false;var na=n.scry(la,'.fbTimelineFeedbackComments')[0];this._enableShowComments=na?true:false;}this._blingTimelineRoot=la;if(this._dataReady)this._renderTimelineBling();},_attemptInitializeLike:function(){ja(this._ufiRoot,'^form .like_link',function(la){this._likeRoot=la;if(this._dataReady)this._renderLike();}.bind(this));},_attemptInitializeComment:function(){ja(this._ufiRoot,'^form .comment_link',function(la){this._commentRoot=la;if(this._dataReady)this._renderComment();}.bind(this));},_attemptInitializeSubscribe:function(){ja(this._ufiRoot,'^form .unsub_link',function(la){this._subscribeRoot=la;if(this._dataReady)this._renderSubscribe();}.bind(this));},_attemptInitializeMessageReply:function(){ja(this._ufiRoot,'^form .message_reply_action_link',function(la){this._messageReplyRoot=la;if(this._messageReplyRoot.previousSibling&&this._messageReplyRoot.previousSibling.nodeType===3){this._messageReplySeparator=this._messageReplyRoot.previousSibling;this._messageReplySeparatorData=this._messageReplySeparator.data;}if(this._dataReady)this._renderMessageReply();}.bind(this));},_attemptInitializeShare:function(){ja(this._ufiRoot,'^form .share_action_link',function(la){this._shareRoot=la;k.addClass(this._shareRoot,"share_root");var ma=n.scry(this._shareRoot,'.share_action_link')[0];if(ma){this._shareURI=ma.getAttribute('href');this._shareRel=ma.getAttribute('rel');this._shareNowMenuURI=l.get(ma,'share-now-menu-uri');}if(this._dataReady)this._renderShare();}.bind(this));},render:function(){this._dataReady=true;if(this._isOnTimeline){this._renderTimelineBling();}else this._renderBling();this._renderLike();this._renderComment();this._renderSubscribe();this._renderShare();this._renderMessageReply();},_renderBling:function(){if(this._blingRoot)v.getFeedbackTarget(this._id,function(la){var ma=function(event){var ra=o.byTag(event.target,"form");k.toggleClass(ra,"collapsed_comments");k.toggleClass(ra,"hidden_add_comment");event.preventDefault();}.bind(this),na=q.getTrackingInfo(q.types.BLINGBOX),oa=ca.getCommentListForFeedbackTargetID_UNSAFE(this._id).getDisplayedCommentCount(),pa=new ga(la.permalink).addQueryData({comment_tracking:na}).toString(),qa=p.createElement(r,{likes:la.likecount,likesreduced:la.likecountreduced,comments:oa,commentsreduced:la.commentcountreduced,reshares:la.sharecount,resharesreduced:la.sharecountreduced,nfb:la.nfbcount,permalink:pa,contextArgs:this._contextArgs,onClick:ma,"data-ft":na});this._blingBox=p.render(qa,this._blingRoot);}.bind(this));},_renderTimelineBling:function(){if(this._blingTimelineRoot)v.getFeedbackTarget(this._id,function(la){var ma=q.getTrackingInfo(q.types.BLINGBOX),na=j.getUserActionID(j.types.TIMELINE_SEE_LIKERS),oa=function(event){var ra=o.byTag(event.target,"form");k.removeClass(ra,"collapsed_comments");var sa=n.scry(ra,'a.UFIPagerLink');if(sa.length)sa[0].click();event.preventDefault();}.bind(this),pa=ca.getCommentListForFeedbackTargetID_UNSAFE(this._id).getDisplayedCommentCount(),qa=p.createElement(ba,{comments:pa,commentsreduced:la.commentcountreduced,commentOnClick:oa,contextArgs:this._contextArgs,"data-ft":ma,"data-gt":na,enableShowComments:this._enableShowComments,enableShowLikes:this._enableShowLikes,feedbackFBID:this._ftFBID,likes:la.likecount,likesreduced:la.likecountreduced,reshares:la.sharecount,resharesreduced:la.sharecountreduced,actorid:la.actorid});p.render(qa,this._blingTimelineRoot);}.bind(this));},_renderLike:function(){if(this._likeRoot)v.getFeedbackTarget(this._id,function(la){var ma=!la.hasviewerliked,na=function(event){var pa=ma?ea.UFIActionLinkLike:ea.UFIActionLinkUnlike;g.inform(pa,{ft_id:this._id,like_action:ma,target:event.target});da.changeLike(this._id,ma,{source:this._source,target:event.target,rootid:this._contextArgs.rootid,giftoccasion:this._contextArgs.giftoccasion});event.preventDefault();g.inform('inlineShare/reflow');}.bind(this),oa=p.createElement(x,{onClick:na,likeAction:ma,ufiExperiments:this._contextArgs.ufiexperiments});this._likeLink=p.render(oa,this._likeRoot);}.bind(this));},_renderComment:function(){if(!this._commentRoot)return;var la=function(event){this._setInlineShareActive(false);}.bind(this),ma=p.createElement(t,{onClick:la,ufiExperiments:this._contextArgs.ufiexperiments});this._commentLink=p.render(ma,this._commentRoot);},_renderMessageReply:function(){if(this._messageReplyRoot)v.getFeedbackTarget(this._id,function(la){this._messageReplyLink=null;if(la.allowmessagelink){var ma=p.createElement(h,{bootloadPlaceholder:p.createElement("span",null),bootloadComponent:function(oa){i.loadModules(["UFIMessageLink.react"],oa);},feedbackSource:this._source,postID:this._id});this._messageReplyLink=p.render(ma,this._messageReplyRoot);}else if(la.messagereplycontext){var na=p.createElement(fa,{actorID:la.actorforpost,activityID:this._id,context:la.messagereplycontext});this._messageReplyLink=p.render(na,this._messageReplyRoot);}if(!this._messageReplyLink||!p.findDOMNode(this._messageReplyLink)){if(this._messageReplySeparator)this._messageReplySeparator.data='';m.setContent(this._messageReplyRoot,null);return;}if(this._messageReplySeparator)this._messageReplySeparator.data=this._messageReplySeparatorData;}.bind(this));},_renderSubscribe:function(){if(this._subscribeRoot)v.getFeedbackTarget(this._id,function(la){var ma=!la.hasviewersubscribed,na=function(event){da.changeSubscribe(this._id,ma,{source:this._source,target:event.target,rootid:this._contextArgs.rootid,commentexpandmode:la.commentexpandmode});event.preventDefault();}.bind(this),oa=p.createElement(aa,{onClick:na,subscribeAction:ma});this._subscribeLink=p.render(oa,this._subscribeRoot);}.bind(this));},_onShareClick:function(event){if(this._getInlineShareLoaded()){this._setInlineShareActive(true);event.kill();}},_renderShare:function(){if(!(this._shareRoot&&this._shareURI))return;var la=this._ufiInstanceID,ma=!this._getInlineShareActive()&&this._shareNowMenuURI,na=ma?p.createElement(z,{endpoint:this._shareNowMenuURI,endpointData:{ufi_id:la}},p.createElement(y,{ufiExperiments:this._contextArgs.ufiexperiments})):p.createElement(y,{ufiExperiments:this._contextArgs.ufiexperiments,ajaxify:new ga(this._shareURI).addQueryData({ufi_id:la}),href:"#",onShareClick:this._onShareClick.bind(this),rel:this._shareRel});this._shareLink=p.render(na,this._shareRoot);},_setInlineShareActive:function(la){var ma=w.getKeyForInstance(this._ufiInstanceID,'inlineShare');w.updateState(this._ufiInstanceID,'inlineShare',Object.assign({},ma,{active:la,toggling:true}));},_getInlineShareLoaded:function(){var la=w.getKeyForInstance(this._ufiInstanceID,'inlineShare');return !!(la&&la.loaded);},_getInlineShareActive:function(){var la=w.getKeyForInstance(this._ufiInstanceID,'inlineShare');return !!(la&&la.active);},_isRenderingOnTimeline:function(){if(this._source===u.UFIFeedbackSourceType.PROFILE){var la=n.scry(this._ufiRoot,'^form .fbTimelineFeedbackActions .UFIBlingBoxTimeline');return (la.length>0);}return false;}});e.exports=ka;},null);
__d("MentionsInputUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={generateDataFromTextWithEntities:function(h){var i=h.text,j=[];(h.ranges||[]).forEach(function(l){var m=l.entity;if(!m.external)j.push({uid:m.id,text:i.substr(l.offset,l.length),offset:l.offset,length:l.length,weakreference:!!m.weakreference});});var k={value:i,mentions:j};return k;}};e.exports=g;},null);
__d("ClipboardPhotoUploader",["ArbiterMixin","AsyncRequest","mixin"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=i(g);for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(n,o){"use strict";this.uploadURIString=n;this.data=o;}m.prototype.handlePaste=function(event){"use strict";var n=m.getImages(event);for(var o=0;o<n.length;++o){var p=new FormData();p.append('pasted_file',n[o]);var q=new h();q.setURI(this.uploadURIString).setData(this.data).setRawData(p).setHandler(function(r){this.inform('upload_success',r);}.bind(this)).setErrorHandler(function(r){this.inform('upload_error',r);}.bind(this));this.inform('upload_start');q.send();break;}};m.getImages=function(event){"use strict";if(!event.clipboardData)return [];var n=event.clipboardData.items;if(!n)return [];var o,p=[];for(var q=0;q<n.length;++q){o=n[q];if(o.kind==='string')return [];if(o.kind==='file'&&o.type.indexOf('image/')!==-1)p.push(o.getAsFile());}return p;};e.exports=m;},null);
__d("CloseButton.react",["React","Image.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g.createClass({displayName:"CloseButton",render:function(){var l=this.props,m=l.size||'medium',n=l.appearance||'normal',o=m==='small',p=m==='huge',q=n==='dark',r=n==='inverted',s=l.ajaxify||null,t=l.rel||null,u=(("uiCloseButton")+(o?' '+"uiCloseButtonSmall":'')+(p?' '+"uiCloseButtonHuge":'')+(o&&q?' '+"uiCloseButtonSmallDark":'')+(o&&r?' '+"uiCloseButtonSmallInverted":'')+(!o&&q?' '+"uiCloseButtonDark":'')+(!o&&r?' '+"uiCloseButtonInverted":''));return (g.createElement("a",g.__spread({},this.props,{ajaxify:s,href:"#",role:"button","aria-label":l.tooltip,"data-hover":l.tooltip&&'tooltip',"data-tooltip-alignh":l.tooltip&&'center',className:j(this.props.className,u),rel:t}),g.createElement(h,{className:"uiCloseButtonHighContrast",src:"/images/chat/tab/close.png"})));}});e.exports=k;},null);
__d("InputCaretUtility",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={moveCaretToBeginning:function(h){if(typeof h.selectionStart==="number"){h.selectionStart=h.selectionEnd=0;}else if(h.createTextRange!==(void 0)){h.focus();var i=h.createTextRange();i.collapse(false);i.select();}},delayedMoveCaretToBeginning:function(h){setTimeout(function(){return g.moveCaretToBeginning(h);});}};e.exports=g;},null);
__d("LegacyMentionsInput.react",["Bootloader","CLogConfig","TypeaheadMetricsConfig","Event","InputCaretUtility","Keys","React","DOM","cx","FocusListener"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();b('FocusListener');var p=m,q=p.PropTypes,r=m.createClass({displayName:"ReactLegacyMentionsInput",propTypes:{initialData:q.object,placeholder:q.string,datasource:q.object,ref:q.string,viewOptionsTypeObjects:q.object,viewOptionsTypeObjectsOrder:q.array,hashtags:q.bool,autoflip:q.bool,onEnterSubmit:q.func,onFocus:q.func,onBlur:q.func,onTypingStateChange:q.func,onPaste:q.func},componentDidMount:function(){this.props.initialData&&this._initializeTextarea(m.findDOMNode(this));},hasEnteredText:function(){return !!(this._mentionsInput&&this._mentionsInput.getValue().trim());},setSignature:function(s){var t=m.findDOMNode(this.refs.textarea);n.setAttributes(t,{value:s});k.delayedMoveCaretToBeginning(t);},submitComment:function(event){var s;if(event){s=event.target.value&&event.target.value.trim();}else{var t=m.findDOMNode(this.refs.textarea);if(t.value&&t.value!==t.placeholder)s=t.value;}s=s||'';var u={visibleValue:s,encodedValue:s};if(this._mentionsInput)u.encodedValue=this._mentionsInput.getRawValue().trim();var v=this.props.onEnterSubmit(u,event);if(v&&this._mentionsInput){this._mentionsInput.reset();event&&event.preventDefault();}},_handleKeydown:function(event){var s=event.nativeEvent,t=j.getKeyCode(s)==l.RETURN&&!j.$E(s).getModifiers().any,u=this._mentionsInput&&this._mentionsInput.getTypeahead().getView().getSelection();if(this.props.onEnterSubmit&&t&&!u)this.submitComment(event);},_handleFocus:function(){this.props.onFocus&&this.props.onFocus();this._initializeTextarea(m.findDOMNode(this.refs.root));},_handleBlur:function(){this.props.onBlur&&this.props.onBlur();},_initializeTextarea:function(s){if(this._mentionsInput||this._bootloadingMentions)return;this._bootloadingMentions=true;g.loadModules(["CompactTypeaheadRenderer","ContextualTypeaheadView","CLoggerX","InputSelection","MentionsInput","TextAreaControl","Typeahead","TypeaheadAreaCore","TypeaheadBestName","TypeaheadHoistFriends","TypeaheadMetrics","TypeaheadMetricsX","TypingDetector","UFIComments"],function(t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){var ha=m.findDOMNode(this.refs.textarea);new y(ha);if(h.gkResults){var ia=ga.getComment(this.props.replyCommentID),ja=ia?ia.fbid:null;v.trackMentionsInput(ha,ja);}if(this.props.onTypingStateChange){var ka=new fa(ha);ka.init();ka.subscribe('change',this.props.onTypingStateChange);}var la={autoSelect:true,renderer:t,causalElement:ha,autoflip:this.props.autoflip};if(this.props.viewOptionsTypeObjects)la.typeObjects=this.props.viewOptionsTypeObjects;if(this.props.viewOptionsTypeObjectsOrder)la.typeObjectsOrder=this.props.viewOptionsTypeObjectsOrder;var ma=new z(this.props.datasource,{ctor:u,options:la},{ctor:aa},m.findDOMNode(this.refs.typeahead)),na=[ba,ca];if(i.gkResults){var oa=new ea({extraData:{event_name:'mention_metric_x'}});oa.init(ma);}var pa=new da({extraData:{event_name:'mentions',from_location:'comments'}});z.initNow(ma,na,pa);this._mentionsInput=new x(s,ma,ha,{hashtags:this.props.hashtags});this._mentionsInput.init({},this.props.initialData);if(this.props.initialData)w.set(ha,ha.value.length);if(this.props.onPaste)j.listen(ha,'paste',this.props.onPaste);this._bootloadingMentions=false;}.bind(this));},focus:function(){try{m.findDOMNode(this.refs.textarea).focus();}catch(s){}},render:function(){var s=(("textInput")+(' '+"mentionsTextarea")+(' '+"uiTextareaAutogrow")+(' '+"uiTextareaNoResize")+(' '+"UFIAddCommentInput"));return (m.createElement("div",{ref:"root",className:"uiMentionsInput textBoxContainer ReactLegacyMentionsInput"},m.createElement("div",{className:"highlighter"},m.createElement("div",null,m.createElement("span",{className:"highlighterContent hidden_elem"}))),m.createElement("div",{ref:"typeahead",className:"uiTypeahead mentionsTypeahead"},m.createElement("div",{className:"wrap"},m.createElement("input",{type:"hidden",autoComplete:"off",className:"hiddenInput"}),m.createElement("div",{className:"innerWrap"},m.createElement("textarea",{ref:"textarea",name:"add_comment_text",className:s,title:this.props.placeholder,placeholder:this.props.placeholder,onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyDown:this._handleKeydown})))),m.createElement("input",{type:"hidden",autoComplete:"off",className:"mentionsHidden",defaultValue:""})));}});e.exports=r;},null);
__d("LitestandStoryInsertionStatus",["ArbiterMixin","copyProperties"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i='check',j={registerBlocker:function(k){return j.subscribe(i,function(l,m){if(m.can_insert&&k())m.can_insert=false;});},canInsert:function(){var k={can_insert:true};j.inform(i,k);return k.can_insert;}};h(j,g);e.exports=j;},null);
__d("LoadingIndicator.react",["React","Image.react","cx","keyMirror","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=j({white:true,blue:true,black:true}),n=j({small:true,medium:true,large:true}),o={white:{large:k('/images/loaders/indicator_blue_large.gif'),medium:k('/images/loaders/indicator_blue_medium.gif'),small:k('/images/loaders/indicator_blue_small.gif')},blue:{large:k('/images/loaders/indicator_white_large.gif'),small:k('/images/loaders/indicator_white_small.gif')},black:{large:k('/images/loaders/indicator_black.gif')}},p=g.createClass({displayName:"LoadingIndicator",render:function(){var q=this.props.color,r=this.props.size;if(!o[q])return g.createElement("span",null);if(!o[q][r])return g.createElement("span",null);var s=((this.props.showonasync?"uiLoadingIndicatorAsync":'')),t=o[q][r];return (g.createElement(h,g.__spread({},this.props,{src:t,className:l(this.props.className,s)})));}});p.SIZES=n;p.COLORS=m;e.exports=p;},null);
__d("PageAdminSignatureSettings",["Arbiter","AdminSignatureConstants","invariant"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k,l){"use strict";this.$PageAdminSignatureSettings0();if(!!l)this.$PageAdminSignatureSettings1=l;if(k instanceof j){i(!!l);this.$PageAdminSignatureSettings2(k);}else if(k!==null&&k!==(void 0)){this.$PageAdminSignatureSettings3=k.isValid;if(!this.$PageAdminSignatureSettings3)return;this.$PageAdminSignatureSettings4=k.signature;this.$PageAdminSignatureSettings5=k.shouldAttachToPost;this.$PageAdminSignatureSettings6=k.shouldAttachToComment;this.$PageAdminSignatureSettings7=k.shouldAttachToMessage;this.$PageAdminSignatureSettings8=k.everPromptedUser;this.$PageAdminSignatureSettings9=k.pageID;this.$PageAdminSignatureSettingsa=k.userID;}g.subscribe(h.EVENT_ADMIN_SIGNATURE_SETTING_CHANGED,function(m,n){return this.$PageAdminSignatureSettingsb(m,n);}.bind(this));g.subscribe(h.EVENT_ADMIN_SIGNATURE_PROMPTED,function(m,n){return this.$PageAdminSignatureSettingsc(m,n);}.bind(this));}j.prototype.getIsValid=function(){"use strict";return this.$PageAdminSignatureSettings3;};j.prototype.getIsValidWithActor=function(){"use strict";return this.getIsValid()&&this.$PageAdminSignatureSettings1!==null&&this.$PageAdminSignatureSettings1===this.$PageAdminSignatureSettings9;};j.prototype.getPageID=function(){"use strict";return this.$PageAdminSignatureSettings9;};j.prototype.getUserID=function(){"use strict";return this.$PageAdminSignatureSettingsa;};j.prototype.getSignature=function(){"use strict";return this.$PageAdminSignatureSettings4;};j.prototype.getShouldAttachToPost=function(){"use strict";return this.$PageAdminSignatureSettings5;};j.prototype.getShouldAttachToComment=function(){"use strict";return this.$PageAdminSignatureSettings6;};j.prototype.getShouldAttachToMessage=function(){"use strict";return this.$PageAdminSignatureSettings7;};j.prototype.getEverPromptedUser=function(){"use strict";return this.$PageAdminSignatureSettings8;};j.prototype.$PageAdminSignatureSettings0=function(){"use strict";this.$PageAdminSignatureSettings8=false;this.$PageAdminSignatureSettings9="";this.$PageAdminSignatureSettings6=false;this.$PageAdminSignatureSettings7=false;this.$PageAdminSignatureSettings5=false;this.$PageAdminSignatureSettings4="";this.$PageAdminSignatureSettingsa="";this.$PageAdminSignatureSettings3=false;this.$PageAdminSignatureSettings1=null;};j.prototype.$PageAdminSignatureSettings2=function(k){"use strict";this.$PageAdminSignatureSettings8=k.$PageAdminSignatureSettings8;this.$PageAdminSignatureSettings9=k.$PageAdminSignatureSettings9;this.$PageAdminSignatureSettings6=k.$PageAdminSignatureSettings6;this.$PageAdminSignatureSettings7=k.$PageAdminSignatureSettings7;this.$PageAdminSignatureSettings5=k.$PageAdminSignatureSettings5;this.$PageAdminSignatureSettings4=k.$PageAdminSignatureSettings4;this.$PageAdminSignatureSettingsa=k.$PageAdminSignatureSettingsa;this.$PageAdminSignatureSettings3=k.$PageAdminSignatureSettings3;};j.prototype.$PageAdminSignatureSettingsc=function(k,l){"use strict";if(l.userID!==this.$PageAdminSignatureSettingsa)return;this.$PageAdminSignatureSettings8=true;};j.prototype.$PageAdminSignatureSettingsb=function(k,l){"use strict";if(l.userID!==this.$PageAdminSignatureSettingsa||l.pageID!==this.$PageAdminSignatureSettings9)return;switch(l.settingChanged){case h.SETTING_ATTACH_TO_POST:this.$PageAdminSignatureSettings5=l.newValue;break;case h.SETTING_ATTACH_TO_MESSAGE:this.$PageAdminSignatureSettings7=l.newValue;break;case h.SETTING_ATTACH_TO_COMMENT:this.$PageAdminSignatureSettings6=l.newValue;break;default:i(false);}};e.exports=j;},null);
__d("XPagesAdminSignatureSettingsController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/admin\/signature\/settings\/",{});},null);
__d("XPagesAdminSignaturePromptDialogController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/admin\/signature\/prompt\/",{__asyncDialog:{type:"Int"}});},null);
__d("PageAdminSignatureMonitor",["Arbiter","AsyncRequest","AdminSignatureConstants","DOM","DOMQuery","Event","InputCaretUtility","PageAdminSignatureSettings","XPagesAdminSignatureSettingsController","XPagesAdminSignaturePromptDialogController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q={registerComposerControlForSignature:function(r,s,t,u){if(!s||!s.isValid)return;var v=this._getUnderlyingTextControl(r),w=new n(s,t);l.listen(v,'focus',function(){this._handleInputFieldFocusForSignature(v,w,w.getShouldAttachToPost(),function(x){return x.value;},function(x,y){if(u)y='\n\n'.concat(y);j.setAttributes(x,{value:y});m.delayedMoveCaretToBeginning(x);});}.bind(this));},handleReactInputFieldFocusForSignature:function(r,s,t){this._handleInputFieldFocusForSignature(r,s,t,function(u){return u.hasEnteredText();},function(u,v){return u.setSignature(v);});},prepareConfirmationDialog:function(r,s,t){r.subscribe('confirm',function(){r.hide();this._notifyPromptConfirmation(s,t,true);}.bind(this));r.subscribe('cancel',function(){this._notifyPromptConfirmation(s,t,false);}.bind(this));},_promptForAutoSignature:function(r){g.inform(i.EVENT_ADMIN_SIGNATURE_PROMPTED,{userID:r.getUserID()});var s=p.getURIBuilder().getURI();new h().setURI(s).setData({pageID:r.getPageID()}).send();},_handleInputFieldFocusForSignature:function(r,s,t,u,v){if(!s||!s.getIsValidWithActor())return;if(!s.getEverPromptedUser()){this._promptForAutoSignature(s);}else if(t&&!u(r))v(r,s.getSignature());},_notifyPromptConfirmation:function(r,s,t){var u=o.getURIBuilder().getURI();new h().setURI(u).setData({pageID:r,signatureOption:i.SETTING_EVER_PROMPTED,signatureOptionValue:t}).send();this._aribiterNotifyPromptConfirmation(r,s,t);},_getUnderlyingTextControl:function(r){return k.find(r,'textarea');},_aribiterNotifyPromptConfirmation:function(r,s,t){var u=[i.SETTING_ATTACH_TO_POST,i.SETTING_ATTACH_TO_COMMENT,i.SETTING_ATTACH_TO_MESSAGE];u.forEach(function(v){g.inform(i.EVENT_ADMIN_SIGNATURE_SETTING_CHANGED,{pageID:r,userID:s,settingChanged:v,newValue:t});});}};e.exports=q;},null);
__d("ReactLayeredComponentMixin",["ExecutionEnvironment","ReactInstanceMap","ReactCurrentOwner","React","ReactFragment","renderSubtreeIntoContainer"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m={componentWillMount:function(){if(g.canUseDOM)this._layersContainer=document.createElement('div');},componentDidMount:function(){this._renderLayersIntoContainer();},componentDidUpdate:function(){this._renderLayersIntoContainer();},componentWillUnmount:function(){j.unmountComponentAtNode(this._layersContainer);},_renderLayersIntoContainer:function(){i.current=h.get(this);var n;try{n=this.renderLayers();}finally{i.current=null;}if(n&&!Array.isArray(n)&&!j.isValidElement(n))n=k.create(n);l(this,j.createElement("div",null,n),this._layersContainer);}};e.exports=m;},null);
__d("SnowflakePermalinkUtils",["URI"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=/\/[^/]+\/(albums\/([^/]+)|posts\/([a-zA-Z]+[^/]+))\/([^/]+\/)?/,i=/\/[^/]+\/(albums|posts)\/([^/]+)\/([^/]+\/)?/,j={isPermalinkURI:function(k){k=new g(k);return h.test(k.getPath());},parseURI:function(k){if(!this.isPermalinkURI(k))return {};k=new g(k);var l=k.getPath().match(i);return {setToken:l[2],entIdentifierToken:l[3],photoID:k.getQueryData().photo_id};}};e.exports=j;},null);
__d("Sticker.react",["Arbiter","React","StickerConfig","StickerConstants","emptyFunction","getElementPosition","getObjectValues"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=h,o=n.PropTypes,p=83,q=5000,r=10,s={CLICK:'click',HOVER:'hover',LOAD_AND_HOVER:'load_and_hover'},t=h.createClass({displayName:"Sticker",propTypes:{animationTrigger:o.oneOf(m(s)),frameCount:o.number.isRequired,frameRate:o.number,framesPerCol:o.number.isRequired,framesPerRow:o.number.isRequired,onStickerClick:o.func,packID:o.string,sourceURI:o.string.isRequired,sourceWidth:o.number.isRequired,sourceHeight:o.number.isRequired,spriteURI:o.string,stickerID:o.string,subscribedThreadID:o.string},getInitialState:function(){return {index:0,hasAnimated:false,unsubscribeID:null};},getDefaultProps:function(){return {frameRate:p,onStickerClick:k,packID:null};},componentDidMount:function(){this._stopIntervalID=0;if(this.props.animationTrigger===s.LOAD_AND_HOVER&&this.props.frameCount>1&&this.props.spriteURI)this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount>1){var u=g.subscribe(this.props.subscribedThreadID,function(v,w){this.isScrolledIntoView(w.scrollTop,w.viewHeight,w.top);}.bind(this));this.setState({unsubscribeID:u});}},componentWillUnmount:function(){if(this.state.unsubscribeID)g.unsubscribe(this.state.unsubscribeID);if(this.isAnimating())clearInterval(this._stopIntervalID);},isAnimating:function(){return !!this._stopIntervalID;},getWidth:function(){return Math.floor(this.props.sourceWidth);},getHeight:function(){return Math.floor(this.props.sourceHeight);},preloadSprite:function(){var u=new Image();u.onload=function(){if(this.isMounted()&&!this.state.hasAnimated){this.setState({hasAnimated:true});this._stopIntervalID=setInterval(this.incrementFrameIndex,this.props.frameRate);}}.bind(this);if(i.ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){u.src=this.props.paddedSpriteURI;}else u.src=this.props.spriteURI;},isScrolledIntoView:function(u,v,w){var x=l(h.findDOMNode(this)),y=u+x.y-w,z=u+v,aa=y+x.height;if(this.props.frameCount>1&&!this.state.hasAnimated&&aa-r<=z&&y+r>=u)this.startAnimation();},startAnimation:function(){if(!this.state.hasAnimated&&this.props.spriteURI){this.preloadSprite();}else if(!this.isAnimating()){this.setState({hasAnimated:true});this._stopIntervalID=setInterval(this.incrementFrameIndex,this.props.frameRate);}},stopAnimation:function(){this.setState({index:0});clearInterval(this._stopIntervalID);this._stopIntervalID=0;},toggleAnimation:function(){if(this.isAnimating()){this.stopAnimation();}else this.startAnimation();},shouldStopAnimating:function(){var u=this.state.index%this.props.frameCount;if(!(u===0&&this.state.index*this.props.frameRate>q))return false;if(this.props.animationTrigger===s.CLICK)return true;return !this.state.isHovered;},incrementFrameIndex:function(){if(this.shouldStopAnimating()){this.stopAnimation();}else this.setState({index:this.state.index+1});},getStyle:function(){var u=0,v=this.props.spriteURI;if(i.ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){v=this.props.paddedSpriteURI;var w=240/Math.min(this.getHeight(),this.getWidth());u=Math.floor(j.SPRITE_PADDING/w);}var x=this.state.index%this.props.frameCount,y=(x%this.props.framesPerRow)*(this.getWidth()+u*2)+u,z=Math.floor(x/this.props.framesPerRow)*(this.getHeight()+u*2)+u,aa=(this.props.frameCount>1&&this.props.animationTrigger===s.CLICK)||this._isStickerClickable(this.props.packID),ba;if(this.props.style&&this.props.style.cursor){ba=this.props.style.cursor;}else ba=aa?'pointer':'default';if(!this.state.hasAnimated||!this.props.spriteURI){return {backgroundImage:'url('+this.props.sourceURI+')',backgroundRepeat:'no-repeat',backgroundSize:this.getWidth()+'px '+this.getHeight()+'px',cursor:ba,height:this.getHeight(),width:this.getWidth()};}else return {backgroundImage:'url('+v+')',backgroundPosition:(-y)+'px '+(-z)+'px',backgroundSize:(this.getWidth()+u*2)*this.props.framesPerRow+'px '+(this.getHeight()+u*2)*this.props.framesPerCol+'px',cursor:ba,height:this.getHeight(),width:this.getWidth()};},_isStickerClickable:function(u){return u&&u!=j.MOBILE_LIKE_STICKER_PACK_ID&&u!=j.GRAVEYARD_PACK_ID;},onStickerClick:function(){if(!this._isStickerClickable(this.props.packID))return;if(this.props.onStickerClick)this.props.onStickerClick(this.props.packID,this.props.stickerID);},mouseLeft:function(){this.setState({isHovered:false});},mouseEntered:function(){this.setState({isHovered:true});if(!this.isAnimating())this.startAnimation();},tabFocusSelected:function(){this.setState({isHovered:true});if(!this.isAnimating())this.startAnimation();},tabFocusUnselected:function(){this.setState({isHovered:false});},render:function(){var u,v;if(this.props.animationTrigger===s.CLICK&&this.props.frameCount>1&&this.props.spriteURI){u=true;}else if((this.props.animationTrigger===s.HOVER||this.props.animationTrigger===s.LOAD_AND_HOVER)&&this.props.frameCount>1&&this.props.spriteURI)v=true;var w=u?this.toggleAnimation:null;if(this.props.packID)w=this.onStickerClick;return (h.createElement("div",h.__spread({tabIndex:"0"},this.props,{style:Object.assign({},(this.props.style||{}),this.getStyle()),onClick:w,onMouseEnter:v?this.mouseEntered:null,onMouseLeave:v?this.mouseLeft:null,onFocus:this.tabFocusSelected,onBlur:this.tabFocusUnselected})));}});e.exports=t;},null);
__d("UFIClassNames",["cx"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();e.exports={ACTOR_IMAGE:"img UFIActorImage _54ru",ROW:"UFIRow",UNSEEN_ITEM:"UFIUnseenItem"};},null);
__d("ImageBlock.react",["LeftRight.react","React","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();function l(o){j(o.children&&(o.children.length===2||o.children.length===3));}function m(o){return (("img")+(' '+"_8o")+(o==='small'?' '+"_8r":'')+(o==='medium'?' '+"_8s":'')+(o==='large'?' '+"_8t":''));}var n=h.createClass({displayName:"ImageBlock",render:function(){l(this.props);var o=this.props.children[0],p=this.props.children[1],q=this.props.children[2],r=this.props.spacing||'small',s={className:k(o.props.className,m(r),this.props.imageClassName)};if(o.type==='img'){if(o.props.alt===(void 0))s.alt='';}else if((o.type==='a'||o.type==='link')&&o.props.tabIndex===(void 0)&&o.props.title===(void 0)&&o.props['aria-label']===(void 0)){s.tabIndex='-1';s['aria-hidden']='true';}o=h.cloneElement(o,s);var t=k(this.props.contentClassName,(("_42ef")+(r==='small'?' '+"_8u":''))),u;if(!q){u=h.createElement("div",{className:t},p);}else u=h.createElement(g,{className:t,direction:g.DIRECTION.right},p,q);return (h.createElement(g,h.__spread({},this.props,{direction:g.DIRECTION.left}),o,u));}});e.exports=n;},null);
__d("UFIImageBlock.react",["ImageBlock.react","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h.createClass({displayName:"UFIImageBlock",render:function(){return (h.createElement(g,h.__spread({},this.props,{imageClassName:"UFIImageBlockImage",contentClassName:"UFIImageBlockContent"}),this.props.children));}});e.exports=j;},null);
__d("UFIStickerButton.react",["Bootloader","ContextualLayerAutoFlip","Link.react","React","ReactLayeredComponentMixin","StickerInterfaces","cx","fbt","getObjectValues"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=j,q=p.PropTypes,r=j.createClass({displayName:"UFIStickerButton",propTypes:{onStickerFlyoutShow:q.func,onStickerSelected:q.func.isRequired,onEmoticonSelected:q.func,showTooltip:q.bool,stickerInterface:q.oneOf(o(l))},mixins:[k],getDefaultProps:function(){return {showTooltip:true,stickerInterface:l.COMMENTS};},getInitialState:function(){return {renderFlyout:null,flyoutShown:false};},render:function(){var s=n._("Opublikuj naklejk\u0119");return (j.createElement(i,{"aria-label":(this.props.showTooltip)?s:null,className:"UFICommentStickerButton","data-hover":"tooltip","data-tooltip-alignh":"center",onClick:this._onLinkClicked,onMouseDown:this._prepareForClick},j.createElement("div",{ref:"icon",tabIndex:0,className:"UFICommentStickerIcon"}),this.props.children));},renderLayers:function(){return !this.state.renderFlyout?{}:this.state.renderFlyout();},_hideFlyout:function(){this.setState({flyoutShown:false});},_prepareForClick:function(){this._clickGuard=this.state.flyoutShown;},_onLinkClicked:function(){if(this.state.renderFlyout!==null){if(!this._clickGuard){this.props.onStickerFlyoutShow&&this.props.onStickerFlyoutShow();this.setState({flyoutShown:true});}return;}g.loadModules(["XUIContextualDialog.react","StickersFlyout.react"],function(s,t){this.setState({flyoutShown:true,renderFlyout:function(){return {contextualDialog:j.createElement(s,{alignment:"right",behaviors:{flip:h},className:"_5e-r",contextRef:function(){return this.refs.icon;}.bind(this),onBlur:this._hideFlyout,position:"above",shown:this.state.flyoutShown,hasActionableContext:true,width:278},j.createElement("div",null,j.createElement(t,{onPackSelect:function(u){this.setState({packID:u});}.bind(this),onEscKeyDown:this._hideFlyout,onStickerSelect:this._onStickerSelected,onEmoticonSelect:this._onEmoticonSelected,stickerInterface:this.props.stickerInterface,packID:this.state.packID,shown:this.state.flyoutShown})))};}.bind(this)});this.props.onStickerFlyoutShow&&this.props.onStickerFlyoutShow();}.bind(this));},_onStickerSelected:function(s,event){this.props.onStickerSelected(s,event);this._hideFlyout();},_onEmoticonSelected:function(s){this.props.onEmoticonSelected(s);this._hideFlyout();}});e.exports=r;},null);
__d("XFeedNUXSaveSeenStateController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/feed\/nux\/seen\/save\/",{link_id:{type:"String"},key:{type:"String",required:true},seen:{type:"Bool",defaultValue:false}});},null);
__d("UFIAddComment.react",["ActorURI","AsyncRequest","Bootloader","ClipboardPhotoUploader","CloseButton.react","DOM","DOMContainer.react","getActiveElement","Event","Focus","HTML","Keys","LegacyMentionsInput.react","Link.react","LitestandStoryInsertionStatus","LoadingIndicator.react","PageAdminSignatureMonitor","PageAdminSignatureSettings","React","ReactLayeredComponentMixin","Run","SnowflakePermalinkUtils","Sticker.react","TrackingNodes","UFIClassNames","UFIConfig","UFIConstants","UFIImageBlock.react","UFIStickerButton.react","URI","XFeedNUXSaveSeenStateController","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na){b.__markCompiled&&b.__markCompiled();var oa=y,pa=oa.PropTypes,qa=ma._("Napisz komentarz\u2026"),ra=ma._("Napisz odpowied\u017a\u2026"),sa="fcg fss UFICommentTip",ta=19,ua='/ajax/ufi/upload/',va=80,wa='/ajax/ufi/sticker_preview/',xa=y.createClass({displayName:"UFIAddComment",mixins:[z],propTypes:{contextArgs:pa.object.isRequired,viewerActor:pa.object.isRequired,allowPhotoAttachments:pa.bool,allowStickerAttachments:pa.bool,attachedPhoto:pa.object,attachedSticker:pa.object,feedbackIsRanked:pa.bool,hide:pa.bool,initialData:pa.object,isEditing:pa.bool,isFirstComponent:pa.bool,isLastComponent:pa.bool,isSnowlift:pa.bool,isQAndA:pa.bool,mentionsDataSource:pa.object,onCancel:pa.func,onCommentSubmit:pa.func,onTypingStateChange:pa.func,replyCommentID:pa.string,showSendOnEnterTip:pa.bool,subtitle:pa.any,targetID:pa.string,withoutSeparator:pa.bool},getInitialState:function(){if(this.props.attachedPhoto)this.props.contextArgs.attachedphoto=this.props.attachedPhoto;if(this.props.attachedSticker)this.props.contextArgs.attachedsticker=this.props.attachedSticker;return {attachedPhoto:this.props.attachedPhoto?this.props.attachedPhoto:null,attachedSticker:this.props.attachedSticker?this.props.attachedSticker:null,fileInput:null,fileUploader:null,isCommenting:false,isLoadingPhoto:false,renderStickerNUX:null,stickerNUXVisible:false,isFocused:this.props.isEditing,signatureContext:new x(this.props.contextArgs.pagesAdminSignatureSettings,this.props.viewerActor.id)};},_onKeyDown:function(event){if(this.props.isEditing&&o.getKeyCode(event.nativeEvent)===r.ESC)this.props.onCancel();if(this.isMounted()&&!this._isOnBeforeUnloadListenerAdded){aa.onBeforeUnload(this._handleUnsavedChanges);this._isOnBeforeUnloadListenerAdded=true;}var ya=n();if(o.getKeyCode(event.nativeEvent)===r.ESC)ya.blur();},_handleUnsavedChanges:function(){var ya=a.PageTransitions;if(ya){var za=ja.getNextURI(),ab=ya.getMostRecentURI();if(za.getQueryData().hasOwnProperty('theater')||ab.getQueryData().hasOwnProperty('theater')||ba.isPermalinkURI(za)||ba.isPermalinkURI(ab))return;var bb=a.DialogNavigationStack;if(bb&&bb.isActiveURI(za))return;}if(this.refs&&this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return ma._({"*":"Nie sko\u0144czy\u0142e\u015b(a\u015b) wprowadza\u0107 komentarza. Czy mimo to chcesz wyj\u015b\u0107?","16777216":"Nie sko\u0144czy\u0142e\u015b wprowadza\u0107 komentarza. Czy mimo to chcesz wyj\u015b\u0107?","33554432":"Nie sko\u0144czy\u0142a\u015b wprowadza\u0107 komentarza. Czy mimo to chcesz wyj\u015b\u0107?","__vcg":1});},_blur:function(){this.setState({stickerNUXVisible:false});setTimeout(function(){if(this.isMounted())this.setState({isFocused:false});}.bind(this),100);if(this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return;this.setState({isCommenting:false});},_onPaste:function(event){var ya=new j(ua,this._getPhotoUploadData());this._cancelCurrentSubscriptions();this._subscriptions=[ya.subscribe('upload_start',this._prepareForAttachedPhotoPreview),ya.subscribe('upload_error',this._onRemoveAttachedPhotoPreviewClicked),ya.subscribe('upload_success',function(za,ab){this._onPhotoUploadComplete(ab);}.bind(this))];ya.handlePaste(event);},_onEnterSubmit:function(ya,event){var za=this.state.attachedPhoto||this.state.attachedSticker,ab=this.props.isEditing||za;if(this.state.isLoadingPhoto){return false;}else if(!ya.encodedValue.trim()&&!ab)return false;ya.encodedValue=ya.encodedValue.trim();if(za){ya.attachedPhoto=this.state.attachedPhoto;ya.attachedSticker=this.state.attachedSticker;this.setState({isLoadingPhoto:false,attachedPhoto:null,attachedSticker:null});}else{ya.attachedPhoto=null;ya.attachedSticker=null;}this.props.onCommentSubmit(ya,event);return true;},_cancelCurrentSubscriptions:function(){if(this._subscriptions)this._subscriptions.forEach(function(ya){ya.unsubscribe();});},componentWillMount:function(){this._isOnBeforeUnloadListenerAdded=false;this._storyInsertionBlocker=u.registerBlocker(function(){return this.state.isCommenting;}.bind(this));},componentWillUnmount:function(){this._cancelCurrentSubscriptions();this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;},focus:function(){var ya={isCommenting:true,isFocused:true};if(this.props.allowStickerAttachments&&fa.shouldShowStickerNUX){var za=ka.getURIBuilder().setString('key','sticker_comments').setBool('seen',true).getURI();new h(za).send();if(this.state.renderStickerNUX===null)i.loadModules(["XUIAmbientNUX.react"],function(ab){ya.renderStickerNUX=function(){return {ambientNUX:y.createElement(ab,{contextRef:function(){return this.refs.sticker_button;}.bind(this),shown:this.state.stickerNUXVisible,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this._hideStickerNUX},ma._("Teraz mo\u017cesz komentowa\u0107 przy u\u017cyciu naklejki!"))};}.bind(this);}.bind(this));fa.shouldShowStickerNUX=false;ya.stickerNUXVisible=true;}w.handleReactInputFieldFocusForSignature(this.refs.mentionsinput,this.state.signatureContext,this.state.signatureContext.getShouldAttachToComment());this.setState(ya);},renderLayers:function(){return !this.state.renderStickerNUX?{}:this.state.renderStickerNUX();},render:function(){var ya=!this.props.contextArgs.collapseaddcomment||this.state.isCommenting,za=null;if(this.props.subtitle){za=y.createElement("span",{className:sa},this.props.subtitle);}else if(!this.state.isFocused&&this.props.isEditing){za=y.createElement("span",{className:sa},ma._("{cancel}",[ma.param("cancel",y.createElement(t,{onClick:this.props.onCancel},ma._("Anuluj")))]));}else if(this.props.isEditing){za=y.createElement("span",{className:sa},ma._("Naci\u015bnij Esc, aby {cancel}.",[ma.param("cancel",y.createElement(t,{onClick:this.props.onCancel},ma._("anulowa\u0107")))]));}else if(this.props.showSendOnEnterTip)za=y.createElement("span",{className:sa},ma._("Naci\u015bnij Enter, aby opublikowa\u0107."));var ab=null,bb=null,cb=this.state.attachedPhoto||this.state.attachedSticker,db=null;if(this.props.allowStickerAttachments&&!cb)bb=y.createElement(ia,{ref:"sticker_button",onStickerSelected:this.onStickerSelected,onEmoticonSelected:this._insertEmoticonIntoCommentText});if(this.props.allowPhotoAttachments){db=this._onPaste;var eb=cb?"UFICommentPhotoAttachedIcon":"UFICommentPhotoIcon",fb="UFIPhotoAttachLinkWrapper _m";ab=y.createElement("div",{ref:"PhotoInputContainer",className:fb,"data-hover":"tooltip","data-tooltip-alignh":"center","aria-label":ma._("Za\u0142\u0105cz zdj\u0119cie")},y.createElement("i",{ref:"PhotoInputControl",className:eb}));}var gb=da.getTrackingInfo(da.types.ADD_COMMENT_BOX),hb=na(ea.ACTOR_IMAGE,((!ya?"hidden_elem":''))),ib=y.createElement("div",{className:"UFIReplyActorPhotoWrapper",onClick:this.focus},y.createElement("img",{className:hb,src:this.props.viewerActor.thumbSrc,alt:this.props.viewerActor.name})),jb=na(ea.ROW,((this.props.hide?"noDisplay":'')+(' '+"UFIComponent")+(' '+"UFIAddComment")+(this.props.allowPhotoAttachments?' '+"UFIAddCommentWithPhotoAttacher":'')+(this.props.withoutSeparator?' '+"UFIAddCommentWithoutSeparator":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),kb;if(!!this.props.replyCommentID){kb=ra;}else if(this.props.isQAndA){kb=ma._("Zadaj pytanie...");}else if(this.props.source===ga.UFIFeedbackSourceType.TOPIC_CONVERSATION){kb=ma._("Porozmawiaj na ten temat...");}else if(!this.props.contextArgs.hasComments&&this.props.contextArgs.commentPlaceholderText){kb=this.props.contextArgs.commentPlaceholderText;}else kb=qa;var lb=this.props.contextArgs.viewoptionstypeobjects,mb=this.props.contextArgs.viewoptionstypeobjectsorder,nb=null;if(this.state.attachedSticker){var ob=this._getScaledDimensions(cb.metadata.height,cb.metadata.width),pb=null,qb=null;if(window.devicePixelRatio&&window.devicePixelRatio>1){pb=cb.metadata.sprite_uri_2x;qb=cb.metadata.source_uri_2x;}else{pb=cb.metadata.sprite_uri;qb=cb.metadata.source_uri;}nb=y.createElement(ca,{animationTrigger:"load_and_hover",frameCount:cb.metadata.frameCount,framesPerCol:cb.metadata.framesPerCol,framesPerRow:cb.metadata.framesPerRow,spriteURI:pb,sourceHeight:ob.height,sourceURI:qb,sourceWidth:ob.width});}else if(this.state.attachedPhoto){var rb=cb.markupPreview;if(q.isHTML(rb.markup))rb=q.replaceJSONWrapper(rb.markup).getRootNode();nb=y.createElement(m,null,rb);if(!this.props.subtitle)za=null;}else if(this.state.isLoadingPhoto)nb=y.createElement(v,{color:"white",className:"UFICommentPhotoAttachedPreviewLoadingIndicator",size:"medium"});var sb,tb=this.state.attachedPhoto?this._onRemoveAttachedPhotoPreviewClicked:this._onRemoveAttachedStickerPreviewClicked;if(nb!=null){var ub=null;if(this.state.attachedSticker){ub=ma._("Usu\u0144 naklejk\u0119");}else if(this.state.attachedPhoto)ub=ma._("Usu\u0144 zdj\u0119cie");sb=y.createElement("div",{className:"UFICommentPhotoAttachedPreview pas"},nb,y.createElement(k,{tooltip:ub,onClick:tb}));}var vb=this.props.allowStickerAttachments?na("UFIMentionsInputWrap","UFIStickersEnabledInput"):"UFIMentionsInputWrap",wb,xb,yb;if(this.props.contextArgs.mentionsinput){var zb=this.props.contextArgs.mentionsinput;wb=zb.inputComponent;xb=zb.viewComponent;yb=zb.viewProps;}else wb=s;return (y.createElement("li",{className:jb,onKeyDown:this._onKeyDown,"data-ft":gb},y.createElement(ha,{className:vb},ib,y.createElement("div",{className:"UFICommentContainer"},y.createElement("div",{className:"UFIInputContainer"},y.createElement(wb,{replyCommentID:this.props.replyCommentID,initialData:this.props.initialData,placeholder:kb,datasource:this.props.mentionsDataSource,ref:"mentionsinput",viewComponent:xb,viewProps:yb,viewOptionsTypeObjects:lb,viewOptionsTypeObjectsOrder:mb,hashtags:this.props.contextArgs.sht,autoflip:this.props.contextArgs.addcommentautoflip,monitorHeight:this.props.contextArgs.monitorHeight,onEnterSubmit:this._onEnterSubmit,onFocus:this.focus,onBlur:this._blur,onTypingStateChange:this.props.onTypingStateChange,onPaste:db}),y.createElement("div",{className:"UFICommentAttachmentButtons clearfix"},ab,bb)),sb,za))));},componentDidUpdate:function(ya,za,ab){if(!za.attachedPhoto&&this.state.attachedPhoto||!za.attachedSticker&&this.state.attachedSticker||!za.isCommenting&&this.state.isCommenting)this.refs.mentionsinput.focus();if(ya.viewerActor.id!==this.props.viewerActor.id){if(this.state.fileInput)this.state.fileInput.clear();if(this.state.fileUploader)this.state.fileUploader.setData(this._getPhotoUploadData());this._onRemoveAttachedPhotoPreviewClicked();}},componentDidMount:function(){if(!this.props.allowPhotoAttachments)return;var ya=y.findDOMNode(this.refs.PhotoInputContainer),za=y.findDOMNode(this.refs.PhotoInputControl),ab=ma._("Za\u0142\u0105cz zdj\u0119cie"),bb=l.create('input',{accept:'image/*',className:"_n",name:'file',type:'file',title:ab,'aria-label':ab});l.appendContent(za,bb);var cb=o.listen(ya,'click',function(event){i.loadModules(["FileInput","FileInputUploader","Input"],function(db,eb,fb){var gb=new db(ya,za,bb),hb=new eb().setAllowCrossPageTransition(true).setURI(ua).setData(this._getPhotoUploadData());gb.subscribe('change',function(event){if(gb.getValue()){this._prepareForAttachedPhotoPreview();hb.setInput(gb.getInput()).send();}}.bind(this));hb.subscribe('success',function(ib,jb){gb.clear();this._onPhotoUploadComplete(jb.response);}.bind(this));hb.subscribe('failure',function(ib,jb){gb.clear();this._onPhotoUploadComplete(jb.response);}.bind(this));p.setWithoutOutline(za);this.setState({fileInput:gb,fileUploader:hb});}.bind(this));cb.remove();}.bind(this));},insertMention:function(ya){if(this.refs.mentionsinput&&this.refs.mentionsinput.insertMention)this.refs.mentionsinput.insertMention(ya);},_getScaledDimensions:function(ya,za){var ab,bb,cb;if(za>ya){cb=va/za;ab=ya*cb;bb=za*cb;}else{cb=va/ya;ab=ya*cb;bb=za*cb;}return {height:Math.round(ab),width:Math.round(bb)};},_getPhotoUploadData:function(){var ya=this.props.viewerActor.id,za={profile_id:ya,target_id:this.props.targetID,source:ta};za[g.PARAMETER_ACTOR]=ya;return za;},_onPhotoUploadComplete:function(ya){if(!this.state.isLoadingPhoto)return;var za=ya.getPayload();if(za&&za.fbid){this.props.contextArgs.attachedphoto=za;this.setState({attachedPhoto:za,isLoadingPhoto:false});}else this._onRemoveAttachedPhotoPreviewClicked(null);},_onRemoveAttachedPhotoPreviewClicked:function(event){this.props.contextArgs.attachedphoto=null;this.setState({attachedPhoto:null,isLoadingPhoto:false});},_prepareForAttachedPhotoPreview:function(){this.props.contextArgs.attachedphoto=null;this.setState({attachedPhoto:null,isLoadingPhoto:true});},_onStickerUploadComplete:function(ya){if(!this.state.isLoadingPhoto)return;var za=ya.getPayload();if(za&&za.fbid){this.props.contextArgs.attachedsticker=za;this.setState({attachedSticker:za,isLoadingPhoto:false});}else{i.loadModules(["Dialog"],function(ab){var bb=ma._("Dodawanie naklejki nie powiod\u0142o si\u0119"),cb=ma._("Podczas za\u0142\u0105czania naklejki wyst\u0105pi\u0142 b\u0142\u0105d.");new ab().setTitle(bb).setBody(cb).setButtons(ab.OK).show();});this._onRemoveAttachedStickerPreviewClicked(null);}},_onRemoveAttachedStickerPreviewClicked:function(event){this.props.contextArgs.attachedsticker=null;this.setState({attachedSticker:null,isLoadingPhoto:false});},onStickerSelected:function(ya,event){if(this.props.isEditing||this.refs.mentionsinput.hasEnteredText()){this._prepareForAttachedStickerPreview(ya);return;}this.sendSticker(ya,event);},_prepareForAttachedStickerPreview:function(ya){this.props.contextArgs.attachedsticker=null;this.setState({attachedSticker:null,isLoadingPhoto:true});new h(wa).setData({sticker_id:ya}).setErrorHandler(this._onRemoveAttachedStickerPreviewClicked).setHandler(this._onStickerUploadComplete).send();},sendSticker:function(ya,event){var za={encodedValue:'',visibleValue:''};this.props.contextArgs.attachedsticker={fbid:ya};this.props.onCommentSubmit(za,event);},_insertEmoticonIntoCommentText:function(ya){i.loadModules(["EmoticonsList","EmoticonUtils","TextAreaControl","SelectionPosition"],function(za,ab,bb,cb){var db=za.symbols[ya];if(!db)return;if(this.props.contextArgs.mentionsinput){this.refs.mentionsinput.insertEmoticon(db);return;}if(!this._selectionPosition)this._selectionPosition=new cb(y.findDOMNode(this.refs.mentionsinput.refs.textarea));var eb=this.refs.mentionsinput.refs.getTextFieldDOM(),fb=bb.getInstance(eb),gb=fb.getValue(),hb=ab.insertEmoticon(db,gb,this._selectionPosition.getPos());fb.setValue(hb.result);this._selectionPosition.setPos(hb.start,hb.end);}.bind(this));},_hideStickerNUX:function(){this.setState({stickerNUXVisible:false});}});e.exports=xa;},null);
__d("UFIAddCommentController",["Arbiter","copyProperties","MentionsInputUtils","Parent","UFIAddComment.react","React","ShortProfiles","UFICentralUpdates","UFIComments","UFIFeedbackTargets","UFIInstanceState","UFIUIEvents","UFIUserActions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();function t(u,v,w,x){this.id=v;this._ufiInstanceID=x.instanceid;this._contextArgs=x;this._replyCommentID=w;if(u){this.root=u;if(!this._contextArgs.rootid)this._contextArgs.rootid=u.id;this.render();n.subscribe('instance-updated',function(y,z){var aa=z.updates;if(this._ufiInstanceID in aa)this.render();}.bind(this));n.subscribe('feedback-updated',function(y,z){var aa=z.updates;if(this.id in aa)this.render();}.bind(this));}n.subscribe('feedback-id-changed',function(y,z){var aa=z.updates;if(this.id in aa)this.id=aa[this.id];}.bind(this));}h(t.prototype,{_onCommentSubmit:function(u,event){s.addComment(this.id,u.visibleValue,u.encodedValue,{source:this._contextArgs.source,ufiinstanceid:this._ufiInstanceID,target:event.target,replyid:this._replyCommentID,timelinelogdata:this._contextArgs.timelinelogdata,rootid:this._contextArgs.rootid,attachedphoto:this._contextArgs.attachedphoto,attachedsticker:this._contextArgs.attachedsticker,giftoccasion:this._contextArgs.giftoccasion,feedcontext:this._contextArgs.feedcontext});this._contextArgs.attachedphoto=null;this._contextArgs.attachedsticker=null;p.getFeedbackTarget(this.id,function(v){var w=j.byTag(this.root,'form');if(w)g.inform('ufi/comment',{form:w,isranked:v.isranked});if(v.showtopicconversationcreationpivot)g.inform(r.UFIActionAddComment,{feedback:v,target:event.target});}.bind(this));return false;},_onTypingStateChange:function(u,v){},renderAddComment:function(u,v,w,x,y,z,aa,ba,ca,da){var ea=this._contextArgs.logtyping?this._onTypingStateChange.bind(this):null,fa=null,ga=q.getKeyForInstance(this._ufiInstanceID,'isediting')&&!this._replyCommentID;p.getFeedbackTarget(this.id,function(ha){this._contextArgs.feedbackisranked=ha.isranked;}.bind(this));return (l.createElement(k,{hide:ga,replyCommentID:this._replyCommentID,viewerActor:u,targetID:v,initialData:fa,ref:y,withoutSeparator:z,onCommentSubmit:this._onCommentSubmit.bind(this),mentionsDataSource:w,onTypingStateChange:ea,showSendOnEnterTip:x,allowPhotoAttachments:ba,allowStickerAttachments:ca,source:this._contextArgs.source,contextArgs:this._contextArgs,subtitle:aa,isQAndA:da,isSnowlift:this._contextArgs.issnowlift,feedbackIsRanked:this._contextArgs.feedbackisranked}));},renderEditComment:function(u,v,w,x,y,z,aa,ba,ca){var da=o.getComment(w),ea;if(da.attachment)ea=da.attachment.type=='sticker'?da.attachment:null;var fa=i.generateDataFromTextWithEntities(da.body);return (l.createElement(k,{viewerActor:u,targetID:v,initialData:fa,onCommentSubmit:y,onCancel:z,mentionsDataSource:x,source:this._contextArgs.source,contextArgs:this._contextArgs,isEditing:true,editingCommentID:w,attachedPhoto:da.photo_comment,attachedSticker:ea,allowPhotoAttachments:aa,allowStickerAttachments:ba,isQAndA:ca}));},render:function(){if(!this.root)throw new Error('render called on UFIAddCommentController with no root');p.getFeedbackTarget(this.id,function(u){if(u.cancomment&&u.actorforpost)m.get(u.actorforpost,function(v){var w=this.renderAddComment(v,u.ownerid,u.mentionsdatasource,u.showsendonentertip,null,null,u.subtitle,u.allowphotoattachments,u.allowstickerattachments,u.isqanda);this._addComment=l.render(w,this.root);}.bind(this));}.bind(this));}});e.exports=t;},null);
__d("Scrollable",["Event","Parent","Scroll","UserAgent_DEPRECATED"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=function(event){var n=h.byClass(event.getTarget(),'scrollable');if(!n)return;if((typeof event.axis!=='undefined'&&event.axis===event.HORIZONTAL_AXIS)||(event.wheelDeltaX&&!event.wheelDeltaY)||(event.deltaX&&!event.deltaY))return;var o=event.wheelDelta||-event.deltaY||-event.detail,p=n.scrollHeight,q=n.clientHeight;if(p>q){var r=i.getTop(n);if((o>0&&r===0)||(o<0&&r>=p-q-1)){event.prevent();}else if(j.ie()<9)if(n.currentStyle){var s=n.currentStyle.fontSize;if(s.indexOf('px')<0){var t=document.createElement('div');t.style.fontSize=s;t.style.height='1em';s=t.style.pixelHeight;}else s=parseInt(s,10);i.setTop(n,r-Math.round(o/120*s));event.prevent();}}},l=document.documentElement;if(j.firefox()){var m=('WheelEvent' in window)?'wheel':'DOMMouseScroll';l.addEventListener(m,k,false);}else g.listen(l,'mousewheel',k);},null);
__d("ScrollableArea.react",["Bootloader","React","Style","cx","joinClasses","Scrollable"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();b('Scrollable');var l=h,m=l.PropTypes,n="uiScrollableArea native",o="uiScrollableAreaWrap scrollable",p="uiScrollableAreaBody",q="uiScrollableAreaContent",r=h.createClass({displayName:"ReactScrollableArea",propTypes:{width:m.number,height:m.oneOfType([m.number,m.string]),onScroll:m.func,shadow:m.bool,fade:m.bool,persistent:m.bool},render:function(){var s={height:this.props.height};return (h.createElement("div",h.__spread({},this.props,{className:k(this.props.className,n),ref:"root",style:Object.assign({},(this.props.style||{}),s)}),h.createElement("div",{className:o,ref:"wrap"},h.createElement("div",{className:p,ref:"body"},h.createElement("div",{className:q},this.props.children)))));},getArea:function(){return this._area;},componentDidMount:function(){g.loadModules(["ScrollableArea"],this._loadScrollableArea);},componentDidUpdate:function(s){if(s.width!==this.props.width)this._setWidthFromProps();var t=this.getArea();if(t)t.throttledAdjustGripper();},_loadScrollableArea:function(s){this._area=s.fromNative(h.findDOMNode(this.refs.root),{fade:this.props.fade,persistent:this.props.persistent,shadow:this.props.shadow===undefined?true:this.props.shadow});this._setWidthFromProps();this.props.onScroll&&this._area.subscribe('scroll',this.props.onScroll);},_setWidthFromProps:function(){var s=h.findDOMNode(this.refs.body);i.set(s,'width',this.props.width+'px');}});e.exports=r;},null);
__d("isValidUniqueID",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){return (h!==null&&h!==(void 0)&&h!==''&&(typeof h==='string'||typeof h==='number'));}e.exports=g;},null);
__d("SearchableEntry",["HTML","isValidUniqueID","invariant"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(l){if(!l){return '';}else if(typeof l==='string'){return l;}else if(typeof l==='object'){var m=g.replaceJSONWrapper(l);if(g.isHTML(m)){var n=m.getRootNode();return n.textContent||n.innerText||'';}else return '';}else return '';}function k(l){"use strict";i(h(l.uniqueID));this.$SearchableEntry0=l.uniqueID+'';i(!!l.title&&typeof l.title==='string');this.$SearchableEntry1=l.title;this.$SearchableEntry2=l.order||0;this.$SearchableEntry3=j(l.subtitle);this.$SearchableEntry4=l.keywordString||'';this.$SearchableEntry5=l.photo||'';this.$SearchableEntry6=l.uri||'';this.$SearchableEntry7=l.type||'';var m=l.auxiliaryData||{};this.$SearchableEntry8=m;}k.prototype.getUniqueID=function(){"use strict";return this.$SearchableEntry0;};k.prototype.getOrder=function(){"use strict";return this.$SearchableEntry2;};k.prototype.getTitle=function(){"use strict";return this.$SearchableEntry1;};k.prototype.getSubtitle=function(){"use strict";return this.$SearchableEntry3;};k.prototype.getKeywordString=function(){"use strict";return this.$SearchableEntry4;};k.prototype.getPhoto=function(){"use strict";return this.$SearchableEntry5;};k.prototype.getURI=function(){"use strict";return this.$SearchableEntry6;};k.prototype.getType=function(){"use strict";return this.$SearchableEntry7;};k.prototype.getAuxiliaryData=function(){"use strict";return this.$SearchableEntry8;};e.exports=k;},null);
__d("UFIAddCommentLink.react",["React","UFIClassNames","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=g.createClass({displayName:"UFIAddCommentLink",propTypes:{'data-ft':m.string,isFirstCommentComponent:m.bool,isFirstComponent:m.bool,isLastCommentComponent:m.bool,isLastComponent:m.bool,isQAndA:m.bool,onClick:m.func},render:function(){var o=k(h.ROW,(("UFIAddCommentLink")+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),p;if(this.props.isQAndA){p=j._("Zadaj pytanie...");}else p=j._("Napisz komentarz\u2026");return (g.createElement("li",{className:o,"data-ft":this.props['data-ft']},g.createElement("a",{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},p)));}});e.exports=n;},null);
__d("HovercardLink",["Bootloader","URI"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={getBaseURI:function(){return new h('/ajax/hovercard/hovercard.php');},constructEndpoint:function(j,k){return i.constructEndpointWithGroupAndLocation(j,k,null);},constructEndpointWithLocation:function(j,k){return i.constructEndpointWithGroupAndLocation(j,null,k);},constructEndpointWithGroupAndLocation:function(j,k,l,m){g.loadModules(["Hovercard"],function(){});var n=new h(i.getBaseURI()).setQueryData({id:j.id}),o={};if((j.weakreference||m)&&k)o.group_id=k;if(l)o.hc_location=l;n.addQueryData({extragetparams:JSON.stringify(o)});return n;}};e.exports=i;},null);
__d("Newline.react",["React"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.createClass({displayName:"Newline",render:function(){return g.createElement("br",g.__spread({},this.props));}});e.exports=h;},null);
__d("Text.react",["React"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g.createClass({displayName:"Text",render:function(){return (g.createElement("span",g.__spread({},this.props),this.props.children));}});e.exports=h;},null);
__d("ES6StringUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={fromCodePoint:function(){for(var h=[],i=0,j=arguments.length;i<j;i++)h.push(arguments[i]);"use strict";if(String.fromCodePoint)return String.fromCodePoint.apply(this,h);var k=[];for(var l=0;l<h.length;l++){var m=Number(h[l]);if(!isFinite(m)||Math.floor(m)!=m||m<0||1114111<m)throw RangeError('Invalid code point: '+h[l]);if(m<65536){k.push(String.fromCharCode(m));}else{m-=65536;k.push(String.fromCharCode((m>>10)+55296),String.fromCharCode((m%1024)+56320));}}return k.join('');},codePointAt:function(h){"use strict";if(String.prototype.codePointAt)return String.prototype.codePointAt.call(this,h);if(this==null)throw TypeError('Invalid context: '+this);var i=String(this),j=i.length;h=h?Number(h):0;if(h!=h)h=0;if(h<0||j<=h)return (void 0);var k=i.charCodeAt(h);if(55296<=k&&k<=56319&&j>h+1){var l=i.charCodeAt(h+1);if(56320<=l&&l<=57343)return (k-55296)*1024+l-56320+65536;}return k;}};e.exports=g;},null);
__d("UnicodeUtils",["ES6StringUtils"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=55296,i=57343,j=/[\uD800-\uDFFF]/;function k(s){return h<=s&&s<=i;}function l(s){return j.test(s);}function m(s,t){return 1+k(s.charCodeAt(t));}function n(s){if(!l(s))return s.length;var t=0;for(var u=0;u<s.length;u+=m(s,u))t++;return t;}function o(s,t,u){t=t||0;u=(u===(void 0))?Infinity:(u||0);if(!l(s))return s.substr(t,u);var v=s.length;if(v<=0||t>v||u<=0)return '';var w=0;if(t>0){for(;t>0&&w<v;t--)w+=m(s,w);if(w>=v)return '';}else if(t<0){for(w=v;t<0&&0<w;t++)w-=m(s,w-1);if(w<0)w=0;}var x=v;if(u<v)for(x=w;u>0&&x<v;u--)x+=m(s,x);return s.substring(w,x);}function p(s,t,u){t=t||0;u=(u===(void 0))?Infinity:(u||0);if(t<0)t=0;if(u<0)u=0;var v=Math.abs(u-t);t=(t<u)?t:u;return o(s,t,v);}function q(s){var t=[];for(var u=0;u<s.length;u+=m(s,u)){var v=g.codePointAt.call(s,u);t.push(v);}return t;}var r={isCodeUnitInSurrogateRange:k,getUTF16Length:m,strlen:n,substr:o,substring:p,getCodePoints:q};e.exports=r;},null);
__d("BaseTextWithEntities.react",["Newline.react","React","ReactFragment","Text.react","UnicodeUtils"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.PropTypes;function n(r,s){return r.offset-s.offset;}var o=/(\r\n|[\r\n])/,p=m.shape({length:m.number.isRequired,offset:m.number.isRequired}),q=h.createClass({displayName:"BaseTextWithEntities",propTypes:{aggregatedRanges:m.array,imageRanges:m.array,ranges:m.arrayOf(p),rangeRenderer:m.func.isRequired,text:m.string.isRequired,textRenderer:m.func.isRequired},_getSortedRanges:function(){var r=[];[this.props.ranges,this.props.aggregatedRanges,this.props.imageRanges].filter(function(s){return s!=null;}).forEach(function(s){return r=r.concat(s);});return r.sort(n);},_renderText:function(r){var s=r.split(o),t={};for(var u=0;u<s.length;u++){var v=s[u];if(v){var w='text'+u;if(u%2===1){t[w]=h.createElement(g,null);}else t[w]=this.props.textRenderer(s[u]);}}return i.create(t);},render:function(){var r=0,s=this.props.text,t=this._getSortedRanges(),u={},v=t.length;for(var w=0,x=v;w<x;w++){var y=t[w];if(y.offset<r)continue;if(y.offset>r)u['text'+w]=this._renderText(k.substring(s,r,y.offset));var z=k.substr(s,y.offset,y.length);u['range'+w]=this.props.rangeRenderer(z,y);r=y.offset+y.length;}if(s.length>r)u.end=this._renderText(k.substr(s,r));return (h.createElement(j,{className:this.props.className,style:this.props.style},i.create(u)));}});e.exports=q;},null);
__d("TransformTextToDOMMixin",["DOMQuery","createArrayFromMixed","flattenArray"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=3,k={transform:function(l,m){return i(l.map(function(n){if(!g.isElementNode(n)){var o=n,p=[],q=this.MAX_ITEMS||j;while(q--){var r=m?[o].concat(m):[o],s=this.match.apply(this,r);if(!s)break;p.push(o.substring(0,s.startIndex));p.push(s.element);o=o.substring(s.endIndex);}o&&p.push(o);return p;}return n;}.bind(this)));},params:function(){var l=this;return {__params:true,obj:l,params:h(arguments)};}};e.exports=k;},null);
__d("Utf16",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={decode:function(h){switch(h.length){case 1:return h.charCodeAt(0);case 2:return 65536|((h.charCodeAt(0)-55296)*1024)|(h.charCodeAt(1)-56320);}},encode:function(h){if(h<65536){return String.fromCharCode(h);}else return String.fromCharCode(55296+((h-65536)>>10))+String.fromCharCode(56320+(h%1024));}};e.exports=g;},null);
__d("SupportedEmoji",["cx","Utf16"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=new RegExp("([\u203C\u2049\u2100-\u21FF\u2300-\u27FF"+"\u2900-\u29FF\u2B00-\u2BFF\u3000-\u30FF\u3200-\u32FF]|"+"\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDEFF])([\uFE00-\uFE0F])?"),j={126980:"_4_o0",127378:"_4_o1",127385:"_4_o2",127386:"_4_o3",127489:"_4_o4",127490:"_4_o5",127514:"_4_o6",127535:"_4_o7",127539:"_4_o8",127541:"_4_o9",127542:"_4_oa",127543:"_4_ob",127544:"_4_oc",127545:"_4_od",127546:"_4_oe",127568:"_4_of",127744:"_2b_",127746:"_2c0",127747:"_4_og",127748:"_4_oh",127749:"_4_oi",127750:"_4_oj",127751:"_4_ok",127752:"_4_ol",127754:"_2c1",127769:"_2c2",127775:"_2c3",127793:"_2c4",127796:"_2c5",127797:"_2c6",127799:"_2c7",127800:"_2c8",127801:"_2c9",127802:"_2ca",127803:"_2cb",127806:"_2cc",127808:"_2cd",127809:"_2ce",127810:"_2cf",127811:"_2cg",127813:"_4_om",127814:"_4_on",127817:"_4_oo",127818:"_2ch",127822:"_2ci",127827:"_2cj",127828:"_2ck",127832:"_4_op",127833:"_4_oq",127834:"_4_or",127835:"_4_os",127836:"_4_ot",127837:"_4_ou",127838:"_4_ov",127839:"_4_ow",127841:"_4_ox",127842:"_4_oy",127843:"_4_oz",127846:"_4_o-",127847:"_4_o_",127856:"_4_p0",127857:"_4_p1",127858:"_4_p2",127859:"_4_p3",127860:"_4_p4",127861:"_4_p5",127862:"_4_p6",127864:"_2cl",127866:"_2cm",127867:"_4_p7",127872:"_4_p8",127873:"_2cn",127875:"_2co",127876:"_2cp",127877:"_2cq",127880:"_2cr",127881:"_2cs",127884:"_4_p9",127885:"_2ct",127886:"_2cu",127887:"_2cv",127888:"_2cw",127890:"_4_pa",127891:"_2cx",127905:"_4_pb",127906:"_4_pc",127908:"_4_pd",127909:"_4_pe",127910:"_4_pf",127911:"_4_pg",127912:"_4_ph",127913:"_4_pi",127915:"_4_pj",127916:"_4_pk",127917:"_4_pl",127919:"_4_pm",127921:"_4_pn",127925:"_2cy",127926:"_2cz",127927:"_4_po",127928:"_4_pp",127930:"_4_pq",127932:"_2c-",127934:"_4_pr",127935:"_4_ps",127936:"_4_pt",127937:"_4_pu",127942:"_4_pv",127944:"_4_pw",127968:"_4_px",127969:"_4_py",127970:"_4_pz",127971:"_4_p-",127973:"_4_p_",127974:"_4_q0",127975:"_4_q1",127976:"_4_q2",127977:"_4_q3",127978:"_4_q4",127979:"_4_q5",127980:"_4_q6",127981:"_4_q7",127983:"_4_q8",127984:"_4_q9",128013:"_2c_",128014:"_2d0",128017:"_2d1",128018:"_2d2",128020:"_2d3",128023:"_2d4",128024:"_2d5",128025:"_2d6",128026:"_2d7",128027:"_2d8",128031:"_2d9",128032:"_2da",128033:"_2db",128037:"_2dc",128038:"_2dd",128039:"_2de",128040:"_2df",128041:"_2dg",128043:"_2dh",128044:"_2di",128045:"_2dj",128046:"_2dk",128047:"_2dl",128048:"_2dm",128049:"_2dn",128051:"_2do",128052:"_2dp",128053:"_2dq",128054:"_491",128055:"_2dr",128056:"_2ds",128057:"_2dt",128058:"_2du",128059:"_2dv",128062:"_2dw",128064:"_2dx",128066:"_2dy",128067:"_2dz",128068:"_2d-",128069:"_2d_",128070:"_2e0",128071:"_2e1",128072:"_2e2",128073:"_2e3",128074:"_2e4",128075:"_2e5",128076:"_2e6",128077:"_2e7",128078:"_2e8",128079:"_2e9",128080:"_2ea",128081:"_4_qa",128082:"_4_qb",128084:"_4_qc",128085:"_4_qd",128087:"_4_qe",128088:"_4_qf",128089:"_4_qg",128092:"_4_qh",128095:"_4_qi",128096:"_4_qj",128097:"_4_qk",128098:"_4_ql",128102:"_2eb",128103:"_2ec",128104:"_2ed",128105:"_2ee",128107:"_2ef",128110:"_2eg",128111:"_2eh",128113:"_2ei",128114:"_2ej",128115:"_2ek",128116:"_2el",128117:"_2em",128118:"_2en",128119:"_2eo",128120:"_2ep",128123:"_2eq",128124:"_2er",128125:"_2es",128126:"_2et",128127:"_2eu",128128:"_2ev",128130:"_2ew",128131:"_2ex",128132:"_4_qm",128133:"_2ey",128136:"_4_qn",128137:"_4_qo",128138:"_4_qp",128139:"_2ez",128140:"_4_qq",128141:"_4_qr",128142:"_4_qs",128143:"_2e-",128144:"_2e_",128145:"_2f0",128146:"_4_qt",128147:"_2f1",128148:"_2f2",128150:"_2f3",128151:"_2f4",128152:"_2f5",128153:"_2f6",128154:"_2f7",128155:"_2f8",128156:"_2f9",128157:"_2fa",128158:"_4_qu",128159:"_4_qv",128160:"_4_qw",128161:"_4_qx",128162:"_2fb",128163:"_4_qy",128164:"_2fc",128166:"_2fd",128167:"_4_qz",128168:"_2fe",128169:"_2ff",128170:"_2fg",128176:"_4_q-",128178:"_4_q_",128180:"_4_r0",128181:"_4_r1",128186:"_4_r2",128187:"_2fh",128188:"_4_r3",128189:"_2fi",128190:"_2fj",128191:"_2fk",128192:"_2fl",128214:"_4_r4",128221:"_4_r5",128222:"_2fm",128224:"_2fn",128225:"_4_r6",128226:"_4_r7",128227:"_4_r8",128232:"_4_r9",128233:"_4_ra",128234:"_4_rb",128235:"_4_rc",128236:"_4_rd",128237:"_4_re",128238:"_4_rf",128241:"_2fo",128242:"_2fp",128243:"_4_rg",128244:"_4_rh",128246:"_4_ri",128247:"_4_rj",128250:"_2fq",128251:"_4_rk",128252:"_4_rl",128264:"_4_rm",128269:"_4_rn",128270:"_4_ro",128271:"_4_rp",128272:"_4_rq",128273:"_4_rr",128274:"_4_rs",128275:"_4_rt",128276:"_2fr",128286:"_4_ru",128293:"_492",128296:"_4_rv",128299:"_4_rw",128304:"_4_rx",128305:"_4_ry",128306:"_4_rz",128307:"_4_r-",128308:"_4_r_",128309:"_4_s0",128310:"_4_s1",128311:"_4_s2",128312:"_4_s3",128313:"_4_s4",128507:"_4_s5",128508:"_4_s6",128509:"_4_s7",128513:"_2fs",128514:"_2ft",128515:"_2fu",128516:"_2fv",128518:"_2fw",128521:"_2fx",128522:"_1q3y",128524:"_2fz",128525:"_2f-",128527:"_2f_",128530:"_2g0",128531:"_2g1",128532:"_2g2",128534:"_2g3",128536:"_2g4",128538:"_2g5",128540:"_2g6",128541:"_2g7",128542:"_2g8",128544:"_2g9",128545:"_2ga",128546:"_2gb",128547:"_2gc",128548:"_2gd",128549:"_2ge",128552:"_2gf",128553:"_2gg",128554:"_2gh",128555:"_2gi",128557:"_2gj",128560:"_2gk",128561:"_2gl",128562:"_2gm",128563:"_2gn",128565:"_2go",128567:"_2gp",128568:"_2gq",128569:"_2gr",128570:"_2gs",128571:"_2gt",128572:"_2gu",128573:"_2gv",128575:"_2gw",128576:"_2gx",128587:"_2gy",128588:"_2gz",128589:"_2g-",128591:"_2g_",128640:"_4_s8",128643:"_4_s9",128644:"_4_sa",128645:"_4_sb",128649:"_4_sc",128652:"_4_sd",128655:"_4_se",128657:"_4_sf",128658:"_4_sg",128659:"_4_sh",128661:"_4_si",128663:"_4_sj",128665:"_4_sk",128666:"_4_sl",128674:"_4_sm",128676:"_4_sn",128677:"_4_so",128679:"_4_sp",128684:"_4_sq",128685:"_4_sr",128690:"_4_ss",128697:"_4_st",128698:"_4_su",128699:"_4_sv",128700:"_4_sw",128701:"_4_sx",128702:"_4_sy",128704:"_4_sz",9642:"_4_s-",9643:"_4_s_",9723:"_4_t0",9724:"_4_t1",9725:"_4_t2",9726:"_4_t3",9742:"_4_t4",9757:"_2h0",9786:"_2h1",9855:"_4_t5",9888:"_4_t6",9889:"_2h2",9898:"_4_t7",9899:"_4_t8",9917:"_4_t9",9918:"_4_ta",9924:"_2h3",9940:"_4_tb",9962:"_4_tc",9970:"_4_td",9971:"_4_te",9973:"_4_tf",9978:"_4_tg",9981:"_4_th",9994:"_2h4",9995:"_2h5",9996:"_2h6",10060:"_4_ti",10062:"_4_tj",10145:"_4_tk",10175:"_4_tl",11013:"_4_tm",11014:"_4_tn",11015:"_4_to",11035:"_4_tp",11036:"_4_tq",11088:"_4_tr",11093:"_4_ts",12349:"_4_tt",8598:"_4_tu",8599:"_4_tv",8600:"_4_tw",8601:"_4_tx",9728:"_2h7",9729:"_2h8",9748:"_2h9",9749:"_2ha",9824:"_4_ty",9827:"_4_tz",9829:"_4_t-",9830:"_4_t_",9832:"_4_u0",9986:"_4_u1",9992:"_4_u2",9993:"_4_u3",10006:"_4_u4",10024:"_2hb",10035:"_4_u5",10036:"_4_u6",10067:"_4_u7",10068:"_4_u8",10069:"_4_u9",10071:"_4_ua",10084:"_2hc",10548:"_4_ub",10549:"_4_uc",12951:"_4_ud",12953:"_4_ue"},k=function(l){var m=0;while(l.length>0){var n=i.exec(l);if(!n||!n.length)return false;var o=n[1],p=n.index,q=h.decode(o),r=j[q];if(!r){m+=p+1;l=l.substr(p+1);continue;}n.index+=m;n.emoji=r;return n;}return false;};e.exports={findEmoji:k,emoji:j,_utf16Regex:i};},null);
__d("DOMEmoji",["CSS","JSXDOM","TransformTextToDOMMixin","SupportedEmoji","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m={MAX_ITEMS:40,match:function(n){var o=j.findEmoji(n);if(!o||!o.length)return false;var p=o[0],q=o.index,r=o.emoji;return {startIndex:q,endIndex:q+p.length,element:this._element(r)};},_element:function(n){var o=h.span(null);g.addClass(o,"_1az");g.addClass(o,"_1a-");g.addClass(o,n);return o;}};e.exports=k(m,i);},null);
__d("EmoticonsList",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={emotes:{":)":"smile",":-)":"smile",":]":"smile","=)":"smile","(:":"smile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":poop:":"poop",":putnam:":"putnam",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=D":"grin",":-D":"grin",":D":"grin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","B-)":"glasses","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel",":*":"kiss",":-*":"kiss","<3":"heart","&lt;3":"heart","":"heart","^_^":"kiki","-_-":"squint","o.O":"confused","O.o":"confused_rev",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"upset",">.<":"upset",":v":"pacman",":V":"pacman",":|]":"robot",":3":"colonthree","<(\")":"penguin","(^^^)":"shark","(y)":"like",":like:":"like","(Y)":"like"},symbols:{smile:":)",frown:":(",poop:":poop:",putnam:":putnam:",tongue:":P",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",sunglasses:"B|",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",heart:"<3",kiki:"^_^",squint:"-_-",confused:"o.O",confused_rev:"O.o",upset:">:o",pacman:":v",robot:":|]",colonthree:":3",penguin:"<(\")",shark:"(^^^)",like:"(y)"},regexp:/(^|[\s'".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|:poop:|:putnam:|:P|:\-P|:\-p|:p|=P|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\||8\-\||8\||B\-\||>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:'\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|:\*|:\-\*|<3|&lt;3|\u2665|\^_\^|\-_\-|o\.O|O\.o|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|:v|:V|:\|\]|:3|<\("\)(?!\))|\(\^\^\^\)(?!\))|\(y\)(?!\))|:like:|\(Y\)(?!\)))([\s'".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s'".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|:poop:|:putnam:|:P|:\-P|:\-p|:p|=P|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\||8\-\||8\||B\-\||>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:'\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|:\*|:\-\*|<3|&lt;3|\u2665|\^_\^|\-_\-|o\.O|O\.o|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|:v|:V|:\|\]|:3|<\("\)(?!\))|\(\^\^\^\)(?!\))|\(y\)(?!\))|:like:|\(Y\)(?!\)))(?:[\s'".,!?]|<br>|$)/};},null);
__d("DOMEmote",["CSS","EmoticonsList","JSXDOM","TransformTextToDOMMixin","fbt","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m={MAX_ITEMS:40,match:function(n){var o=h.regexp.exec(n);if(!o||!o.length)return false;var p=o[2],q=o.index+o[1].length;return {startIndex:q,endIndex:q+p.length,element:this._element(p,h.emotes[p])};},_element:function(n,o){var p=k._("Emotikon {emoticonName}",[k.param("emoticonName",o)]),q=i.span({className:"emoticon_text"},p),r=i.span({title:n,className:"emoticon"});g.addClass(r,'emoticon_'+o);return [q,r];}};e.exports=l(m,j);},null);
__d("transformTextToDOM",["createArrayFromMixed"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(i,j){var k=[i];j=g(j);j.forEach(function(l){var m,n=l;if(l.__params){m=l.params;n=l.obj;}k=n.transform(k,m);});return k;}e.exports=h;},null);
__d("emojiAndEmote",["DOMEmoji","DOMEmote","transformTextToDOM"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=function(k){var l=[g,h];return i(k,l);};e.exports=j;},null);
__d("Emoji",["DOMEmoji","JSXDOM","emojiAndEmote","transformTextToDOM"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={htmlEmojiAndEmote:function(l,m){return (h.span(null,i(l))).innerHTML;},htmlEmojiAndEmoteWithoutFBID:function(l,m){return (h.span(null,i(l,false))).innerHTML;},htmlEmoji:function(l){return (h.span(null,j(l,g))).innerHTML;}};e.exports=k;},null);
__d("Emote",["DOMEmote","JSXDOM","transformTextToDOM"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={htmlEmoteWithoutFBID:function(k,l){return (h.span(null,i(k,g))).innerHTML;},htmlEmote:function(k,l){return (h.span(null,i(k,[g]))).innerHTML;}};e.exports=j;},null);
__d("TextWithEmoticons.react",["Emoji","Emote","React"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=i.createClass({displayName:"ReactTextWithEmoticons",render:function(){if(!this.props.renderEmoticons&&!this.props.renderEmoji)return i.createElement("span",null,this.props.text);var k;if(this.props.renderEmoticons&&this.props.renderEmoji){k=g.htmlEmojiAndEmoteWithoutFBID(this.props.text);}else if(this.props.renderEmoticons){k=h.htmlEmoteWithoutFBID(this.props.text);}else k=g.htmlEmoji(this.props.text);return i.createElement("span",{dangerouslySetInnerHTML:{__html:k}});}});e.exports=j;},null);
__d("TextWithEntities.react",["Link.react","React","BaseTextWithEntities.react","TextWithEmoticons.react"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';function k(m){return (m).replace(/<3\b|&hearts;/g,'\u2665');}var l=h.createClass({displayName:"TextWithEntities",_renderText:function(m){if(this.props.renderEmoticons||this.props.renderEmoji){return (h.createElement(j,{text:m,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}));}else return k(m);},_renderRange:function(m,n){if(this.props.interpolator){return this.props.interpolator(m,n);}else return (h.createElement(g,{href:n.entity},m));},render:function(){return (h.createElement(i,h.__spread({},this.props,{textRenderer:this._renderText,rangeRenderer:this._renderRange,ranges:this.props.ranges,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,text:this.props.text})));}});e.exports=l;},null);
__d("UFICommentLikeCount.react",["NumberFormat","ProfileBrowserLink","ProfileBrowserTypes","React","URI","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=j,n=m.PropTypes,o=function(q,r){var s=new k('/ajax/like/tooltip.php').setQueryData({comment_fbid:q.fbid,comment_from:q.author,comment_likecount:q.likecount||0,comment_id:q.id,cache_buster:q.likeconfirmhash||0});if(r)s.addQueryData({viewas:r});return s;},p=j.createClass({displayName:"UFICommentLikeCount",propTypes:{comment:n.object.isRequired,contextArgs:n.object.isRequired},render:function(){var q=this.props.comment,r=g.formatIntegerWithDelimiter(q.likecount||0,this.props.contextArgs.numberdelimiter),s=i.LIKES,t={id:q.fbid},u=o(this.props.comment,this.props.contextArgs.viewas),v=j.createElement("i",{className:"UFICommentLikeIcon"}),w=j.createElement("span",null,r),x=(("UFICommentLikeButton")+(this.props.comment.hasviewerliked?' '+"UFICommentLikedButton":''));return (j.createElement("a",{ajaxify:h.constructDialogURI(s,t).toString(),className:x,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":u.toString(),href:h.constructPageURI(s,t).toString(),rel:"dialog",role:"button"},v,w));}});e.exports=p;},null);
__d("Timestamp.react",["LiveTimer","React","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h,k=j.PropTypes,l=h.createClass({displayName:"Timestamp",propTypes:{autoUpdate:k.bool},getDefaultProps:function(){return {autoUpdate:false};},componentDidMount:function(){if(this.props.autoUpdate)g.addTimeStamps(h.findDOMNode(this));},componentDidUpdate:function(m,n){if(this.props.autoUpdate&&this.props.time!==m.time)g.loop();},render:function(){var m=g.renderRelativeTimeToServer(this.props.time,this.props.shorten);return (h.createElement("abbr",h.__spread({},this.props,{className:i(this.props.className,"livetimestamp"),title:this.props.verbose,"data-utime":this.props.time,"data-shorten":this.props.shorten?true:null}),m.text||this.props.text));}});e.exports=l;},null);
__d("TooltipMixin",["React","Tooltip","DOM"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes;function l(n){var o=n.tooltip;return o!=null&&typeof o!=='string';}var m={propTypes:{tooltip:k.oneOfType([k.element,k.string]),position:k.oneOf(['above','below','left','right']),alignH:k.oneOf(['left','center','right'])},getInitialState:function(){return {tooltipContainer:l(this.props)?i.create('div'):null};},componentWillReceiveProps:function(n){var o=l(n),p=this.state.tooltipContainer;if(p&&!o){this.setState({tooltipContainer:null});}else if(!p&&o)this.setState({tooltipContainer:i.create('div')});},componentDidMount:function(){this._updateTooltip();},componentDidUpdate:function(n,o){if(o.tooltipContainer&&!this.state.tooltipContainer)this._cleanupContainer(o.tooltipContainer);this._updateTooltip();},_updateTooltip:function(){var n;if(l(this.props)){n=this.state.tooltipContainer;g.render(this.props.tooltip,n);}else n=this.props.tooltip;if(n!=null){h.set(g.findDOMNode(this),n,this.props.position,this.props.alignH);}else h.remove(g.findDOMNode(this));},componentWillUnmount:function(){if(this.state.tooltipContainer)this._cleanupContainer(this.state.tooltipContainer);h.remove(g.findDOMNode(this));},_cleanupContainer:function(n){g.unmountComponentAtNode(n);}};e.exports=m;},null);
__d("TooltipLink.react",["React","TooltipMixin"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"TooltipLink",mixins:[h],render:function(){return g.createElement("a",g.__spread({},this.props),this.props.children);}});e.exports=i;},null);
__d("HelpLink.react",["React","joinClasses","TooltipLink.react"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g.createClass({displayName:"HelpLink",render:function(){return (g.createElement(i,g.__spread({},this.props,{className:h(this.props.className,"uiHelpLink mls")}),(void 0)));}});e.exports=j;},null);
__d("UFICreatorInfo.react",["HelpLink.react","React","URI","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.PropTypes,n=h.createClass({displayName:"UFICreatorInfo",propTypes:{creatorID:m.string.isRequired,creatorType:m.string.isRequired,creatorName:m.string.isRequired,labelType:m.string.isRequired,pageID:m.string.isRequired,profileURI:m.string},render:function(){var o,p=this.getCreatorLink();switch(this.props.labelType){case 'commented':o=k._("Skomentowane przez u\u017cytkownika {creator}",[k.param("creator",p)]);break;case 'edited_comment':o=k._("Edytowany przez: {creator}",[k.param("creator",p)]);break;case 'sent_message':o=k._("Wys\u0142ano przez u\u017cytkownika {creator}",[k.param("creator",p)]);break;default:return;}return (h.createElement("span",null,o,h.createElement(g,{tooltip:this.getHelpText()})));},getCreatorLink:function(){switch(this.props.creatorType){case 'application':case 'gray_account':case 'indirect_admin':return (h.createElement("a",{className:"uiLinkSubtle","aria-label":this.getTooltipText(),"data-hover":"tooltip"},this.props.creatorName));case 'business_admin':return (h.createElement("a",{className:"uiLinkSubtle",href:this.props.profileURI},this.props.creatorName));case 'direct_admin':return this.getProfileLinkWithHovercard();case 'former_admin':return (h.createElement("span",{className:"uiLinkSubtle"},h.createElement("img",{src:"/images/privacy/cant-see.png",width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard()));default:return (h.createElement("span",{className:"uiLinkSubtle"},this.props.creatorName));}},getTooltipText:function(){switch(this.props.creatorType){case 'application':return this.getApplicationText();case 'gray_account':return this.getGrayAccountText();case 'indirect_admin':return this.getIndirectAdminText();}},getProfileLinkWithHovercard:function(){if(!this.props.profileURI)return h.createElement("span",null,this.props.creatorName);var o=new i('/ajax/hovercard/user.php').setQueryData({id:this.props.creatorID}).addQueryData({type:'page_admin',extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return (h.createElement("a",{className:"uiLinkSubtle","data-hovercard":o,href:this.props.profileURI},this.props.creatorName));},getApplicationText:function(){switch(this.props.labelType){case 'commented':return (k._("Ten komentarz zosta\u0142 dodany przez osob\u0119 korzystaj\u0105c\u0105 z aplikacji {application}.",[k.param("application",this.props.creatorName)]));case 'edited_comment':return (k._("Ten post by\u0142 edytowany przez osob\u0119 korzystaj\u0105c\u0105 z aplikacji {application}.",[k.param("application",this.props.creatorName)]));case 'sent_message':return (k._("Zosta\u0142o to wys\u0142ane przez kogo\u015b przy u\u017cyciu aplikacji {application}.",[k.param("application",this.props.creatorName)]));}},getIndirectAdminText:function(){switch(this.props.labelType){case 'commented':return (k._("Ten komentarz zosta\u0142 dodany przez osob\u0119 ze strony {page}.",[k.param("page",this.props.creatorName)]));case 'edited_comment':return (k._("Ten post by\u0142 edytowany przez administratora strony {page}.",[k.param("page",this.props.creatorName)]));case 'sent_message':return (k._("Zosta\u0142o to wys\u0142ane przez kogo\u015b ze strony {page}.",[k.param("page",this.props.creatorName)]));}},getGrayAccountText:function(){switch(this.props.labelType){case 'commented':return (k._("Ten komentarz zosta\u0142 dodany przez osob\u0119 nieposiadaj\u0105c\u0105 konta osobistego w serwisie Facebook."));case 'edited_comment':return (k._("Ten post by\u0142 edytowany przez osob\u0119 nieposiadaj\u0105c\u0105 osobistego konta w serwisie Facebook."));case 'sent_message':return (k._("Zosta\u0142o to wys\u0142ane przez kogo\u015b, kto nie ma konta osobistego na Facebooku."));}},getHelpText:function(){switch(this.props.labelType){case 'commented':return (k._("Tylko osoby zarz\u0105dzaj\u0105ce t\u0105 stron\u0105 mog\u0105 sprawdzi\u0107 kto zamie\u015bci\u0142 komentarz"));case 'edited_comment':return (k._("Tylko osoby zarz\u0105dzaj\u0105ce t\u0105 stron\u0105 mog\u0105 sprawdzi\u0107 kto edytowa\u0142 komentarz"));case 'sent_message':return (k._("Tylko osoby zarz\u0105dzaj\u0105ce t\u0105 stron\u0105 mog\u0105 zobaczy\u0107, kto wys\u0142a\u0142 wiadomo\u015b\u0107"));}}});e.exports=n;},null);
__d("UFICommentMetadata.react",["Bootloader","React","Timestamp.react","TrackingNodes","UFIConstants","URI","UFICreatorInfo.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=h,q=p.PropTypes,r=k.UFIStatus,s=' \u00b7 ',t="UFIFailureMessageIcon",u="UFIFailureMessage",v="uiLinkSubtle",w=function(y){var z=y.status;return z===r.FAILED_ADD||z===r.FAILED_EDIT;},x=h.createClass({displayName:"UFICommentMetadata",propTypes:{comment:q.object.isRequired,onRetrySubmit:q.func,permalink:q.string,shortenTimestamp:q.bool,showPermalink:q.bool,permalinkTarget:q.string},render:function(){var y=this.props.comment,z=this.props.onRetrySubmit,aa,ba;if(w(y)){aa=[h.createElement("span",{key:"failure",className:u},h.createElement("i",{className:t}),o._("Nie mo\u017cna zamie\u015bci\u0107 komentarza.")),y.allowRetry&&z?[' ',h.createElement("a",{key:"rety-submit",onClick:z,href:"#",role:"button"},o._("Spr\u00f3buj ponownie"))]:null];}else{var ca=j.getTrackingInfo(j.types.SOURCE);ba=h.createElement(i,{shorten:this.props.shortenTimestamp,time:y.timestamp.time,text:y.timestamp.text,verbose:y.timestamp.verbose});if(this.props.showPermalink)ba=h.createElement("a",{key:"timestamp-message",className:v,href:this.props.permalink,"data-ft":ca,target:this.props.permalinkTarget},ba);}var da=null;if(y.originalTimestamp){var ea=new l('/ajax/edits/browser/comment').addQueryData({comment_token:y.id}).toString();da=[s,h.createElement("a",{ajaxify:ea,"aria-label":o._("Zobacz histori\u0119 edycji"),className:"uiLinkSubtle","data-hover":"tooltip",href:"#",key:"edit-link",ref:"EditLink",rel:"dialog",role:"button",title:o._("Zobacz histori\u0119 edycji")},o._("Edytowany"))];}var fa=null;if(y.creator_data)fa=[h.createElement(m,{creatorID:y.creator_data.creatorID,creatorType:y.creator_data.creatorType,creatorName:y.creator_data.creatorName,labelType:y.creator_data.labelType,pageID:y.creator_data.pageID,profileURI:y.creator_data.profileURI}),s];return (h.createElement("span",null,fa,ba,aa,da));},componentWillUpdate:function(y){var z=this.props.comment,aa=y.comment;if(!z.editnux&&!!aa.editnux)g.loadModules(["LegacyContextualDialog"],function(ba){var ca=new ba();ca.init(aa.editnux).setContext(h.findDOMNode(this.refs.EditLink)).setWidth(300).setPosition('below').show();}.bind(this));}});e.exports=x;},null);
__d("UFIReplyLink.react",["React","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g,j=i.PropTypes,k=g.createClass({displayName:"UFIReplyLink",propTypes:{onClick:j.func},render:function(){return (g.createElement("a",{className:"UFIReplyLink",href:"#",onClick:this.props.onClick},h._("Odpowiedz")));}});e.exports=k;},null);
__d("UFISpamCount",["UFISpamCountImpl"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b('UFISpamCountImpl').module||{enabled:false};},null);
__d("UFICommentActions.react",["React","ReactFragment","TrackingNodes","UFICommentLikeCount.react","UFICommentMetadata.react","UFIConstants","UFIPrivateReplyLink.react","UFIReplyLink.react","UFISpamCount","cx","fbt","PagesPrivateReplyConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=b('PagesPrivateReplyConstants').Status,s=g,t=s.PropTypes,u=l.UFIStatus,v=' \u00b7 ',w="fsm fwn fcg UFICommentActions",x="UFIDeletedMessageIcon",y="UFIDeletedMessage",z=g.createClass({displayName:"UFICommentActions",propTypes:{comment:t.object.isRequired,contextArgs:t.object.isRequired,feedback:t.object.isRequired,hideAsSpamForPageAdmin:t.bool,markedAsSpamHere:t.bool,onCommentLikeToggle:t.func,onCommentReply:t.func,onMarkAsNotSpam:t.func,onPreviewRemove:t.func,onRetrySubmit:t.func,permalink:t.string,shortenTimestamp:t.bool,showPermalink:t.bool,showReplyLink:t.bool,viewerCanMarkNotSpam:t.bool},render:function(){var aa=this.props,ba=aa.comment,ca=aa.permalink,da=aa.feedback,ea=aa.markedAsSpamHere,fa=ba.status===u.SPAM_DISPLAY,ga=aa.showReplyLink,ha=aa.hideAsSpamForPageAdmin,ia,ja,ka,la,ma,na,oa,pa=!ba.islocal&&ba.status!==u.LIVE_DELETED;if(pa){if(fa&&!ea){if(aa.viewerCanMarkNotSpam)ia=g.createElement("a",{onClick:aa.onMarkAsNotSpam,className:"UFICommentNotSpamLink",href:"#",role:"button"},q._("Poka\u017c ponownie"));if(ha&&da.isthreaded&&ba.cancomment&&ga)ma=g.createElement(n,{comment:ba,onClick:aa.onCommentReply,contextArgs:aa.contextArgs});}else{if(ba.viewercanlike){var qa=i.getTrackingInfo(ba.hasviewerliked?i.types.UNLIKE_LINK:i.types.LIKE_LINK),ra=ba.hasviewerliked?q._("Nie lubi\u0119 tego komentarza"):q._("Polub komentarz");ja=g.createElement("a",{className:"UFILikeLink","data-ft":qa,href:"#",onClick:aa.onCommentLikeToggle,role:"button",title:ra},ba.hasviewerliked?q._("Nie lubi\u0119"):q._("Lubi\u0119 to!"));}if((this.props.contextArgs.simplereply&&this.props.feedback.cancomment)||(da.isthreaded&&ba.cancomment&&ga))ma=g.createElement(n,{comment:ba,contextArgs:aa.contextArgs,onClick:aa.onCommentReply});if(ba.likecount>0)ka=g.createElement(j,{comment:ba,contextArgs:aa.contextArgs});if(ba.spamcount&&o.enabled)la=g.createElement(o,{count:ba.spamcount});if(ba.messagereply&&((ba.messagereply.hasReplyPermission&&da.actorforpost===ba.messagereply.pageID)||(ba.messagereply.status===r.ALREADY_REPLIED)))na=g.createElement(m,{actorID:da.actorforpost,activityID:ba.id,context:ba.messagereply});}if(ba.attachment&&ba.attachment.type=="share"&&ba.canremove)oa=g.createElement("a",{href:"#",onClick:aa.onPreviewRemove,role:"button"},q._("Usu\u0144 podgl\u0105d"));}var sa=g.createElement(k,{comment:ba,onRetrySubmit:aa.onRetrySubmit,permalink:ca,shortenTimestamp:aa.shortenTimestamp,showPermalink:aa.showPermalink}),ta;if(da.isqanda){ta={likeCount:ka,spamCount:la,likeToggle:ja,commentReply:ma,messageReply:na,spamToggle:ia,metadata:sa,removePreview:oa};}else if(aa.contextArgs.entstream){ta={metadata:sa,likeToggle:ja,likeCount:ka,commentReply:ma,messageReply:na,spamCount:la,spamToggle:ia,removePreview:oa};}else if(da.isthreaded){ta={likeToggle:ja,commentReply:ma,messageReply:na,spamToggle:ia,removePreview:oa,likeCount:ka,spamCount:la,metadata:sa};}else ta={metadata:sa,likeToggle:ja,likeCount:ka,spamCount:la,commentReply:ma,messageReply:na,spamToggle:ia,removePreview:oa};if(ba.status===u.LIVE_DELETED){var ua=g.createElement("span",{className:y},g.createElement("i",{className:x,"data-hover":"tooltip","aria-label":q._("Usuni\u0119to komentarz")}));ta.deletionWarning=ua;}var va=true,wa={};for(var xa in ta){var ya=ta[xa];if(ya){wa[xa]=va?ya:h.create({MIDDOT:v,action:ya});va=false;}}return (g.createElement("div",{className:w},h.create(wa)));}});e.exports=z;},null);
__d("StringTrims",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={trimLeft:function(h){return h.replace(/^\s+/,'');},trimRight:function(h){return h.replace(/\s+$/,'');}};e.exports=g;},null);
__d("concatMap",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i){var j=-1,k=i.length,l=[],m;while(++j<k){m=h(i[j],j,i);Array.isArray(m)?Array.prototype.push.apply(l,m):Array.prototype.push.call(l,m);}return l;}e.exports=g;},null);
__d("LitestandEllipsis",["DOMQuery","StringTrims","concatMap","createArrayFromMixed","getElementText"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l,m={add:function(p,q,r){r=r||p;g.scry(p,'br').forEach(function(y){y.parentNode&&y.parentNode.removeChild(y);});var s=r.offsetHeight||0;if(s<=q)return p;var t,u='...',v=o(p),w=v.length-1,x=k(v[w]);if(w===0)x=h.trimLeft(x);while(w>=0&&s>q){t=Math.max(x.lastIndexOf(' '),x.lastIndexOf('\n'));if(t===-1)t=x.length-u.length-1;if(t<=0){n(v[w],'');w--;x=k(v[w]);}else{x=h.trimRight(x.substr(0,t))+u;n(v[w],x);}s=(r.offsetHeight||0)-1;}}};function n(p,q){l=l||(p.textContent!=null?'textContent':'innerText');p[l]=q;}function o(p){if(g.isTextNode(p))return [p];return i(o,j(p.childNodes));}e.exports=m;},null);
__d("LitestandShareAttachment",["CSS","DOMQuery","LitestandEllipsis","csx","cx","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=16,n=22,o=20,p=5,q=3,r=2,s=2,t=5,u=5,v={init:function(z){var aa,ba,ca,da=w(z);l(function(){aa=h.scry(z,"._6m6")[0];ba=h.scry(z,"._6m7")[0];ca=x(z,aa,da);},function(){if(!ca){ba&&g.hide(ba);aa&&i.add(aa,da*y(z));}else if(ba&&ca){g.show(ba);i.add(ba,ca*m);}});},getNumDescriptionLines:function(z){return x(z,h.scry(z,"._6m6")[0],w(z));},getDescriptionLineHeight:function(){return m;}};function w(z){var aa=g.hasClass(z,"_59ap"),ba=g.hasClass(z,"_pb2"),ca=h.scry(z,"^div._4rtc").length>0,da;if(ba){da=s;}else if(ca){da=r;}else if(aa){da=q;}else da=p;return da;}function x(z,aa,ba){var ca=h.scry(z,"._6m3")[0];if(!aa||!ca)return 0;var da=h.scry(z,"._59tj")[0],ea=g.hasClass(z,"_59ap"),fa=g.hasClass(z,"_pb2"),ga=Math.round(aa.scrollHeight/y(z));if(ga>ba&&!fa)return 0;var ha=ca.offsetHeight-t-aa.offsetHeight-(da?da.offsetHeight:0)-(ea?0:u)+1;return Math.floor(Math.max(ha,0)/m);}function y(z){return g.hasClass(z,"_pb2")?o:n;}e.exports=v;},null);
__d("UFICommentAttachment.react",["DOM","HTML","LitestandShareAttachment","React","Sticker.react"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=j,m=l.PropTypes,n=80,o=j.createClass({displayName:"UFICommentAttachment",propTypes:{comment:m.object.isRequired},_attachmentFromCommentData:function(p){return p.photo_comment||p.attachment;},_getScaledDimensions:function(p,q){var r,s,t;if(q>p){t=n/q;r=p*t;s=q*t;}else{t=n/p;r=p*t;s=q*t;}return {height:Math.round(r),width:Math.round(s)};},componentDidMount:function(){var p=this._attachmentFromCommentData(this.props.comment);if(p)this.renderAttachment(p);},shouldComponentUpdate:function(p,q){var r=this._attachmentFromCommentData(this.props.comment),s=this._attachmentFromCommentData(p.comment);if(!r&&!s)return false;if(!r||!s||r.markup!=s.markup){return true;}else return false;},componentDidUpdate:function(p){var q=this._attachmentFromCommentData(this.props.comment);if(q.type!=='sticker')this.renderAttachment(q);},renderAttachment:function(p){if(p&&this.refs&&this.refs.contents&&p.markup){var q=p.markup;if(h.isHTML(q.markup))q=h.replaceJSONWrapper(q.markup).getRootNode();var r=q.parentNode,s=j.findDOMNode(this.refs.contents);if(r&&r!==s)q=q.cloneNode(true);g.setContent(s,q);if(p.type=="share")i.init(s);}},renderSticker:function(p){var q=this._getScaledDimensions(p.metadata.height,p.metadata.width),r=null,s=null;if(window.devicePixelRatio&&window.devicePixelRatio>1&&p.metadata.source_uri_2x){r=p.metadata.sprite_uri_2x;s=p.metadata.source_uri_2x;}else{r=p.metadata.sprite_uri;s=p.metadata.source_uri;}return (j.createElement(k,{animationTrigger:"load_and_hover",frameCount:p.metadata.frameCount,frameRate:p.metadata.frameRate,framesPerCol:p.metadata.framesPerCol,framesPerRow:p.metadata.framesPerRow,spriteURI:r,sourceHeight:q.height,sourceURI:s,sourceWidth:q.width}));},render:function(){var p=this._attachmentFromCommentData(this.props.comment);if(p)if(p&&p.type==='sticker'){return this.renderSticker(p);}else return j.createElement("div",{ref:"contents"});return j.createElement("span",null);}});e.exports=o;},null);
__d("Badge.react",["BadgeHelper","React"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=h,j=i.PropTypes,k=h.createClass({displayName:"Badge",propTypes:{size:j.oneOf(g.sizes),type:j.oneOf(['verified','topcommenter','work'])},getDefaultProps:function(){return {size:'xsmall',type:'verified'};},render:function(){return (h.createElement("span",{className:g.getClasses(this.props.size,this.props.type)}));}});e.exports=k;},null);
__d("UFIActor.react",["Badge.react","Focus","HovercardLink","Locale","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=k,n=m.PropTypes,o=k.createClass({displayName:"UFIActor",propTypes:{author:n.object.isRequired,'data-ft':n.string,focusOnMount:n.bool,showHovercard:n.bool,isAuthorWeakReference:n.bool,groupOrEventID:n.number,useFirstName:n.bool,delimiter:n.string},getDefaultProps:function(){return {delimiter:" \u00b7 "};},componentDidMount:function(){if(this.props.focusOnMount)h.setWithoutOutline(k.findDOMNode(this.refs.authorName));},render:function(){var p=this.props.author,q=j.isRTL()?'rtl':'ltr',r=((this.props.isAuthorWeakReference?"weakReference":'')+(' '+"UFICommentActorName")),s=[];if(this.props.isAuthorWeakReference)s.push(k.createElement("i",{className:"UFIWeakReferenceIcon",key:"icon"}));if(this.props.useFirstName){s.push(p.firstName);}else s.push(p.name);var t=p.uri?k.createElement("a",k.__spread({},this.props,{className:r,"data-hovercard":this.props.showHovercard?i.constructEndpointWithGroupAndLocation(p,this.props.groupOrEventID,'ufi',this.props.isAuthorWeakReference).toString():null,"data-ft":this.props['data-ft'],dir:q,href:p.uri,ref:"authorName"}),s):k.createElement("span",{className:r,dir:q,ref:"authorName"},s);return (k.createElement("span",null,t,k.Children.map(this.props.children,function(u){return u?[u.type===g?'':this.props.delimiter,u]:null;}.bind(this))));}});e.exports=o;},null);
__d("UFISocialContext.react",["HovercardLink","ProfileBrowserLink","ProfileBrowserTypes","React","URI","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=j,n=m.PropTypes,o=27,p=j.createClass({displayName:"UFISocialContext",propTypes:{commentAuthor:n.object.isRequired,otherMutualCount:n.number.isRequired,topMutualFriend:n.object.isRequired},render:function(){var q=this.props.topMutualFriend,r=this.props.otherMutualCount,s=this.props.commentAuthor,t=g.constructEndpoint(q).toString(),u=j.createElement("a",{href:q.uri,"data-hovercard":t,key:"top"},q.name),v=s.name.length+q.name.length,w;if(r===0){w=l._("Znajomo\u015b\u0107 z u\u017cytkownikiem {name}",[l.param("name",u)]);}else if(v<o){var x;if(r==1){x=l._("1 inn\u0105 osob\u0105");}else x=l._({"*":"{count} innymi osobami"},[l.param("count",r,[0])]);w=l._("Znajomo\u015b\u0107 z u\u017cytkownikiem {name} i {others}",[l.param("name",u),l.param("others",this.getOthersLink(x,s,q))]);}else{var y=l._({"*":"{count} wsp\u00f3lnych znajomych"},[l.param("count",r+1,[0])]);w=this.getOthersLink(y,s);}return (j.createElement("span",{className:"UFICommentSocialContext"},w));},getOthersLink:function(q,r,s){var t=i.MUTUAL_FRIENDS,u={uid:r.id},v=new k('/ajax/mutual_friends/tooltip.php').setQueryData({friend_id:r.id});if(s)v.addQueryData({exclude_id:s.id});var w=h.constructDialogURI(t,u).toString();return (j.createElement("a",{ajaxify:w,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":v.toString(),href:h.constructPageURI(t,u).toString(),key:"others",rel:"dialog"},q));}});e.exports=p;},null);
__d("UFICommentAuthorName.react",["Badge.react","React","TrackingNodes","UFIActor.react","UFISocialContext.react"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.PropTypes,n=h.createClass({displayName:"UFICommentAuthorName",propTypes:{author:m.object.isRequired,authorProfiles:m.object.isRequired,showHovercard:m.bool,isAuthorWeakReference:m.bool,focusOnMount:m.bool,groupOrEventID:m.number,isFeatured:m.bool,socialContext:m.object,useFirstName:m.bool},render:function(){var o=this.props,p=o.author,q=i.getTrackingInfo(i.types.USER_NAME);return (h.createElement(j,{author:p,showHovercard:o.showHovercard,key:"author",focusOnMount:o.focusOnMount,"data-ft":q,isAuthorWeakReference:o.isAuthorWeakReference,groupOrEventID:o.groupOrEventID,useFirstName:o.useFirstName},o.isFeatured?h.createElement(g,{key:"badge",size:"xsmall",type:"verified"}):null,o.socialContext?h.createElement(k,{topMutualFriend:o.authorProfiles[o.socialContext.topmutualid],otherMutualCount:o.socialContext.othermutualcount,commentAuthor:p}):null));}});e.exports=n;},null);
__d("SeeMore.react",["React","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g.createClass({displayName:"SeeMore",getInitialState:function(){return {isCollapsed:true};},handleClick:function(){this.setState({isCollapsed:false});},render:function(){var l=this.state.isCollapsed,m=l?g.createElement("span",{className:"_5uzb"},i._("...")):null,n=this.props.children[0],o=l?null:g.createElement("span",null,this.props.children[1]),p=!l?null:g.createElement("a",{className:"_5v47 fss",onClick:this.handleClick,href:"#",role:"button"},i._("Zobacz wi\u0119cej"));return (g.createElement("span",{className:j(this.props.className,"_1n4g")},n,m,p,o));}});e.exports=k;},null);
__d("findSplitPointForText",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h,i,j){var k=null,l=h.split('\n');if(i&&h.length>i)k=i;if(j&&l.length>j){var m=l.slice(0,j).join('\n').length;if(k!==null){k=Math.min(m,k);}else k=m;}return k;}e.exports=g;},null);
__d("partitionTextAndRanges",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(j,k){var l=j.offset+j.length;return k>j.offset&&k<l;}function h(j,k){for(var l=0;l<j.length;l++){var m=j[l];if(g(m,k))return m.offset;}return k;}var i=function(j,k,l){var m=[],n=[],o=h(k,l);for(var p=0;p<k.length;p++){var q=k[p];if(q.offset<o){m.push(q);}else n.push({offset:q.offset-o,length:q.length,entity:q.entity});}return {before:{ranges:m,text:j.substr(0,o)},after:{ranges:n,text:j.substr(o)}};};e.exports=i;},null);
__d("TruncatedTextWithEntities.react",["React","TextWithEntities.react","SeeMore.react","findSplitPointForText","partitionTextAndRanges"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g.createClass({displayName:"TruncatedTextWithEntities",render:function(){var m=this.props.text||'',n=this.props.ranges||[];m=m.replace(/\s*$/,'');var o=this.props.maxLines,p=this.props.maxLength;if(p&&m.length>p){var q=this.props.truncationPercent||.6;p=Math.floor(q*p);}var r=j(m,p,o);if(r!==null){while(m[r-1]==='\n')r--;var s=k(m,n,r);return (g.createElement("span",{"data-ft":this.props['data-ft'],dir:this.props.dir},g.createElement(i,{className:this.props.className},g.createElement(h,{interpolator:this.props.interpolator,ranges:s.before.ranges,aggregatedRanges:this.props.aggregatedRanges,text:s.before.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}),g.createElement(h,{interpolator:this.props.interpolator,ranges:s.after.ranges,aggregatedRanges:this.props.aggregatedRanges,text:s.after.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}))));}else return (g.createElement("span",{"data-ft":this.props['data-ft'],dir:this.props.dir},g.createElement(h,{className:this.props.className,interpolator:this.props.interpolator,ranges:n,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,text:m,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji})));}});e.exports=l;},null);
__d("isRTL",["UnicodeBidi","UnicodeBidiDirection"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){return g.getDirection(j)===h.RTL;}e.exports=i;},null);
__d("HovercardLinkInterpolator",["HovercardLink","Link.react","React","URI","WWWBase","cx","fbt","isFacebookURI","isRTL"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();function p(q,r,s,t,u){var v=r.entity,w=s||(v.external?'_blank':null),x,y=((!v.external?"profileLink":'')+(v.weakreference?' '+"weakReference":'')),z,aa=v.hashtag?q.substring(1):q;z=o(aa)?'rtl':'ltr';var ba=new j(v.url);if(n(ba))ba.addQueryData({hc_location:u});if(v.hashtag){var ca=ba.setDomain(new j(k.uri).getDomain());x=i.createElement("a",{className:"_58cn",dir:z,href:ca.toString(),target:w},i.createElement("span",{"aria-label":m._("znacznik #"),className:"_58cl"},q.substring(0,1)),i.createElement("span",{className:"_58cm"},q.substring(1)));}else if(v.weakreference){x=i.createElement(h,{className:y,dir:z,href:ba,target:w},i.createElement("i",{className:"UFIWeakReferenceIcon"}),q);}else x=i.createElement(h,{className:y,dir:z,href:ba,target:w},q);if(!v.external&&!v.hashtag&&!v.photo)x.props['data-hovercard']=g.constructEndpointWithGroupAndLocation(v,t,u).toString();return x;}e.exports=p;},null);
__d("URITruncator",["URI","fbt"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=3;function j(k,l){var m=h._("..."),n=m.length;if(!k||l===(void 0)||k.length<=l||l<=n||k.toString().length<=n)return k;if(!g.isValidURI(k))return k.substring(0,l-n)+m;var o=new g(k),p=o.getOrigin();if(p.length>l-n)return p.substring(0,l-n)+m;var q=false;if(!!o.getFragment()){q=true;o.setFragment('');if(o.toString().length<=l-n)return o.toString()+m;}var r=o.getQueryData();if(r){var s=Object.keys(r);if(s.length>0){q=true;for(var t=s.length-1;t>=0;t--){o.removeQueryData(s[t]);if(o.toString().length<=l-n)return o.toString()+m;}}}var u=o.getPath()+(q?m:''),v=u.split('/'),w=(p.length+u.length)-l,x=0;while(w>0&&v.length>x+1){var y=x+1,z=v[y];if(w+n+i<=z.length){var aa=z.length-1,ba=z.length-w-n,ca=/[a-zA-Z0-9]/;w+=n;while(w>0){while(aa>0&&ca.test(z[aa])){aa--;w--;}while(aa>0&&!ca.test(z[aa])){aa--;w--;}}if(aa===0)aa=ba-1;v[y]=z.substring(0,aa+1)+m;}else{x++;w-=z.length;if(x===1){w+=n;}else w--;}}if(x>0){if(v[v.length-1].length===0&&v.length===x+2)x++;v.splice(1,x,m);}var da=p+v.join('/');if(da.length>l)da=da.substring(0,l-n)+m;return da;}e.exports=j;},null);
__d("transformTextRanges",["UnicodeUtils"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=function(i,j,k){if(!i||!j||!k)return i;j.sort(function(r,s){return r.offset-s.offset;});var l=0;for(var m=0;m<j.length;m++){j[m].offset+=l;var n=g.substr(i,j[m].offset,j[m].length),o=g.strlen(n),p=k(n,j[m]),q=g.strlen(p);if(n!==p){i=g.substr(i,0,j[m].offset)+p+g.substr(i,j[m].offset+j[m].length);j[m].length=q;l+=q-o;}}return i;};e.exports=h;},null);
__d("UFICommentUtils.react",["HovercardLinkInterpolator","UFIConstants","URITruncator","copyProperties","transformTextRanges"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l={getCommentTextWithTruncatedURIs:function(m,n){if(h.commentURLTruncationLength)if(m&&m.length>0)n=k(n,m,function(o,p){return p.entity.external?i(o,h.commentURLTruncationLength):o;});return n;},getCommentBodyInterpolator:function(m){return function(n,o){return g(n,o,'_blank',m,'ufi');};},shallowCopyRanges:function(m){if(!m)return m;var n=[];m.forEach(function(o){n.push(j({},o));});return n;}};e.exports=l;},null);
__d("UFICommentBody.react",["Locale","React","TrackingNodes","TruncatedTextWithEntities.react","UnicodeBidi","UFICommentUtils.react","UFIConfig","UFIConstants","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=h,q=p.PropTypes,r=h.createClass({displayName:"UFICommentBody",propTypes:{commentText:q.string.isRequired,commentRanges:q.array,groupOrEventID:q.number,useWhitespacesRender:q.bool,maxLength:q.number,maxLines:q.number,socialContext:q.object},render:function(){var s=this.props,t=s.commentText,u=i.getTrackingInfo(i.types.USER_MESSAGE),v=k.isDirectionLTR(t),w=!v,x=v&&g.isRTL()?'ltr':w&&!g.isRTL()?'rtl':null,y=l.getCommentBodyInterpolator(s.groupOrEventID),z=h.createElement(j,{key:"comment-body",className:(("UFICommentBody")+(this.props.useWhitespacesRender?' '+"UFICommentBodyPreserveWhitespace":'')),interpolator:y,ranges:s.commentRanges,text:t,truncationPercent:n.commentTruncationPercent,maxLength:s.maxLength,maxLines:s.maxLines,renderEmoticons:m.renderEmoticons,renderEmoji:m.renderEmoji,"data-ft":u,dir:x});if(s.socialContext){z=h.createElement("div",{key:"body"},z);}else{var aa=((v&&g.isRTL()?"_5wjy":'')+(v&&g.isRTL()?' '+"_5wjz":'')+(w&&!g.isRTL()?' '+"_5wj-":'')+(w&&!g.isRTL()?' '+"_5wj_":''));z=aa?h.createElement("div",{key:"body",className:aa},z):[' ',z];}return h.createElement("span",null,z);}});e.exports=r;},null);
__d("XUIEditButton.react",["XUIAbstractGlyphButton.react","React","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h.createClass({displayName:"XUIEditButton",render:function(){var m=this.props.label,n=this.props.title;if(!this.props.title&&!this.props.tooltip){if(!m)m=j._("Edytuj");n=m;}return (h.createElement(g,h.__spread({},this.props,{label:m,title:n,"aria-label":this.props.tooltip,"data-hover":this.props.tooltip&&'tooltip',"data-tooltip-alignh":this.props.tooltip&&'center',className:k(this.props.className,"_5upq _5upr")})));}});e.exports=l;},null);
__d("UFICommentMenu.react",["Bootloader","React","XUICloseButton.react","XUIEditButton.react","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.PropTypes,n,o,p,q,r=k({EDIT:true,CLOSE:true}),s=h.createClass({displayName:"UFICommentMenu",propTypes:{menuData:m.array,menuType:m.oneOf(Object.keys(r)).isRequired,onAction:m.func,onClick:m.func},getInitialState:function(){return {bootloading:false,bootloaded:false,needsExpand:false};},onClickGuard:function(event){if(this.state.bootloading){return;}else if(!this.state.bootloaded&&this.props.menuData){this.setState({bootloading:true});g.loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu"],function(t,u,v){n=t,o=u;p=v;q=p.Item;this.setState({bootloading:false,bootloaded:true,needsExpand:true});}.bind(this));}else if(this.props.onClick)this.props.onClick(event);},shouldComponentUpdate:function(t,u,v){if(this.state.needsExpand&&!u.needsExpand)return false;return true;},render:function(){var t=null;if(this.props.menuType===r.EDIT){t=j;}else t=i;if(this.props.menuData&&this.state.bootloaded){var u=this.props.menuData.map(function(w){return (h.createElement(q,{key:w.value,value:w.value},w.label));}),v=h.createElement(p,{onItemClick:this.props.onAction},u);return (h.createElement(o,h.__spread({},this.props,{alignh:"right",layerBehaviors:[n],menu:v,ref:"menu"}),h.createElement(t,{href:"#",onClick:this.onClickGuard})));}return h.createElement(t,h.__spread({},this.props,{href:"#",onClick:this.onClickGuard}));},componentDidUpdate:function(){if(this.state.needsExpand){this.refs.menu.showPopover();this.setState({needsExpand:false});}}});s.MenuType=r;e.exports=s;},null);
__d("UFIComment.react",["Bootloader","HovercardLink","React","TrackingNodes","TextWithEntities.react","UFIClassNames","UFICommentActions.react","UFICommentAttachment.react","UFICommentAuthorName.react","UFICommentBody.react","UFICommentMenu.react","UFICommentUtils.react","UFIConfig","UFIConstants","UFIImageBlock.react","UFITranslationConstants","URI","XUICloseButton.react","cx","joinClasses","keyMirror","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){b.__markCompiled&&b.__markCompiled();'use strict';var ca=i,da=ca.PropTypes,ea=t.UFIStatus,fa=aa({edit:true,hide:true,remove:true}),ga="UFITranslateLink",ha="UFITranslatedText",ia="UFITranslationErrorText",ja="UFITranslateAttribution",ka="fcg",la=null,ma=function(pa){var qa=pa.status;return qa===ea.FAILED_ADD||qa===ea.FAILED_EDIT;};function na(pa){return pa.commenterIsFOF!==undefined&&pa.userIsMinor!==undefined&&pa.reportLink!==undefined;}var oa=i.createClass({displayName:"UFIComment",propTypes:{authorProfiles:da.object.isRequired,comment:da.object.isRequired,contextArgs:da.object.isRequired,feedback:da.object.isRequired,'data-ft':da.string,focusOnMount:da.bool,hasPartialBorder:da.bool,hideAsSpamForPageAdmin:da.bool,isFeatured:da.bool,isFirst:da.bool,isFirstCommentComponent:da.bool,isFirstComponent:da.bool,isLast:da.bool,isLastCommentComponent:da.bool,isLastComponent:da.bool,isLocallyComposed:da.bool,isReply:da.bool,onBlingBoxClick:da.func,onCommentLikeToggle:da.func,onCommentReply:da.func,onCommentTranslate:da.func,onEdit:da.func,onHideAsSpam:da.func,onInlineBan:da.func,onMarkAsNotSpam:da.func,onPreviewRemove:da.func,onRemove:da.func,onRetrySubmit:da.func,onUndoInlineBan:da.func,permalink:da.string,shortenTimestamp:da.bool,showPermalink:da.bool,showRemoveReportMenu:da.bool,showReplyLink:da.bool,viewerIsAuthor:da.bool},getInitialState:function(){return {isHighlighting:this.props.comment.highlightcomment,wasHighlighted:this.props.comment.highlightcomment,markedAsSpamHere:false,isInlinePageDeleted:false,isInlineBanned:false};},_onHideAsSpam:function(event){this.props.onHideAsSpam(event);this.setState({markedAsSpamHere:true});},_onMarkAsNotSpam:function(event){this.props.onMarkAsNotSpam(event);this.setState({markedAsSpamHere:false});},_onDeleteSpam:function(event){this.props.onRemove(event,this);},_onInlineBan:function(event){this.props.onInlineBan(event);this.setState({isInlineBanned:true});},_onUndoInlineBan:function(event){this.props.onUndoInlineBan(event);this.setState({isInlineBanned:false});},_onAction:function(event,pa){var qa=pa.item,ra=qa.getValue();setTimeout(function(){if(ra===fa.remove){this.props.onRemove(event);}else if(ra===fa.edit){this.props.onEdit(event);}else if(ra===fa.hide)this._onHideAsSpam(event);}.bind(this),0);},_createRemoveReportMenuData:function(){return [{value:fa.remove,label:ba._("Usu\u0144 komentarz...")},{value:fa.hide,label:ba._("Ukryj komentarz")}];},_createEditDeleteMenuData:function(){return [{value:fa.edit,label:ba._("Edytuj...")},{value:fa.remove,label:ba._("Usu\u0144...")}];},_renderCloseButton:function(){var pa=this.props.comment,qa=this.props.feedback,ra=null,sa=null,ta=null,ua=false;if(pa.canremove&&!this.props.hideAsSpamForPageAdmin){if(this.props.viewerIsAuthor){if(pa.canedit){ta=ba._("Edytuj lub usu\u0144");sa=this._createEditDeleteMenuData();ua=true;}else{ta=ba._("Usu\u0144");ra=this.props.onRemove;}}else if(qa.canremoveall)if(this.props.showRemoveReportMenu){ta=ba._("Usu\u0144 lub Zg\u0142o\u015b");sa=this._createRemoveReportMenuData();}else{ta=ba._("Usu\u0144");ra=this.props.onRemove;}}else if(pa.canreport){ta=ba._("Ukryj");ra=this._onHideAsSpam;}var va=(("UFICommentCloseButton")+(ra===null&&sa===null?' '+"hdn":'')),wa=null,xa=null;if(this.props.contextArgs.viewas){wa="/ajax/profile/link_disabled_in_viewas.php";xa="dialog";ra=null;}var ya=ua?q.MenuType.EDIT:q.MenuType.CLOSE;return (i.createElement(q,{ajaxify:wa,className:va,onClick:ra,rel:xa,tooltip:ta,menuData:sa,menuType:ya,onAction:this._onAction}));},_renderFakeCloseButton:function(){return (i.createElement(x,{className:"UFICommentCloseButtonFake",tabIndex:"-1"}));},componentDidMount:function(){if(this.state.isHighlighting){var pa=i.findDOMNode(this),qa=parseInt(this.props.comment.scrolltopoffset||0,10);g.loadModules(["UFIScrollHighlight"],function(ra){setTimeout(ra.actOn.bind(null,pa,qa),0);});this.setState({isHighlighting:false});}},shouldComponentUpdate:function(pa,qa){var ra=this.props,sa=this.state;return (pa.comment!==ra.comment||pa.showReplyLink!==ra.showReplyLink||pa.isFirst!==ra.isFirst||pa.isLast!==ra.isLast||pa.isFirstCommentComponent!==ra.isFirstCommentComponent||pa.isLastCommentComponent!==ra.isLastCommentComponent||pa.isFirstComponent!==ra.isFirstComponent||pa.isLastComponent!==ra.isLastComponent||pa.isFeatured!==ra.isFeatured||pa.hasPartialBorder!==ra.hasPartialBorder||qa.wasHighlighted!==sa.wasHighlighted||qa.isHighlighting!==sa.isHighlighting||qa.markedAsSpamHere!==sa.markedAsSpamHere||qa.isInlinePageDeleted!==sa.isInlinePageDeleted||qa.isInlineBanned!==sa.isInlineBanned);},render:function(){var pa=this.props.comment,qa=this.props.feedback,ra=pa.status===ea.DELETED,sa=pa.status===ea.LIVE_DELETED,ta=pa.status===ea.SPAM_DISPLAY,ua=this.state.markedAsSpamHere,va=this.state.isInlinePageDeleted,wa=this.props.hideAsSpamForPageAdmin,xa=this.state.isInlineBanned,ya=na(pa),za=!pa.status&&(pa.isunseen||pa.islocal);if(!pa.status&&qa.lastseentime){var ab=pa.originalTimestamp||pa.timestamp.time;za=za||ab>qa.lastseentime;}var bb=this.props.contextArgs.markedcomments;if(bb&&bb[pa.legacyid])za=true;var cb=((this.props.isFirst?"UFIFirstComment":'')+(this.props.isLast?' '+"UFILastComment":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''));if(ya)if(la){var db,eb=null,fb=null,gb=null;if(wa){fb=xa?this._onUndoInlineBan:this._onInlineBan;if(va){db=ba._("Komentarz zosta\u0142 usuni\u0119ty i nikt nie mo\u017ce go wy\u015bwietli\u0107.");}else if(ua){db=ba._("Teraz ta zawarto\u015b\u0107 jest widoczna wy\u0142\u0105cznie dla osoby, kt\u00f3ra j\u0105 napisa\u0142a, i dla jej znajomych.");gb=this._onDeleteSpam;eb=this._onMarkAsNotSpam;}}else if(ua){db=ba._("Komentarz zosta\u0142 ukryty.");gb=this._onDeleteSpam;eb=this._onMarkAsNotSpam;}if(db)return (i.createElement("li",{className:z(l.ROW,cb,"UFIHide")},i.createElement(la,{notice:db,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:eb,onBanAction:fb,onDeleteAction:gb,isInlineBanned:xa,isInlinePageDeleted:va,hideAsSpamForPageAdmin:wa,pageID:this.props.feedback.ownerid})));}else g.loadModules(["UFICommentRemovalControls.react"],function(kb){la=kb;setTimeout(function(){this.forceUpdate();}.bind(this));}.bind(this));var hb=!ra,ib=z(l.ROW,cb,(("UFIComment")+(ma(pa)?' '+"UFICommentFailed":'')+(ra||sa||ta?' '+"UFITranslucentComment":'')+(this.state.isHighlighting?' '+"highlightComment":'')+(!hb?' '+"noDisplay":'')+(hb?' '+"display":'')+(' '+"UFIComponent")+(this.props.hasPartialBorder?' '+"UFIPartialBorder":''))),jb=this.renderComment();if(za)ib=z(ib,l.UNSEEN_ITEM);return (i.createElement("li",{className:ib,"data-ft":this.props['data-ft']},jb));},renderComment:function(){var pa=this.props,qa=pa.comment,ra=qa.body.text,sa=r.shallowCopyRanges(qa.body.ranges),ta=pa.permalink,ua=pa.feedback,va=pa.authorProfiles[qa.author],wa=qa.status===ea.SPAM_DISPLAY,xa=qa.status===ea.LIVE_DELETED,ya=!(wa||xa),za=ua.canremoveall||qa.hiddenbyviewer;ra=r.getCommentTextWithTruncatedURIs(sa,ra);var ab=null,bb=null;if(!pa.isLocallyComposed&&!this.state.wasHighlighted){bb=t.commentTruncationLength;ab=t.commentTruncationMaxLines;}var cb=j.getTrackingInfo(j.types.SMALL_ACTOR_PHOTO),db=j.getTrackingInfo(j.types.USER_MESSAGE),eb=null,fb=null,gb=null,hb=null;if(qa.istranslatable&&(qa.translatedbody===undefined))eb=i.createElement("a",{href:"#",role:"button",title:ba._("Przet\u0142umacz ten komentarz"),className:ga,onClick:pa.onCommentTranslate},ba._("Zobacz t\u0142umaczenie"));if(qa.translatedbody!==undefined)if(qa.translatedbody!==null&&qa.translatedbody.text!==''){var ib=v.BING_PAGE_URL,jb=v.BING_TRANSLATOR_APP,kb=null;if(qa.translatorapp===jb){var lb=new w(ib).addQueryData({text:ra});kb=i.createElement("a",{href:lb.toString(),target:"_blank",className:ka},ba._("Przet\u0142umaczone przez Bing"));}else kb=ba._("Przet\u0142umaczone automatycznie");hb=i.createElement("span",{className:ja},kb);var mb=r.shallowCopyRanges(qa.translatedbody.ranges),nb=qa.translatedbody.text,ob=qa.translatedbody.dir,pb=i.createElement("span",{key:"comment-body","data-ft":db,dir:ob},i.createElement(k,{className:(("UFICommentBody")+(this.props.contextArgs.useWhitespacesRender?' '+"UFICommentBodyPreserveWhitespace":'')),interpolator:r.getCommentBodyInterpolator(pa.feedback.grouporeventid),ranges:mb,text:nb,renderEmoticons:s.renderEmoticons,renderEmoji:s.renderEmoji}));fb=i.createElement("span",{className:ha},pb);}else gb=i.createElement("span",{className:ia},ba._("Brak dost\u0119pnego t\u0142umaczenia"));var qb=i.createElement(p,{socialContext:qa.socialcontext,commentText:ra,commentRanges:sa,groupOrEventID:ua.grouporeventid,useWhitespacesRender:this.props.contextArgs.useWhitespacesRender,maxLength:bb,maxLines:ab}),rb=pa.contextArgs.viewas?null:h.constructEndpointWithGroupAndLocation(va,ua.grouporeventid,'ufi',qa.isauthorweakreference).toString(),sb=i.createElement(o,{author:va,authorProfiles:pa.authorProfiles,showHovercard:!!rb,isAuthorWeakReference:qa.isauthorweakreference,focusOnMount:pa.focusOnMount,groupOrEventID:ua.grouporeventid,isFeatured:pa.isFeatured,socialContext:qa.socialcontext}),tb=null;if(qa.photo_comment_status)tb=i.createElement("div",{className:"_50f8"},qa.photo_comment_status);var ub=null;if(qa.sticker_attachment_status)ub=i.createElement("div",{className:"_50f8"},qa.sticker_attachment_status);var vb=null;if(qa.status!==ea.DELETED)vb=i.createElement(n,{comment:pa.comment});return (i.createElement(u,{spacing:"medium"},i.createElement("a",{href:va.uri,"data-hovercard":rb,"data-ft":cb},i.createElement("img",{src:va.thumbSrc,className:l.ACTOR_IMAGE,alt:""})),i.createElement("div",{className:"UFICommentContentBlock"},i.createElement("div",{className:"UFICommentContent"},sb,qb,eb,fb,hb,gb,vb),tb,ub,i.createElement(m,{comment:qa,feedback:ua,onBlingBoxClick:pa.onBlingBoxClick,onCommentLikeToggle:pa.onCommentLikeToggle,onCommentReply:pa.onCommentReply,onPreviewRemove:pa.onPreviewRemove,onRetrySubmit:pa.onRetrySubmit,onMarkAsNotSpam:this._onMarkAsNotSpam,permalink:ta,viewerCanMarkNotSpam:za,shortenTimestamp:pa.shortenTimestamp,showPermalink:pa.showPermalink,showReplyLink:pa.showReplyLink,contextArgs:pa.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:pa.hideAsSpamForPageAdmin}),ya?this._renderCloseButton():null),ya?this._renderFakeCloseButton():null));}});e.exports=oa;},null);
__d("UFIContainer.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g.createClass({displayName:"UFIContainer",render:function(){var j=null;if(this.props.hasNub)j=g.createElement("li",{className:"UFIArrow"},g.createElement("i",null));var k=((!this.props.isReplyList?"UFIList":'')+(this.props.isReplyList?' '+"UFIReplyList":'')+(this.props.isParentLiveDeleted?' '+"UFITranslucentReplyList":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''));return (g.createElement("ul",{className:k},j,this.props.children));}});e.exports=i;},null);
__d("UFIInlineShareConfirmation.react",["React","UFIClassNames","UFIImageBlock.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=g,m=l.PropTypes,n=[m.object,m.string],o=g.createClass({displayName:"UFIInlineShareConfirmation",propTypes:{isError:m.bool.isRequired,isFirstComponent:m.bool,isLastComponent:m.bool,message:m.oneOfType(n).isRequired},render:function(){var p=k(h.ROW,(("UFIInlineShareConfirmation")+(this.props.isError?' '+"UFIInlineShareError":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":'')));return (g.createElement("li",{className:p},g.createElement(i,null,g.createElement("i",{className:"UFIConfirmationIcon"}),this._getText())));},_getText:function(){if(this.props.message.__html)return g.createElement("span",{dangerouslySetInnerHTML:this.props.message});return g.createElement("span",null,this.props.message);}});e.exports=o;},null);
__d("UFILikeSentenceText.react",["ActorURI","HovercardLinkInterpolator","ProfileBrowserLink","ProfileBrowserTypes","React","TextWithEntities.react","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=k,o=n.PropTypes;function p(r,s,t,u){if(u.count!=null){var v=j.LIKES,w={id:r.targetfbid,actorid:r.actorid},x=[],y;for(var z=0;z<s.length;z++)if(!s[z].count){y=s[z];var aa=y.entity;x.push(aa.id);}var ba=new m('/ajax/like/tooltip.php').setQueryData({comment_fbid:r.targetfbid,comment_from:r.actorforpost,seen_user_fbids:x.length?x:true});ba=g.create(ba,r.actorforpost);return (k.createElement("a",{className:"UFINoWrap",rel:"dialog",ajaxify:i.constructDialogURI(v,w).toString(),href:i.constructPageURI(v,w).toString(),"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-uri":ba.toString(),role:"button"},t));}else return h(t,u,null,null,'ufi');}var q=k.createClass({displayName:"UFILikeSentenceText",propTypes:{contextArgs:o.object.isRequired,feedback:o.object.isRequired,likeSentenceData:o.object.isRequired},render:function(){var r=this.props.feedback,s=this.props.likeSentenceData,t;t=p;t=t.bind(null,r,s.ranges);return (k.createElement(l,{interpolator:t,ranges:s.ranges,aggregatedRanges:s.aggregatedranges,text:s.text}));}});e.exports=q;},null);
__d("UFILikeSentence.react",["Bootloader","LeftRight.react","ProfileBrowserLink","ProfileBrowserTypes","React","UFIClassNames","UFIImageBlock.react","UFILikeSentenceText.react","URI","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=k,t=s.PropTypes,u=k.createClass({displayName:"UFILikeSentence",propTypes:{contextArgs:t.object.isRequired,feedback:t.object.isRequired,isFirstComponent:t.bool,isLastComponent:t.bool,onOrderingModeChange:t.func,onTargetLikeToggle:t.func,orderingMode:t.string,showOrderingModeSelector:t.bool},getInitialState:function(){return {selectorModule:null,bootloadedSelectorModule:false};},componentWillMount:function(){this._bootloadSelectorModule(this.props);},componentWillReceiveProps:function(v){this._bootloadSelectorModule(v);},_bootloadSelectorModule:function(v){if(v.showOrderingModeSelector&&!this.state.bootloadedSelectorModule){var w=function(x){this.setState({selectorModule:x});}.bind(this);if(v.contextArgs.entstream){g.loadModules(["UFIEntStreamOrderingModeSelector.react"],w);}else g.loadModules(["UFIOrderingModeSelector.react"],w);this.setState({bootloadedSelectorModule:true});}},render:function(){var v=this.props.feedback,w=v.likesentences.current,x=this.props.contextArgs.entstream,y=q(l.ROW,v.likesentences.isunseen?l.UNSEEN_ITEM:'',(("UFILikeSentence")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),z=null,aa=null;if(w.text)aa=k.createElement("div",{className:"UFILikeSentenceText"},k.createElement(n,{contextArgs:this.props.contextArgs,feedback:v,likeSentenceData:w}));var ba=this.props.contextArgs.ufiexperiments||{};if(aa&&!x&&!ba.showRevisedUFI&&!ba.showSlimUFI){z=k.createElement("i",{className:"UFILikeIcon"});if(v.viewercanlike&&!v.hasviewerliked)z=k.createElement("a",{className:"UFILikeThumb",href:"#",tabIndex:"-1",title:r._("Lubi\u0119 to"),onClick:this.props.onTargetLikeToggle,role:"button","aria-label":r._("Lubi\u0119 to")},z);}var ca=aa,da=null;if(v.seencount>0&&!x){var ea=j.GROUP_MESSAGE_VIEWERS,fa={id:v.targetfbid},ga=i.constructDialogURI(ea,fa),ha=i.constructPageURI(ea,fa),ia=new o('/ajax/ufi/seen_tooltip.php').setQueryData({ft_ent_identifier:v.entidentifier,displayed_count:v.seencount}),ja;if(v.seenbyall){ja=r._("Wy\u015bwietlone przez wszystkich");}else ja=v.seencount==1?r._("Wy\u015bwietlone przez 1"):r._("Wy\u015bwietlone przez: {count}",[r.param("count",v.seencount)]);da=k.createElement("a",{rel:"dialog",ajaxify:ga.toString(),href:ha.toString(),"data-hover":"tooltip","data-tooltip-alignh":"left","data-tooltip-uri":ia.toString(),className:(("UFISeenCount")+(!!w.text?' '+"UFISeenCountRight":''))},k.createElement("span",{className:"UFISeenCountIcon"}),ja);}else if(this.props.showOrderingModeSelector&&this.state.selectorModule){var ka=this.state.selectorModule;da=k.createElement(ka,{entstream:x,orderingmodes:v.orderingmodes,onOrderChanged:this.props.onOrderingModeChange});if(!ca)ca=k.createElement("div",null);}var la=null;if(z&&aa){la=k.createElement(m,null,z,aa,da);}else if(ca){la=k.createElement(h,{direction:h.DIRECTION.right},ca,da);}else la=da;return (k.createElement("li",{className:y},la));}});e.exports=u;},null);
__d("UFIPager.react",["LeftRight.react","React","UFIClassNames","UFIImageBlock.react","XUISpinner.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=h,o=n.PropTypes,p=h.createClass({displayName:"UFIPager",propTypes:{contextArgs:o.object.isRequired,pagerLabel:o.string.isRequired,'data-ft':o.string,countSentence:o.string,isFirstCommentComponent:o.bool,isFirstComponent:o.bool,isLastCommentComponent:o.bool,isLastComponent:o.bool,isLoading:o.bool,isUnseen:o.bool,onPagerClick:o.func},onPagerClick:function(q){!this.props.isLoading&&this.props.onPagerClick&&this.props.onPagerClick();q.nativeEvent.prevent();},render:function(){var q=this.onPagerClick,r=m(i.ROW,this.props.isUnseen?i.UNSEEN_ITEM:'',(("UFIPagerRow")+(' '+"UFIComponent")+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),s=null;if(this.props.isLoading)s=h.createElement(k,{className:"mls",background:"light",size:"small"});var t=h.createElement("a",{className:"UFIPagerLink",onClick:q,href:"#",role:"button"},this.props.pagerLabel,s),u=(("fcg")+(' '+"UFIPagerCount")),v=h.createElement("span",{className:u},this.props.countSentence),w,x=this.props.contextArgs.ufiexperiments||{};if(this.props.contextArgs.entstream||x.showRevisedUFI){w=(h.createElement(g,{direction:g.DIRECTION.right},t,v));}else w=(h.createElement(j,null,h.createElement("a",{className:"UFIPagerIcon",onClick:q,href:"#",role:"button"}),t,v));return (h.createElement("li",{className:r,"data-ft":this.props['data-ft']},w));}});e.exports=p;},null);
__d("intlList",["React","fbt","invariant","keyMirror"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=function(m,n){n=n||k.CONJUNCTIONS.AND;var o=m.length;if(o===0){return '';}else if(o===1)return m[0];var p=m[o-1],q=m[0];for(var r=1;r<o-1;++r)q=h._("{previous items}, {following items}",[h.param("previous items",q),h.param("following items",m[r])]);return l(q,p,n);};function l(m,n,o){switch(o){case k.CONJUNCTIONS.AND:return (h._("{list of items} i {last item}",[h.param("list of items",m),h.param("last item",n)]));case k.CONJUNCTIONS.OR:return (h._("{list of items} lub {last item}",[h.param("list of items",m),h.param("last item",n)]));case k.CONJUNCTIONS.NONE:return (h._("{list of items}, {last item}",[h.param("list of items",m),h.param("last item",n)]));default:i(false);}}k.CONJUNCTIONS=j({AND:null,NONE:null,OR:null});e.exports=k;},null);
__d("UFIPagerLabel",["fbt","intlList","NumberFormat"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={VIEW_ONE:'view_one',VIEW_ONE_MORE:'view_one_more',VIEW_ALL:'view_all',VIEW_MORE_EXPLICIT:'view_more_explicit',VIEW_MORE:'view_more',VIEW_PREVIOUS:'view_previous',_getReplyLabel:function(k,l){var m;switch(k){case j.VIEW_ONE:return g._("Wy\u015bwietl 1 odpowied\u017a");case j.VIEW_ONE_MORE:return g._("Wy\u015bwietl 1 dodatkow\u0105 odpowied\u017a");case j.VIEW_ALL:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Wy\u015bwietl wszystkie {count} odpowiedzi"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE_EXPLICIT:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Wy\u015bwietl {count} dodatkowych odpowiedzi"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE:return g._("Poka\u017c wi\u0119cej odpowiedzi");case j.VIEW_PREVIOUS:return g._("Wy\u015bwietl wcze\u015bniejsze odpowiedzi");default:return null;}},_getCommentLabel:function(k,l){if(l.commenters)return this._getCommentLabelWithCommentSentence(k,l);var m;switch(k){case j.VIEW_ONE:return g._("Zobacz 1 komentarz");case j.VIEW_ONE_MORE:return g._("Zobacz 1 wi\u0119cej komentarz");case j.VIEW_ALL:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Zobacz wszystkie komentarze: {count}"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE_EXPLICIT:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Zobacz wi\u0119cej komentarzy ({count})"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE:return g._("Zobacz wi\u0119cej komentarzy");case j.VIEW_PREVIOUS:return g._("Poka\u017c wcze\u015bniejsze komentarze");default:return null;}},_getCommentLabelWithCommentSentence:function(k,l){var m=h(l.commenters),n=l.othersCount,o=i.formatIntegerWithDelimiter(n,l.delimiter),p=i.formatIntegerWithDelimiter(l.count,l.delimiter);switch(k){case j.VIEW_ONE:return g._("Zobacz 1 komentarz u\u017cytkownika {names}",[g.param("names",m)]);case j.VIEW_ONE_MORE:return g._("Zobacz 1 wi\u0119cej komentarz u\u017cytkownika {names}",[g.param("names",m)]);case j.VIEW_ALL:switch(n){case 0:return g._({"*":"Zobacz wszystkie {count} komentarzy u\u017cytkownik\u00f3w {names}","268435456":"Zobacz {count} komentarz u\u017cytkownika {names}","536870912":"Zobacz wszystkie {count} komentarze u\u017cytkownik\u00f3w {names}"},[g.param("count",p,[0,l.count]),g.param("names",m)]);case 1:return g._({"*":"Zobacz wszystkie {count} komentarzy od u\u017cytkownik\u00f3w {names} i 1 innego","268435456":"Zobacz {count} komentarz od u\u017cytkownik\u00f3w {names} i 1 innego","536870912":"Zobacz wszystkie {count} komentarze od u\u017cytkownik\u00f3w {names} i 1 innego"},[g.param("count",p,[0,l.count]),g.param("names",m)]);default:return g._({"*":{"*":"Zobacz wszystkich {count} komentarzy od u\u017cytkownik\u00f3w {names} i {othersCount} innych"}},[g.param("count",p,[0,l.count]),g.param("names",m),g.param("othersCount",o,[0,n])]);}break;case j.VIEW_MORE_EXPLICIT:case j.VIEW_MORE:switch(n){case 0:return g._("Zobacz wi\u0119cej komentarzy u\u017cytkownik\u00f3w {names}",[g.param("names",m)]);case 1:return g._("Zobacz wi\u0119cej komentarzy u\u017cytkownik\u00f3w {names} i 1 innego",[g.param("names",m)]);default:return g._({"*":"Zobacz wi\u0119cej komentarzy u\u017cytkownik\u00f3w {names} i {othersCount} innych"},[g.param("names",m),g.param("othersCount",o,[0,n])]);}break;case j.VIEW_PREVIOUS:switch(n){case 0:return g._("Zobacz poprzednie komentarze u\u017cytkownik\u00f3w {names}",[g.param("names",m)]);case 1:return g._("Zobacz poprzednie komentarze u\u017cytkownik\u00f3w {names} i 1 innego",[g.param("names",m)]);default:return g._({"*":"Zobacz poprzednie komentarze u\u017cytkownik\u00f3w {names} i {othersCount} innych"},[g.param("names",m),g.param("othersCount",o,[0,n])]);}break;default:return null;}},_getQuestionLabel:function(k,l){var m;switch(k){case j.VIEW_ONE:return g._("Zobacz pytanie");case j.VIEW_ONE_MORE:return g._("Zobacz jeszcze 1 pytanie");case j.VIEW_ALL:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Wy\u015bwietl wszystkich {count} pyta\u0144","268435456":"Wy\u015bwietl {count} pytanie","536870912":"Wy\u015bwietl wszystkie {count} pytania"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE_EXPLICIT:m=i.formatIntegerWithDelimiter(l.count,l.delimiter);return g._({"*":"Poka\u017c {count} pyta\u0144 wi\u0119cej","268435456":"Poka\u017c {count} pytanie wi\u0119cej","536870912":"Poka\u017c {count} pytania wi\u0119cej"},[g.param("count",m,[0,l.count])]);case j.VIEW_MORE:return g._("Wy\u015bwietl wi\u0119cej pyta\u0144");case j.VIEW_PREVIOUS:return g._("Wy\u015bwietl poprzednie pytania");default:return null;}},getLabel:function(k,l,m,n){if(l){return j._getReplyLabel(k,n);}else if(m){return j._getQuestionLabel(k,n);}else return j._getCommentLabel(k,n);}};e.exports=j;},null);
__d("UFIReplySocialSentence.react",["Badge.react","LiveTimer","React","Timestamp.react","UFIClassNames","UFIConstants","UFIImageBlock.react","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q=i,r=q.PropTypes,s=' \u00b7 ',t=43200,u=i.createClass({displayName:"UFIReplySocialSentence",propTypes:{author:r.object,'data-ft':r.string,isExpanded:r.bool,isFirstComponent:r.bool,isLastComponent:r.bool,isLoading:r.bool,onClick:r.func,orderingMode:r.string,replies:r.number,shortenTimestamp:r.bool,showVerified:r.bool,timestamp:r.object},render:function(){var v=((this.props.isLoading?"UFIReplySocialSentenceLoading":'')),w=o(k.ROW,(("UFIReplySocialSentenceRow")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),x,y;if(this.props.isExpanded){x=this.props.replies>1?p._({"*":"Ukryj {count} odpowiedzi"},[p.param("count",this.props.replies,[0])]):p._("Ukryj 1 odpowied\u017a");}else{x=this.props.replies>1?p._({"*":"{count} odpowiedzi"},[p.param("count",this.props.replies,[0])]):p._("1 odpowied\u017a");if(this.props.timestamp){var z=h.getApproximateServerTime()/1000-this.props.timestamp.time;if(z<t||this.props.orderingMode==l.UFICommentOrderingMode.RECENT_ACTIVITY)y=i.createElement("span",{className:"fcg"},s,i.createElement(j,{shorten:this.props.shortenTimestamp,time:this.props.timestamp.time,text:this.props.timestamp.text,verbose:this.props.timestamp.verbose}));}}var aa=this.props.author,ba=aa&&!this.props.isExpanded,ca=null,da;if(ba){ca=i.createElement("img",{alt:"",src:aa.thumbSrc,className:k.ACTOR_IMAGE});var ea=null;if(this.props.showVerified)ea=i.createElement(g,{size:"xsmall",type:"verified"});da=[p._("Odpowied\u017a od: {author}{verified_badge}",[p.param("author",aa.name),p.param("verified_badge",ea)]),s,x];}else da=x;var fa=null,ga=false;if(!ba||this.props.contextArgs.feedcarded){if(ba)ga=true;fa=i.createElement("i",{className:((!this.props.isExpanded?"UFIPagerIcon":'')+(this.props.isExpanded?' '+"UFICollapseIcon":'')+(ga?' '+"UFIFeedCardedIconWithActor":''))});}return (i.createElement("li",{className:w,"data-ft":this.props['data-ft']},i.createElement("a",{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},i.createElement(m,null,i.createElement("div",{className:((ba?"UFIReplyActorPhotoWrapper":'')+(ga?' '+"UFIFeedCardedReplyActor":''))},fa,ca),i.createElement("span",{className:v},i.createElement("span",{className:(("UFIReplySocialSentenceLinkText")+(this.props.showVerified?' '+"UFIReplySocialSentenceVerified":''))},da),y)))));}});e.exports=u;},null);
__d("UFIShareRow.react",["NumberFormat","React","UFIClassNames","UFIImageBlock.react","URI","cx","joinClasses","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=h,p=o.PropTypes,q=h.createClass({displayName:"UFIShareRow",propTypes:{contextArgs:p.object.isRequired,shareCount:p.number.isRequired,targetID:p.any.isRequired,isFirstComponent:p.bool,isLastComponent:p.bool},render:function(){var r=new k('/ajax/shares/view').setQueryData({target_fbid:this.props.targetID}),s=new k('/shares/view').setSubdomain('www').setQueryData({id:this.props.targetID}),t;if(this.props.shareCount>1){var u=g.formatIntegerWithDelimiter(this.props.shareCount,this.props.contextArgs.numberdelimiter||',');t=n._({"*":"{count} ponownych udost\u0119pnie\u0144","268435456":"{count} ponowne udost\u0119pnienie","536870912":"{count} ponowne udost\u0119pnienia"},[n.param("count",u,[0,this.props.shareCount])]);}else t=n._("1 udost\u0119pnienie");var v=m(i.ROW,(("UFIShareRow")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),w=h.createElement("a",{className:"UFIShareLink",rel:"dialog",ajaxify:r.toString(),href:s.toString()},t),x=h.createElement(j,null,h.createElement("a",{className:"UFIShareIcon",rel:"dialog",ajaxify:r.toString(),href:s.toString()}),w),y=this.props.contextArgs.ufiexperiments||{};return (h.createElement("li",{className:v},y.showRevisedUFI||y.showSlimUFI?w:x));}});e.exports=q;},null);
__d("UFISpamPlaceholder.react",["React","UFIClassNames","XUISpinner.react","fbt"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"UFISpamPlaceholder",propTypes:{numHidden:l.number.isRequired,isLoading:l.bool,onClick:l.func},render:function(){if(this.props.isLoading)return (g.createElement("li",{className:h.ROW},g.createElement("span",{className:"UFISpamCommentWrapper"},g.createElement(i,{className:"mls",background:"light",size:"small"}))));return (g.createElement("li",{className:h.ROW},g.createElement("a",{href:"#",role:"button",className:"UFISpamCommentLink",onClick:this.props.onClick,"aria-label":j._("Poka\u017c komentarze oznaczone jako spam")},g.createElement("span",{"data-hover":"tooltip","data-tooltip-alignh":"center","aria-label":j._({"*":"{count} ukrytych","268435456":"{count} ukryty","536870912":"{count} ukryte"},[j.param("count",this.props.numHidden,[0])]),className:"UFISpamCommentWrapper"},g.createElement("i",{className:"placeholderIcon"})))));}});e.exports=m;},null);
__d("UFI.react",["BootloadedComponent.react","Bootloader","CommentPrelude","DOMScroll","Event","LogHistory","NumberFormat","React","ReactFragment","ScrollableArea.react","ScrollAwareDOM","SearchableEntry","ShareNowConstants","TrackingNodes","UFIAddCommentController","UFIAddCommentLink.react","UFIComment.react","UFICommentOrdering","UFIConstants","UFIContainer.react","UFIInlineShareConfirmation.react","UFIInstanceState","UFILikeSentence.react","UFIPager.react","UFIPagerLabel","UFIReplySocialSentence.react","UFIShareRow.react","UFISpamPlaceholder.react","URI","Vector","XUISpinner.react","copyProperties","cx","getUnboundedScrollPosition","isEmpty","focusWithinLayer","throttle","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra){b.__markCompiled&&b.__markCompiled();'use strict';var sa={TOP:'top',BOTTOM:'bottom',ALL:'all'},ta=n.createClass({displayName:"UFI",getInitialState:function(){return {repliesExpandedMap:this.props.initialRepliesExpandMap?this.props.initialRepliesExpandMap:{},loadingSpamIDs:{},isActiveLoading:{},commentIDToFocusOnMount:null,replyComposerIDToFocusOnMount:null,hasPagedToplevel:false,hasMainComposerView:!this.props.feedback.permalinkcommentid||!this.props.contextArgs.usehidemaincomposerpermalink,shouldFocusOnTopLevelComposer:false};},getDefaultProps:function(){return {inlineShare:{}};},componentDidMount:function(){this.suppressScrolls=0;this.scrollSubscription=q.subscribe('scroll',function(){if(this.suppressScrolls>0){this.suppressScrolls--;return false;}return true;}.bind(this));if(this.props.feedback.isqanda&&this.props.feedback.infinitescroll){var ua=qa(this.loadMoreComments,20);this._scrollEventListener=k.listen(window,'scroll',ua);this._resizeEventListener=k.listen(window,'resize',ua);}var va='replycomposer-'+this.props.feedback.permalinkcommentid;if(this.refs&&va in this.refs)this.refs[va].focus();},componentWillUnmount:function(){if(this.scrollSubscription){q.unsubscribe(this.scrollSubscription);this.scrollSubscription=null;}if(this._scrollEventListener)this._scrollEventListener.remove();if(this._resizeEventListener)this._resizeEventListener.remove();},componentWillReceiveProps:function(ua){var va=la({},this.state.isActiveLoading),wa;for(wa in this.state.isActiveLoading){var xa=this.props.ranges[this.props.id],ya=ua.ranges[this.props.id];if(xa.getOffset()!=ya.getOffset()||xa.getLength()!=ya.getLength()){var za=(ya.getOffset()<xa.getOffset())?0:xa.getLength();if(za<ua.availableComments.length)this.setState({commentIDToFocusOnMount:ua.availableComments[za].id});}delete va[wa];}this.setState({isActiveLoading:va});},componentDidUpdate:function(ua,va,wa){if(this.props.inlineShare.toggling){var xa=!ua.inlineShare.active&&!this.props.inlineShare.active;i.click(n.findDOMNode(this),xa);var ya=this.props.inlineShare.active;if(ya){var za=!ua.inlineShare.loaded;setTimeout(function(){return this._focusInlineShare({shouldHighlight:za});}.bind(this),10);}ba.updateStateField(this.props.instanceid,'inlineShare','toggling',false);}var ab=this.state.replyComposerIDToFocusOnMount;if(this.refs&&ab in this.refs){this.refs[ab].focus();this.setState({replyComposerIDToFocusOnMount:null});}if(this.refs&&this.refs.toplevelcomposer&&this.state.shouldFocusOnTopLevelComposer){this.refs.toplevelcomposer.focus();this.setState({shouldFocusOnTopLevelComposer:false});}},componentWillUpdate:function(ua,va,wa){var xa,ya;for(xa in this.state.isActiveLoading){ya=this.state.isActiveLoading[xa];if(ya!==sa.TOP)this.suppressScrolls++;}},render:function(){var ua=this.props,va=ua.feedback,wa=ua.contextArgs,xa=ua.source!=y.UFIFeedbackSourceType.ADS,ya=null;if(ua.inlineShare.message)ya=n.createElement(aa,n.__spread({},this.props.inlineShare));var za=!ua.hideOrderingModeSelector&&va.orderingmodes&&ua.commentCounts[ua.id]>=y.minCommentsForOrderingModeSelector,ab=(!oa(va.likesentences.current)||(va.seencount>0&&!wa.entstream)||za)&&wa.search!==true&&xa,bb=null;if(ab)bb=n.createElement(ca,{contextArgs:wa,feedback:va,onTargetLikeToggle:ua.onTargetLikeToggle,onOrderingModeChange:ua.onOrderingModeChange,orderingMode:ua.orderingMode,showOrderingModeSelector:za});var cb=null,db=wa.showshares&&va.sharecount&&xa;if(db&&!wa.entstream)cb=n.createElement(ga,{targetID:va.targetfbid,shareCount:va.sharecount,contextArgs:wa});if(ua.loadingComments){var eb=n.createElement("div",{className:"UFICommentsLoadingSpinnerContainer"},n.createElement(ka,{size:"large",className:"UFICommentsLoadingSpinner"}));return (n.createElement(z,{hasNub:wa.shownub&&mb},ya,bb,cb,eb));}var fb=ua.availableComments&&ua.availableComments.length&&xa;wa.hasComments=fb;var gb=null;if(fb)gb=this.renderCommentMap(ua.availableComments,ua.ranges[ua.id].getOffset());var hb=null,ib=va.cancomment,jb=ib&&wa.showaddcomment&&va.actorforpost&&ua.canAddCommentMap[ua.id];if(jb){wa.orderingmodes=va.orderingmodes;var kb=new u(null,ua.id,null,wa);if(this.state.hasMainComposerView){var lb=ua.authorProfiles[va.actorforpost];hb=kb.renderAddComment(lb,va.ownerid,va.mentionsdatasource,va.showsendonentertip,'toplevelcomposer',null,va.subtitle,va.allowphotoattachments,va.allowstickerattachments,va.isqanda);}else hb=n.createElement(v,{onClick:this._showComposer,isQAndA:va.isqanda,ref:"toplevelcomposer"});}var mb=ab||db||fb||ib,nb=ua.hideToplevelPager?{topPager:null,bottomPager:null}:this.renderPagers(ua.id,ua.ranges[ua.id].getOffset(),ua.ranges[ua.id].getLength()),ob=this.applyToUFIComponents([nb.topPager],gb,[nb.bottomPager],{isFirstCommentComponent:true},{isLastCommentComponent:true}),pb=ob[0],qb=pb[0],gb=ob[1],rb=ob[2],sb=rb[0];nb={topPager:qb,bottomPager:sb};var tb=this._hasCommentOrderInverted()?hb:null,ub=this._hasCommentOrderInverted()?null:hb,vb=null;if(jb&&this._hasCommentOrderInverted()&&this.state.hasPagedToplevel)vb=n.createElement(v,{onClick:this.onComment,isQAndA:va.isqanda});var wb=this.applyToUFIComponents([ya,bb,cb,tb,nb.topPager],gb,[nb.bottomPager,ub,vb],{isFirstComponent:true},{isLastComponent:true}),xb=wb[0],ya=xb[0],bb=xb[1],cb=xb[2],tb=xb[3],qb=xb[4],gb=wb[1],yb=wb[2],sb=yb[0],ub=yb[1],vb=yb[2];nb={topPager:qb,bottomPager:sb};var zb=[nb.topPager,gb&&o.create(gb),nb.bottomPager];if(wa.scrollcomments&&wa.scrollwidth)zb=n.createElement("li",null,n.createElement(p,{width:wa.scrollwidth},n.createElement("ul",null,zb)));if(this.props.inlineShare.active){return (n.createElement(z,{hasNub:false},n.createElement(g,n.__spread({bootloadPlaceholder:n.createElement("span",null),bootloadComponent:function(ac){h.loadModules(["ShareDialog.react"],ac);}},this.props.inlineShare.props,{onCancel:function(){return this._resetInlineShare();}.bind(this),onPost:function(ac){h.loadModules(["ShareDialogOsricController"],function(bc){bc.onPost(ac,this._beforePostInlineShare,this._onInlineShareSuccess,this._onInlineShareError);}.bind(this));}.bind(this),ref:"inlineShare",renderInline:true,status:this.props.inlineShare.status}))));}else return (n.createElement(z,{hasNub:wa.shownub&&mb},ya,bb,cb,tb,zb,ub,vb));},_showComposer:function(){this.setState({hasMainComposerView:true,shouldFocusOnTopLevelComposer:true});},applyToUFIComponents:function(ua,va,wa,xa,ya){var za=this._applyToFirstComponent(ua,va,wa,xa,false);ua=za[0],va=za[1],wa=za[2];var ab=this._applyToFirstComponent(wa,va,ua,ya,true);wa=ab[0],va=ab[1],ua=ab[2];return [ua,va,wa];},_applyToFirstComponent:function(ua,va,wa,xa,ya){var za,ab,bb;za=ya?ua.length-1:0;ab=ya?-1:ua.length;for(bb=za;bb!=ab;bb+=ya?-1:1)if(ua[bb]){ua[bb]=n.cloneElement(ua[bb],xa);return [ua,va,wa];}var cb=Object.keys(va||{});za=ya?cb.length-1:0;ab=ya?-1:cb.length;for(bb=za;bb!=ab;bb+=ya?-1:1){var db=cb[bb];if(va[db]&&va[db].props.comment&&this._shouldRenderComment(va[db].props.comment)){va[db]=n.cloneElement(va[db],xa);return [ua,va,wa];}}za=ya?wa.length-1:0;ab=ya?-1:wa.length;for(bb=za;bb!=ab;bb+=ya?-1:1)if(wa[bb]){wa[bb]=n.cloneElement(wa[bb],xa);return [ua,va,wa];}return [ua,va,wa];},_focusInlineShare:function(ua){ua=ua||{};var va=n.findDOMNode(this.refs.inlineShare);pa(va);if(!this.props.contextArgs.ufiexperiments.inlineShareHighlight)return;j.ensureVisible(va);if(ua.shouldHighlight)h.loadModules(["highlight","CSS","cx"],function(wa,xa,ya){xa.addClass(va,"_5p5");var za=function(){xa.removeClass(va,"_5p5");};wa(va,za,'#f6f7f8');});},_shouldRenderComment:function(ua){return ua.status!==y.UFIStatus.DELETED;},renderCommentMap:function(ua,va){var wa=this.props,xa={},ya=ua.length;if(!ya)return xa;var za=ua[0].parentcommentid,ab=[],bb=function(){if(ab.length>0){var nb=function(ob,pb){this.state.loadingSpamIDs[ob[0]]=true;this.forceUpdate();wa.onSpamFetch(ob,pb);}.bind(this,ab,za);xa['spam'+ab[0]]=n.createElement(ha,{onClick:nb,numHidden:ab.length,isLoading:!!this.state.loadingSpamIDs[ab[0]]});ab=[];}}.bind(this),cb=wa.instanceid,db=ba.getKeyForInstance(cb,'editcommentid'),eb=!!ua[0].parentcommentid;for(var fb=0;fb<ya;fb++)if(ua[fb].status==y.UFIStatus.SPAM){ab.push(ua[fb].id);}else{bb();var gb=Math.max(wa.loggingOffset-fb-va,0),hb=ua[fb],ib;if(hb.id==db){ib=this.renderEditCommentBox(hb);}else{var jb=fb===0,kb=fb===ya-1,lb=!eb,mb=eb&&!jb;ib=this.renderComment(hb,gb,jb,kb,lb,mb);}xa['comment'+hb.id]=ib;if(hb.status!==y.UFIStatus.DELETED)xa['replies'+hb.id]=this.renderReplyContainer(hb);}bb();return xa;},renderReplyContainer:function(ua){var va=this.props,wa=va.commentCounts[ua.id],xa=this.state.repliesExpandedMap[ua.id],ya=!xa&&ua.interestingReplyId,za,ab;if(xa||ua.interestingReplyId){za=va.repliesMap[ua.id];ab=va.ranges[ua.id].getOffset();if(ya){var bb=za.filter(function(wb){return wb.id===ua.interestingReplyId;});if(bb.length!==1){l.getInstance('ufi').error('comment '+ua.id+' claims to have an interesting reply, '+'but there is not exactly 1 comment with that id in the reply '+'list.');za=null;}else{za=bb;ab=ua.interestingReplyOffset;}}}var cb,db,eb;if(za){var fb=va.ranges[ua.id].getOffset(),gb=va.ranges[ua.id].getLength();if(ya){fb=ab;gb=1;}var hb=this.renderPagers(ua.id,fb,gb);cb=hb.topPager;db=hb.bottomPager;eb=this.renderCommentMap(za,ab);}var ib=Math.max(wa-ua.spamreplycount,0),jb;if(ib&&((xa&&za&&za.length>this.props.replySocialSentenceMaxReplies)||(!xa&&!za))){var kb=xa&&!cb&&(this.isLoadingPrev(ua.id)||this.isLoadingNext(ua.id)),lb=null;if(ua.replyauthors&&ua.replyauthors.length)lb=va.authorProfiles[ua.replyauthors[0]];jb=n.createElement(fa,{contextArgs:va.contextArgs,author:lb,replies:xa?za.length:ib,shortenTimestamp:va.shortenTimestamp,timestamp:ua.recentreplytimestamp,onClick:this.onToggleReplies.bind(this,ua.id),isLoading:kb,isExpanded:xa,showVerified:this.props.feedback.showfeaturedreplies,orderingMode:this.props.orderingMode});}var mb;if(xa)if(ua.cancomment&&va.canAddCommentMap[ua.id]){var nb=false,ob=Object.keys(eb);for(var pb=ob.length-1;pb>=0;pb--){var qb=ob[pb];if(qb&&eb[qb]){nb=eb[qb].props.isAuthorReply;break;}}mb=this.renderReplyComposer(ua,!nb);}var rb;if(jb||cb||eb||db||mb){var sb=this.applyToUFIComponents([jb,cb],eb,[db,mb],{isFirstComponent:true},{isLastComponent:true}),tb=sb[0],jb=tb[0],cb=tb[1],eb=sb[1],ub=sb[2],db=ub[0],mb=ub[1],vb=ua.status===y.UFIStatus.LIVE_DELETED;rb=n.createElement(z,{isParentLiveDeleted:vb,isReplyList:true},jb,cb,eb&&o.create(eb),db,mb);}return rb;},renderReplyComposer:function(ua,va){var wa=this.props;return (new u(null,wa.id,ua.id,wa.contextArgs)).renderAddComment(wa.authorProfiles[wa.feedback.actorforpost],wa.feedback.ownerid,wa.feedback.mentionsdatasource,false,'replycomposer-'+ua.id,va,wa.feedback.subtitle,wa.feedback.allowphotoattachments,wa.feedback.allowstickerattachments,wa.feedback.isqanda);},renderEditCommentBox:function(ua){var va=new u(null,this.props.id,null,{mentionsinput:this.props.contextArgs.mentionsinput}),wa=va.renderEditComment(this.props.authorProfiles[this.props.feedback.actorforpost],this.props.feedback.ownerid,ua.id,this.props.feedback.mentionsdatasource,this.props.onEditAttempt.bind(null,ua),this.props.onCancelEdit,this.props.feedback.allowphotoattachments,this.props.feedback.allowstickerattachments,this.props.feedback.isqanda);return wa;},renderComment:function(ua,va,wa,xa,ya,za){var ab=this.props,bb=ab.feedback,cb=bb.actorforpost===ua.author,db=ba.getKeyForInstance(this.props.instanceid,'locallycomposed'),eb=ua.islocal||db&&db[ua.id],fb=bb.showremovemenu||(bb.viewerid===ua.author),gb=bb.canremoveall&&bb.isownerpage&&!cb,hb=ab.source!=y.UFIFeedbackSourceType.INTERN,ib=t.getTrackingInfo(t.types.COMMENT,va),jb=!!ua.parentcommentid,kb=!!ua.isfeatured;switch(this.props.source){case y.UFIFeedbackSourceType.TOPIC_CONVERSATION:return (n.createElement(g,{bootloadPlaceholder:n.createElement("span",null),bootloadComponent:function(mb){h.loadModules(["UFITopicConversationComment.react"],mb);},isFirst:wa,isLast:xa,comment:ua,authorProfiles:this.props.authorProfiles,viewerIsAuthor:cb,feedback:bb,contextArgs:this.props.contextArgs,focusOnMount:ua.id===this.state.commentIDToFocusOnMount,isLocallyComposed:eb}));default:var lb=new ia(ab.commentPermalinks[ua.id]).addQueryData({comment_tracking:ib}).toString();return (n.createElement(w,{isFirst:wa,isLast:xa,showReplyLink:ya,hasPartialBorder:za,comment:ua,authorProfiles:this.props.authorProfiles,viewerIsAuthor:cb,feedback:bb,"data-ft":ib,contextArgs:this.props.contextArgs,hideAsSpamForPageAdmin:gb,isLocallyComposed:eb,isReply:jb,isFeatured:kb,permalink:lb,shortenTimestamp:ab.shortenTimestamp,showPermalink:hb,showRemoveReportMenu:fb,focusOnMount:ua.id===this.state.commentIDToFocusOnMount,onCommentLikeToggle:ab.onCommentLikeToggle.bind(null,ua),onCommentReply:this.onCommentReply.bind(this,ua),onCommentTranslate:ab.onCommentTranslate.bind(null,ua),onEdit:ab.onCommentEdit.bind(null,ua),onHideAsSpam:ab.onCommentHideAsSpam.bind(null,ua),onInlineBan:ab.onCommentInlineBan.bind(null,ua),onMarkAsNotSpam:ab.onCommentMarkAsNotSpam.bind(null,ua),onPreviewRemove:ab.onPreviewRemove.bind(null,ua),onRemove:ab.onCommentRemove.bind(null,ua),onRetrySubmit:ab.onRetrySubmit.bind(null,ua),onUndoInlineBan:ab.onCommentUndoInlineBan.bind(null,ua)}));}},_toggleReplyExpandedState:function(ua){var va=this.state.repliesExpandedMap[ua],wa=this.state.repliesExpandedMap;wa[ua]=!va;this.setState({repliesExpandedMap:wa,replyComposerIDToFocusOnMount:!va?'replycomposer-'+ua:null});},onToggleReplies:function(ua){this._toggleReplyExpandedState(ua);var va=this.state.repliesExpandedMap[ua],wa=this.props.ranges[ua].getRequestedLength();wa-=this.props.deletedCounts[ua];if(va&&wa===0){var xa=this.props.commentCounts[ua],ya=Math.min(xa,this.props.pageSize),za=xa-ya;this.onPage(ua,sa.BOTTOM,{offset:za,length:ya});}},onPage:function(ua,va,wa){var xa=this.state.hasPagedToplevel||ua===this.props.id;if(ua!==this.props.id&&!this.state.repliesExpandedMap[ua]){var ya=this.state.repliesExpandedMap;ya[ua]=true;this.setState({repliesExpandedMap:ya});}var za=la({},this.state.isActiveLoading);za[ua]=va;this.setState({isActiveLoading:za,hasPagedToplevel:xa});this.props.onChangeRange(ua,wa);},isLoadingPrev:function(ua){var va=this.props;ua=ua||va.id;var wa=va.ranges[ua].getRequestedOffset(),xa=va.ranges[ua].getOffset();return wa<xa;},isLoadingNext:function(ua){var va=this.props;ua=ua||va.id;var wa=va.ranges[ua].getRequestedOffset(),xa=va.ranges[ua].getRequestedLength(),ya=va.ranges[ua].getOffset(),za=va.ranges[ua].getLength();return wa+xa>ya+za;},renderPagers:function(ua,va,wa){var xa=this.props,ya=xa.deletedCounts[ua],za=xa.commentCounts[ua],ab=za-ya,bb=wa-ya,cb=xa.contextArgs.numberdelimiter||',',db=ua!==xa.id,eb,fb={topPager:null,bottomPager:null};if(xa.source==y.UFIFeedbackSourceType.ADS)return fb;var gb=this.isLoadingPrev(ua),hb=this.isLoadingNext(ua);if(wa==za)return fb;var ib={delimiter:cb},jb=xa.feedback.commentsentenceinfo;if(jb){ib.commenters=jb.explicit_commenter_names;ib.othersCount=jb.other_commenter_count;}var kb=(va+wa)==za;if((za<xa.pageSize&&kb)||bb===0){eb=Math.min(za,xa.pageSize);var lb=this.onPage.bind(this,ua,this._hasCommentOrderInverted()&&!db?sa.BOTTOM:sa.TOP,{offset:za-eb,length:eb}),mb;if(bb===0){if(ab==1){mb=ea.VIEW_ONE;}else{ib.count=ab;mb=ea.VIEW_ALL;}}else if(ab-bb==1){mb=ea.VIEW_ONE_MORE;}else{mb=ea.VIEW_MORE_EXPLICIT;ib.count=ab-bb;}var nb=t.getTrackingInfo(t.types.VIEW_ALL_COMMENTS),ob=ea.getLabel(mb,db,xa.feedback.isqanda,ib),pb=this._hasCommentOrderInverted()&&!db,qb=n.createElement(da,{key:"allPager"+ua,ref:pb?"topLevelBottomPager":null,contextArgs:xa.contextArgs,isUnseen:xa.feedback.hasunseencollapsed,isLoading:gb,pagerLabel:ob,onPagerClick:lb,"data-ft":nb});if(pb){fb.bottomPager=qb;}else fb.topPager=qb;return fb;}var rb=ea.getLabel(ea.VIEW_MORE,db,xa.feedback.isqanda,ib),sb=ea.getLabel(ea.VIEW_PREVIOUS,db,xa.feedback.isqanda,ib);if(va>0){var tb=Math.max(va-xa.pageSize,0);eb=va+wa-tb;var ub;if(!db||bb>1){var vb=m.formatIntegerWithDelimiter(bb,cb),wb=m.formatIntegerWithDelimiter(ab,cb);ub=ra._("{countshown} na {totalcount}",[ra.param("countshown",vb),ra.param("totalcount",wb)]);}var xb;if(this._hasCommentOrderInverted()&&!db){xb=this.onPage.bind(this,ua,sa.BOTTOM,{offset:tb,length:eb});fb.bottomPager=n.createElement(da,{key:"bottomPager"+ua,ref:!db?"topLevelBottomPager":null,contextArgs:xa.contextArgs,isLoading:gb,pagerLabel:rb,onPagerClick:xb,countSentence:ub});}else{xb=this.onPage.bind(this,ua,sa.TOP,{offset:tb,length:eb});fb.topPager=n.createElement(da,{key:"topPager"+ua,contextArgs:xa.contextArgs,isLoading:gb,pagerLabel:sb,onPagerClick:xb,countSentence:ub});}}if(va+wa<za){eb=Math.min(wa+xa.pageSize,za-va);var yb;if(this._hasCommentOrderInverted()&&!db){yb=this.onPage.bind(this,ua,sa.TOP,{offset:va,length:eb});fb.topPager=n.createElement(da,{key:"topPager"+ua,contextArgs:xa.contextArgs,isLoading:hb,pagerLabel:sb,onPagerClick:yb});}else{yb=this.onPage.bind(this,ua,sa.BOTTOM,{offset:va,length:eb});fb.bottomPager=n.createElement(da,{key:"bottomPager",ref:!db?"topLevelBottomPager":null,contextArgs:xa.contextArgs,isLoading:hb,pagerLabel:rb,onPagerClick:yb});}}return fb;},loadMoreComments:function(){if(this.scrollSubscription&&this.refs.topLevelBottomPager&&!(this.props.id in this.state.isActiveLoading)){var ua=n.findDOMNode(this.refs.topLevelBottomPager),va=na(window).y,wa=va+document.documentElement.clientHeight+y.infiniteScrollRangeForQANDAPermalinks;if(ua.offsetHeight&&ua.offsetTop<wa)this.refs.topLevelBottomPager.props.onPagerClick();}},_scrollToAddComment:function(){if(this.refs.toplevelcomposer){var ua=n.findDOMNode(this.refs.toplevelcomposer),va=80,wa=ua.getBoundingClientRect().top;if(wa<va||wa>ja.getViewportDimensions().y-va)j.scrollTo(ua,true,false,va);}},onCommentReply:function(ua){var va=ua.parentcommentid||ua.id;if(this.props.feedback.isthreaded&&ua.cancomment){if(!this.state.repliesExpandedMap[va]){this.onToggleReplies(ua.id);}else if(this.refs&&this.refs['replycomposer-'+va])this.refs['replycomposer-'+va].focus();}else if(this.props.contextArgs.simplereply&&ua.author&&this.refs.toplevelcomposer&&this.refs.toplevelcomposer.insertMention){var wa=this.props.authorProfiles[ua.author].type,xa=new r({uniqueID:ua.author,title:this.props.authorProfiles[ua.author].name,type:wa==='friend'?'user':wa});this.refs.toplevelcomposer.insertMention(xa);this._scrollToAddComment();}},onComment:function(){if(!this.state.hasMainComposerView)this._showComposer();if(this.refs&&this.refs.toplevelcomposer){var ua=n.findDOMNode(this.refs.toplevelcomposer);this.setState({shouldFocusOnTopLevelComposer:true});var va=60;if(ua.getBoundingClientRect().top<va)j.scrollTo(ua,true,true);}},_beforePostInlineShare:function(){ba.updateStateField(this.props.instanceid,'inlineShare','status',{type:'posting'});},_onInlineShareSuccess:function(ua){var va=ua.payload.message||s.success;this._resetInlineShare({message:va,isError:false});},_onInlineShareError:function(ua){var va=ua.errorDescription||s.error;this._resetInlineShare({message:va,isError:true});},_resetInlineShare:function(ua){ba.updateState(this.props.instanceid,'inlineShare',ua||{});},_hasCommentOrderInverted:function(){return x.inverted(this.props.orderingMode);}});e.exports=ta;},null);
__d("UFIFeaturedReplyCommentList",["UFIReplyCommentList"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;j.getCommentList=function(k,l){};function j(k,l,m,n){g.call(this,k,l);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){q[r.id]=r;});m.forEach(function(r){this.addOrUpdateComment(q[r]);}.bind(this));}j.prototype.fetchComments=function(k,l,m){};e.exports=j;},null);
__d("UFIFeaturedToplevelCommentList",["UFIConstants","UFIToplevelCommentList"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;k.getCommentList=function(l,m){};k.getCommentListsForFeedbackTargetID=function(l){};k.getCommentListForFeedbackTargetID_UNSAFE=function(l){};k.resetCommentListsForFeedbackTargetID=function(l){};function k(l,m,n){h.call(this,l,g.UFICommentOrderingMode.FEATURED);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){q[r.id]=r;});m.forEach(function(r){this.addOrUpdateComment(q[r]);}.bind(this));}k.prototype.fetchComments=function(l,m,n){};e.exports=k;},null);
__d("UFIRange",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';function g(h,i){this.offset=h||0;this.length=i||0;this.requestedOffset=this.offset;this.requestedLength=this.length;}g.prototype.getOffset=function(){return this.offset;};g.prototype.getLength=function(){return this.length;};g.prototype.updateRange=function(h,i){this.offset=h;this.length=i;if(this.requestedLength>0){var j=Math.min(this.offset,this.requestedOffset),k=Math.max(this.offset+this.length,this.requestedOffset+this.requestedLength);this.requestedOffset=j;this.requestedLength=k-j;}else{this.requestedOffset=this.offset;this.requestedLength=this.length;}};g.prototype.getRequestedOffset=function(){return this.requestedOffset;};g.prototype.getRequestedLength=function(){return this.requestedLength;};g.prototype.updateRequestedRange=function(h,i){this.requestedOffset=h;this.requestedLength=i;};e.exports=g;},null);
__d("UFIRetryActions",["JSLogger","UFICentralUpdates","UFIConstants","UFIUserActions"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g.create('UFIRetryActions');function l(o,p){var q={actiontype:i.UFIActionType.DELETE_COMMENT,commentid:o.id};h.handleUpdate(i.UFIPayloadSourceType.USER_ACTION,{actions:[q]});var r=o.body.text,s=o.body.mentionstext;p.replyid=o.parentcommentid;p.attachedphoto=o.body.mentionsphoto;j.addComment(o.ftentidentifier,r,s,p);}function m(o,p){var q=o.body.text,r=o.body.mentionstext;p.attachedPhoto=o.body.mentionsphoto;p.attachedSticker=o.attachment;j.editComment(o.id,q,r,p);}var n={retrySubmit:function(o,p){switch(o.status){case i.UFIStatus.FAILED_ADD:l(o,p);break;case i.UFIStatus.FAILED_EDIT:m(o,p);break;default:k.error('retrysubmitstatus',{status:o.status});break;}}};e.exports=n;},null);
__d("onEnclosingPageletDestroy",["Arbiter","DOMQuery"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j,k){var l=g.subscribe('pagelet/destroy',function(m,n){if(h.contains(n.root,j)){l.unsubscribe();k();}});return l;}e.exports=i;},null);
__d("UFIController",["Arbiter","Bootloader","CSS","DOM","LayerRemoveOnHide","LiveTimer","PageAdminSignatureSettings","Parent","React","ReactMount","ShortProfiles","UFI.react","UFIActionLinkController","UFICentralUpdates","UFIFeaturedReplyCommentList","UFIFeaturedToplevelCommentList","UFICommentTemplates","UFIConstants","UFIFeedbackTargets","UFIInstanceState","UFIRange","UFIReplyCommentList","UFIRetryActions","UFIToplevelCommentList","UFIUserActions","URI","isEmpty","onEnclosingPageletDestroy","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia){b.__markCompiled&&b.__markCompiled();'use strict';var ja=function(na,oa,pa,qa,ra){var sa=na+oa===pa;return {offset:na,length:(sa&&ka(ra))?qa-na:oa};},ka=function(na){return na==x.UFIPayloadSourceType.USER_ACTION||na==x.UFIPayloadSourceType.LIVE_SEND;},la=function(na,oa){for(var pa=0;pa<oa.length;pa++){var qa=oa[pa];if(qa.author)na.push(qa.author);if(qa.socialcontext)na.push(qa.socialcontext.topmutualid);if(qa.replyauthors&&qa.replyauthors.length)for(var ra=0;ra<qa.replyauthors.length;ra++)na.push(qa.replyauthors[ra]);}};function ma(na,oa,pa){this.root=na;this.id=oa.ftentidentifier;this.source=oa.source;this.$UFIController0=oa.instanceid;this.featuredToplevelCommentList=null;this.featuredReplyCommentLists={};this.$UFIController1=oa;this.$UFIController1.rootid=this.root.id;this.$UFIController1.pagesAdminSignatureSettings=new m(this.$UFIController1.initAdminSignatureContext);this.$UFIController2=false;var qa=pa.feedbacktargets[0];this.actionLink=new s(na,this.$UFIController1,qa,this.$UFIController0);this.orderingMode=qa.defaultcommentorderingmode;var ra=null;if(pa.featuredcommentlists&&pa.featuredcommentlists.comments&&pa.featuredcommentlists.comments[this.id]){ra=pa.featuredcommentlists.comments[this.id];this.featuredToplevelCommentList=new v(this.id,ra.values,pa.comments);}else ra=pa.commentlists.comments[this.id][this.orderingMode];this.ranges={};this.replyRanges={};this.repliesMap={};this.shortenTimestamp=oa.shortenTimestamp;this.commentcounts={};this.commentcounts[this.id]=this.getToplevelCommentList().getCommentCount();var sa=qa.orderingmodes||[{value:this.orderingMode}];sa.forEach(function(wa){this.ranges[wa.value]=new aa(ra.range.offset,ra.range.length);}.bind(this));var ta,ua,va;if(pa.commentlists.replies)for(ta=0;ta<ra.values.length;ta++){ua=ra.values[ta];va=pa.commentlists.replies[ua];if(va){this.commentcounts[ua]=this.getReplyCommentList(ua).getCommentCount();this.getReplyRange(ua).updateRange(va.range.offset,va.range.length);}}if(pa.featuredcommentlists)if(pa.featuredcommentlists.replies)for(ta=0;ta<ra.values.length;ta++){ua=ra.values[ta];va=pa.featuredcommentlists.replies[ua];if(va){this.featuredReplyCommentLists[ua]=new u(this.id,ua,va.values,pa.comments);this.commentcounts[ua]=this.getReplyCommentList(ua).getCommentCount();this.getReplyRange(ua).updateRange(va.range.offset,va.range.length);}}this.$UFIController3=null;this.$UFIController4=null;this.ufiCentralUpdatesSubscriptions=[t.subscribe('feedback-updated',function(wa,xa){var ya=xa.updates,za=xa.payloadSource;if(za!=x.UFIPayloadSourceType.COLLAPSED_UFI&&this.id in ya)this.fetchAndUpdate(this.render.bind(this),za);}.bind(this)),t.subscribe('feedback-id-changed',function(wa,xa){var ya=xa.updates;if(this.id in ya)this.id=ya[this.id];}.bind(this)),t.subscribe('instance-updated',function(wa,xa){var ya=xa.updates;if(this.$UFIController0 in ya){var za=ya[this.$UFIController0];if(za.editcommentid||za.inlineShare)this.render(xa.payloadSource);}}.bind(this))];this.clearPageletSubscription=ha(this.root,this.$UFIController6.bind(this));this.clearPageSubscription=g.subscribe('ufi/page_cleared',this.$UFIController7.bind(this));t.handleUpdate(x.UFIPayloadSourceType.INITIAL_SERVER,pa);if(this.$UFIController1.viewas)this.viewasUFICleanSubscription=g.subscribe('pre_page_transition',function(wa,xa){if(this.$UFIController1.viewas!==new fa(xa.to).getQueryData('viewas'))da.resetCommentListsForFeedbackTargetID(this.id);}.bind(this));h.loadModules(["ScrollAwareDOM"],function(wa){p.scrollMonitor=wa.monitor;});g.inform('notifStory/ufiLoaded');}ma.prototype.$UFIController8=function(){if(!this.$UFIController9)this.$UFIController9=n.byTag(this.root,'form');return this.$UFIController9;};ma.prototype.$UFIControllera=function(event){var na=!this.feedback.hasviewerliked;ea.changeLike(this.id,na,{source:this.source,target:event.target,rootid:this.$UFIController1.rootid});event.preventDefault();};ma.prototype.$UFIControllerb=function(na,event){var oa=!na.hasviewerliked;ea.changeCommentLike(na.id,oa,{source:this.source,target:event.target});};ma.prototype.$UFIControllerc=function(na){z.updateState(this.$UFIController0,'isediting',true);z.updateState(this.$UFIController0,'editcommentid',na.id);};ma.prototype.$UFIControllerd=function(na,oa,event){if(!oa.visibleValue&&!oa.attachedPhoto&&!oa.attachedSticker){this.$UFIControllere(na,event);}else ea.editComment(na.id,oa.visibleValue,oa.encodedValue,{source:this.$UFIController1.source,target:event.target,attachedPhoto:oa.attachedPhoto,attachedSticker:oa.attachedSticker});z.updateStateField(this.$UFIController0,'locallycomposed',na.id,true);this.$UFIControllerf();};ma.prototype.$UFIControllerf=function(){z.updateState(this.$UFIController0,'isediting',false);z.updateState(this.$UFIController0,'editcommentid',null);};ma.prototype.$UFIControllere=function(na,event,oa){this.$UFIControllerg(na,false,event,oa);};ma.prototype.$UFIControllerg=function(na,oa,event,pa){var qa=w[':fb:ufi:hide-dialog-template'].build();j.setContent(qa.getNode('body'),ia._("Czy na pewno chcesz usun\u0105\u0107 ten komentarz?"));j.setContent(qa.getNode('title'),ia._("Usu\u0144 komentarz"));h.loadModules(["DialogX"],function(ra){var sa=new ra({modal:true,width:465,addedBehaviors:[k]},qa.getRoot());sa.subscribe('confirm',function(){ea.removeComment(na.id,{source:this.source,oneclick:oa,target:event.target,timelinelogdata:this.$UFIController1.timelinelogdata});if(pa)pa.setState({isInlinePageDeleted:true});sa.hide();}.bind(this));sa.show();}.bind(this));};ma.prototype.$UFIControllerh=function(na,event){ea.setHideAsSpam(na.id,true,{source:this.source,target:event.target});};ma.prototype.$UFIControlleri=function(na,event){ea.setHideAsSpam(na.id,false,{source:this.source,target:event.target});};ma.prototype.$UFIControllerj=function(na,event){ea.translateComment(na,{source:this.source,target:event.target});};ma.prototype.$UFIControllerk=function(na,oa,event){ea.banUser(na,this.feedback.ownerid,oa,{source:this.source,target:event.target});};ma.prototype.$UFIControllerl=function(na,event){this.$UFIControllerk(na,true,event);};ma.prototype.$UFIControllerm=function(na,event){this.$UFIControllerk(na,false,event);};ma.prototype.$UFIControllern=function(na,oa){ea.fetchSpamComments(this.id,na,oa,this.$UFIController1.viewas);};ma.prototype.$UFIControllero=function(na,event){ea.removePreview(na,{source:this.source,target:event.target});};ma.prototype.$UFIControllerp=function(na){ca.retrySubmit(na,{source:this.source});};ma.prototype.$UFIControllerq=function(){if(this.$UFIController2)return;var na=n.byTag(this.root,'form');if(na){i.removeClass(na,'collapsed_comments');this.$UFIController2=true;}};ma.prototype.setRange=function(na){this.getRange().updateRange(na.offset,na.length);};ma.prototype.setReplyRange=function(na,oa){this.getReplyRange(na).updateRange(oa.offset,oa.length);};ma.prototype.render=function(na){var oa=z.getKeyForInstance(this.$UFIController0,'inlineShare'),pa=this.comments.length||!ga(this.feedback.likesentences.current);if(pa&&ka(na))this.$UFIControllerq();var qa=this.getRange();if(this.$UFIController3===null)this.$UFIController3=qa.getOffset()+qa.getLength()-1;var ra=this.feedback.replysocialsentencemaxreplies||-1,sa={};sa[this.id]=this.getToplevelCommentList().getDeletedCount();var ta={},ua={},va={};ua[this.id]=!this.featuredToplevelCommentList;this.comments.forEach(function(bb){var cb=bb.id;sa[cb]=this.getReplyCommentList(cb).getDeletedCount();ta[cb]=this.getToplevelCommentList().getPermalinkForComment(cb);ua[cb]=!this.featuredReplyCommentLists[cb];if(this.repliesMap[cb]){var db=this.repliesMap[cb].length;va[cb]=cb===this.feedback.permalinkcommentid||db>1||(db>0&&bb.interestingReplyOffset===(void 0));this.repliesMap[cb].forEach(function(eb){var fb=eb.id;ta[fb]=ba.getCommentList(this.id,cb).getPermalinkForComment(fb);}.bind(this));}}.bind(this));var wa={};wa[this.id]=new aa(qa.offset,qa.length);for(var xa in this.replyRanges)wa[xa]=new aa(this.replyRanges[xa].offset,this.replyRanges[xa].length);var ya=!!this.featuredToplevelCommentList,za=this.getToplevelCommentList().getForceNotPageable(),ab=o.createElement(r,{feedback:this.feedback,id:this.id,onTargetLikeToggle:this.$UFIControllera.bind(this),onCommentLikeToggle:this.$UFIControllerb.bind(this),onCommentRemove:this.$UFIControllere.bind(this),onCommentHideAsSpam:this.$UFIControllerh.bind(this),onCommentMarkAsNotSpam:this.$UFIControlleri.bind(this),onCommentEdit:this.$UFIControllerc.bind(this),onCommentTranslate:this.$UFIControllerj.bind(this),onCommentInlineBan:this.$UFIControllerl.bind(this),onCommentUndoInlineBan:this.$UFIControllerm.bind(this),onEditAttempt:this.$UFIControllerd.bind(this),onCancelEdit:this.$UFIControllerf.bind(this),onChangeRange:this.$UFIControllerr.bind(this),onSpamFetch:this.$UFIControllern.bind(this),onPreviewRemove:this.$UFIControllero.bind(this),onRetrySubmit:this.$UFIControllerp.bind(this),onOrderingModeChange:this.$UFIControllers.bind(this),contextArgs:this.$UFIController1,repliesMap:this.repliesMap,shortenTimestamp:this.shortenTimestamp,commentCounts:this.commentcounts,deletedCounts:sa,availableComments:this.comments,source:this.source,ranges:wa,pageSize:x.defaultPageSize,authorProfiles:this.authorProfiles,instanceid:this.$UFIController0,loggingOffset:this.$UFIController3,replySocialSentenceMaxReplies:ra,orderingMode:this.orderingMode,hideOrderingModeSelector:ya,commentPermalinks:ta,canAddCommentMap:ua,inlineShare:oa,initialRepliesExpandMap:va,hideToplevelPager:za});this.$UFIController4=o.render(ab,this.root);l.updateTimeStamps();if(this.$UFIController8())g.inform('ufi/changed',{form:this.$UFIController8()});if(na!=x.UFIPayloadSourceType.INITIAL_SERVER&&na!=x.UFIPayloadSourceType.COLLAPSED_UFI)g.inform('reflow');};ma.prototype.deferredCallback=function(na,oa,pa,qa){na.callbackCount++;if(na.callbackCount<na.expectedCallbackCount)return;q.getMulti(oa,function(ra){this.authorProfiles=ra;qa(pa);if(pa==x.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)g.inform('CommentUFI.Pager');}.bind(this));};ma.prototype.fetchAndUpdate=function(na,oa){y.getFeedbackTarget(this.id,function(pa){this.feedback=pa;var qa=this.getToplevelCommentList().getCommentCount(),ra=this.getRange(),sa=ja(ra.getRequestedOffset(),ra.getRequestedLength(),this.commentcounts[this.id],qa,oa),ta=[];if(this.feedback.actorforpost)ta.push(this.feedback.actorforpost);var ua={expectedCallbackCount:0,callbackCount:0},va=sa.offset,wa=sa.length,xa={viewAs:this.$UFIController1.viewas,feedContext:this.$UFIController1.feedcontext};this.getToplevelCommentList().getComments(va,wa,xa,function(ya,za,ab){this.commentcounts[this.id]=za;this.setRange(ya);this.comments=[];for(var bb in ab)this.comments.push(ab[bb]);la(ta,this.comments);if(this.feedback.isthreaded&&this.comments.length){ua.expectedCallbackCount=this.comments.length;}else ua.expectedCallbackCount=1;for(var cb in ab){var db=ab[cb],eb=db.id;if(this.feedback.isthreaded){var fb=this.getReplyCommentList(eb).getCommentCount(),gb;if(this.replyRanges[eb]){var hb=this.getReplyRange(eb);gb=ja(hb.getRequestedOffset(),hb.getRequestedLength(),this.commentcounts[eb],fb,oa);}else if(db.interestingReplyOffset!==(void 0)){gb={offset:db.interestingReplyOffset,length:1};}else{var ib=this.feedback.isranked?0:Math.min(fb,2);gb={offset:0,length:ib};}var jb=gb.offset,kb=gb.length;this.getReplyCommentList(eb).getComments(jb,kb,xa,function(lb,mb,nb,ob){this.commentcounts[lb]=nb;this.setReplyRange(lb,mb);this.repliesMap[lb]=[];for(var pb in ob)this.repliesMap[lb].push(ob[pb]);la(ta,this.repliesMap[lb]);this.deferredCallback(ua,ta,oa,na);}.bind(this,eb,gb,fb));}}if(!this.feedback.isthreaded||!this.comments.length)this.deferredCallback(ua,ta,oa,na);}.bind(this,sa,qa));}.bind(this));};ma.prototype.getToplevelCommentList=function(){if(this.featuredToplevelCommentList)return this.featuredToplevelCommentList;return da.getCommentList(this.id,this.orderingMode);};ma.prototype.getReplyCommentList=function(na){if(na in this.featuredReplyCommentLists)return this.featuredReplyCommentLists[na];return ba.getCommentList(this.id,na);};ma.prototype.getRange=function(){if(!(this.orderingMode in this.ranges))this.ranges[this.orderingMode]=new aa();return this.ranges[this.orderingMode];};ma.prototype.getReplyRange=function(na){if(!(na in this.replyRanges))this.replyRanges[na]=new aa();return this.replyRanges[na];};ma.prototype.$UFIControllerr=function(na,oa){if(na==this.id){this.getRange().updateRequestedRange(oa.offset,oa.length);}else this.replyRanges[na].updateRequestedRange(oa.offset,oa.length);this.fetchAndUpdate(this.render.bind(this),x.UFIPayloadSourceType.USER_ACTION);};ma.prototype.$UFIController6=function(){o.unmountComponentAtNode(this.root);this.ufiCentralUpdatesSubscriptions.forEach(t.unsubscribe.bind(t));g.unsubscribe(this.clearPageSubscription);this.viewasUFICleanSubscription&&g.unsubscribe(this.viewasUFICleanSubscription);};ma.prototype.$UFIController7=function(){this.$UFIController6();g.unsubscribe(this.clearPageletSubscription);};ma.prototype.$UFIControllers=function(na){this.orderingMode=na;var oa=z.getKeyForInstance(this.$UFIController0,'inlineShare'),pa=o.createElement(r,{feedback:this.feedback,id:this.id,contextArgs:this.$UFIController1,commentCounts:this.commentcounts,onOrderingModeChange:this.$UFIControllers.bind(this),onTargetLikeToggle:this.$UFIControllera.bind(this),orderingMode:this.orderingMode,inlineShare:oa,hideOrderingModeSelector:false,loadingComments:true});this.$UFIController4=o.render(pa,this.root);this.fetchAndUpdate(this.render.bind(this),x.UFIPayloadSourceType.USER_ACTION);};e.exports=ma;},null);
__d("TypeaheadViewItem",["React","SearchableEntry"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k={entry:j.instanceOf(h).isRequired,highlighted:j.bool,role:j.string,selected:j.bool,onSelect:j.func.isRequired,onHighlight:j.func,onRenderHighlight:j.func},l={_onSelect:function(m){this.props.onSelect(this.props.entry,m);},_onHighlight:function(m){if(this.props.onHighlight)this.props.onHighlight(this.props.entry,m);},getDefaultProps:function(){return {role:'option'};},shouldComponentUpdate:function(m){return (this.props.entry.getUniqueID()!==m.entry.getUniqueID()||this.props.highlighted!==m.highlighted||this.props.selected!==m.selected);},componentDidMount:function(){if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(g.findDOMNode(this));},componentDidUpdate:function(){if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(g.findDOMNode(this));}};e.exports={propTypes:k,Mixin:l};},null);
__d("cssURL",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){return "url('"+h.replace(/(\\|\s|\(|\)|'|\")/g,'\\$1')+"')";}e.exports=g;},null);
__d("MentionsTypeaheadViewItem.react",["Badge.react","ImageBlock.react","React","TypeaheadViewItem","cssURL","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=i,n=m.PropTypes,o=i.createClass({displayName:"MentionsTypeaheadViewItem",mixins:[j.Mixin],propTypes:Object.assign({},j.propTypes,{ariaDescribedBy:n.string}),render:function(){var p=this.props.entry,q=p.getAuxiliaryData(),r=null;if(q)if(q.verified){r=i.createElement(g,{type:"verified",size:"xsmall"});}else if(q.workUser)r=i.createElement(g,{type:"work",size:"xsmall"});var s=p.getPhoto()?i.createElement("span",{className:"_5u93",style:{backgroundImage:k(p.getPhoto())}}):i.createElement("span",null),t=null;if(p.getSubtitle())t=i.createElement("div",{className:"_5u95"},p.getSubtitle());var u=(("_5u91")+(this.props.highlighted?' '+"_5u92":''));return (i.createElement("li",{role:"option",className:u,"aria-label":p.getTitle(),"aria-selected":this.props.highlighted,"aria-describedby":this.props.ariaDescribedBy,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight},i.createElement(h,{spacing:"medium"},s,i.createElement("div",null,i.createElement("div",{className:"_5u94"},p.getTitle(),r),t))));}});e.exports=o;},null);
__d("GroupMentionsTypeaheadView.react",["Image.react","MentionsTypeaheadViewItem.react","React","cx","fbt","ix","uniqueID"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i,o=n.PropTypes,p=k._("Brak wynik\u00f3w"),q=i.createClass({displayName:"GroupMentionsTypeaheadView",propTypes:{id:o.string,viewProps:o.object,highlightedEntry:o.object,entries:o.array.isRequired,onSelect:o.func.isRequired,onHighlight:o.func,onRenderHighlight:o.func},getInitialState:function(){return {membersHeaderID:m(),nonMembersHeaderID:m()};},_renderItem:function(r,s){var t=r===this.props.highlightedEntry;return (i.createElement(h,{key:r.getUniqueID(),ariaDescribedBy:s,entry:r,highlighted:t,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this._onRenderHighlight}));},_renderMembers:function(r){var s,t=null;if(r.length){t=r.map(function(w,x){var y=x===0?this.state.membersHeaderID:null;return this._renderItem(w,y);}.bind(this));}else t=[i.createElement("li",{className:"_2ph-",role:"option","aria-describedby":this.state.membersHeaderID,"aria-label":p},p)];var u=null;if(this.props.viewProps.member.aux)u=i.createElement("span",{className:"_1knr"},' \u00b7 ',this.props.viewProps.member.aux);var v=[i.createElement("li",{id:this.state.membersHeaderID,className:"_1kns"},this.props.viewProps.member.title,u)];(s=v).push.apply(s,t);return v;},_renderNonMembers:function(r){var s;if(!r.length)return null;var t=null;if(this.props.viewProps.nonMember.aux)t=i.createElement("span",{className:"_1knr"},' \u00b7 ',this.props.viewProps.nonMember.aux);var u=[i.createElement("li",{id:this.state.nonMembersHeaderID,className:"_1kns"},i.createElement(g,{src:l('/images/groups/secret-tag.png'),className:"_1knt"}),this.props.viewProps.nonMember.title,t)];(s=u).push.apply(s,r.map(function(v,w){var x=w===0?this.state.nonMembersHeaderID:null;return this._renderItem(v,x);}.bind(this)));return u;},render:function(){var r=[],s=[];this.props.entries.forEach(function(u){var v=u.getAuxiliaryData();if(v.renderType==='member'){r.push(u);}else s.push(u);});var t=(("_5u8_")+(!r.length&&!s.length?' '+"_5u90":''));return (i.createElement("ul",{className:t,role:"listbox",id:this.props.id},this._renderMembers(r),this._renderNonMembers(s)));}});e.exports=q;},null);
__d("immutable",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();(function(g,h){typeof f==='object'&&typeof e!=='undefined'?e.exports=h():typeof define==='function'&&define.amd?define(h):g.Immutable=h();}(this,function(){'use strict';var g=Array.prototype.slice;function h(xh,yh){if(yh)xh.prototype=Object.create(yh.prototype);xh.prototype.constructor=xh;}var i='delete',j=5,k=1<<j,l=k-1,m={},n={value:false},o={value:false};function p(xh){xh.value=false;return xh;}function q(xh){xh&&(xh.value=true);}function r(){}function s(xh,yh){yh=yh||0;var zh=Math.max(0,xh.length-yh),ai=new Array(zh);for(var bi=0;bi<zh;bi++)ai[bi]=xh[bi+yh];return ai;}function t(xh){if(xh.size===(void 0))xh.size=xh.__iterate(v);return xh.size;}function u(xh,yh){return yh>=0?(+yh):t(xh)+(+yh);}function v(){return true;}function w(xh,yh,zh){return (xh===0||(zh!==(void 0)&&xh<=-zh))&&(yh===(void 0)||(zh!==(void 0)&&yh>=zh));}function x(xh,yh){return z(xh,yh,0);}function y(xh,yh){return z(xh,yh,yh);}function z(xh,yh,zh){return xh===(void 0)?zh:xh<0?Math.max(0,yh+xh):yh===(void 0)?xh:Math.min(yh,xh);}function aa(xh){return ea(xh)?xh:bb(xh);}h(ba,aa);function ba(xh){return fa(xh)?xh:cb(xh);}h(ca,aa);function ca(xh){return ga(xh)?xh:db(xh);}h(da,aa);function da(xh){return ea(xh)&&!ha(xh)?xh:eb(xh);}function ea(xh){return !!(xh&&xh[ja]);}function fa(xh){return !!(xh&&xh[ka]);}function ga(xh){return !!(xh&&xh[la]);}function ha(xh){return fa(xh)||ga(xh);}function ia(xh){return !!(xh&&xh[ma]);}aa.isIterable=ea;aa.isKeyed=fa;aa.isIndexed=ga;aa.isAssociative=ha;aa.isOrdered=ia;aa.Keyed=ba;aa.Indexed=ca;aa.Set=da;var ja='@@__IMMUTABLE_ITERABLE__@@',ka='@@__IMMUTABLE_KEYED__@@',la='@@__IMMUTABLE_INDEXED__@@',ma='@@__IMMUTABLE_ORDERED__@@',na=0,oa=1,pa=2,qa=typeof Symbol==='function'&&Symbol.iterator,ra='@@iterator',sa=qa||ra;function ta(xh){this.next=xh;}ta.prototype.toString=function(){return '[Iterator]';};ta.KEYS=na;ta.VALUES=oa;ta.ENTRIES=pa;ta.prototype.inspect=ta.prototype.toSource=function(){return this.toString();};ta.prototype[sa]=function(){return this;};function ua(xh,yh,zh,ai){var bi=xh===0?yh:xh===1?zh:[yh,zh];ai?(ai.value=bi):(ai={value:bi,done:false});return ai;}function va(){return {value:(void 0),done:true};}function wa(xh){return !!za(xh);}function xa(xh){return xh&&typeof xh.next==='function';}function ya(xh){var yh=za(xh);return yh&&yh.call(xh);}function za(xh){var yh=xh&&((qa&&xh[qa])||xh[ra]);if(typeof yh==='function')return yh;}function ab(xh){return xh&&typeof xh.length==='number';}h(bb,aa);function bb(xh){return xh===null||xh===(void 0)?mb():ea(xh)?xh.toSeq():pb(xh);}bb.of=function(){return bb(arguments);};bb.prototype.toSeq=function(){return this;};bb.prototype.toString=function(){return this.__toString('Seq {','}');};bb.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length;}return this;};bb.prototype.__iterate=function(xh,yh){return rb(this,xh,yh,true);};bb.prototype.__iterator=function(xh,yh){return sb(this,xh,yh,true);};h(cb,bb);function cb(xh){return xh===null||xh===(void 0)?mb().toKeyedSeq():ea(xh)?(fa(xh)?xh.toSeq():xh.fromEntrySeq()):nb(xh);}cb.prototype.toKeyedSeq=function(){return this;};h(db,bb);function db(xh){return xh===null||xh===(void 0)?mb():!ea(xh)?ob(xh):fa(xh)?xh.entrySeq():xh.toIndexedSeq();}db.of=function(){return db(arguments);};db.prototype.toIndexedSeq=function(){return this;};db.prototype.toString=function(){return this.__toString('Seq [',']');};db.prototype.__iterate=function(xh,yh){return rb(this,xh,yh,false);};db.prototype.__iterator=function(xh,yh){return sb(this,xh,yh,false);};h(eb,bb);function eb(xh){return (xh===null||xh===(void 0)?mb():!ea(xh)?ob(xh):fa(xh)?xh.entrySeq():xh).toSetSeq();}eb.of=function(){return eb(arguments);};eb.prototype.toSetSeq=function(){return this;};bb.isSeq=kb;bb.Keyed=cb;bb.Set=eb;bb.Indexed=db;var fb='@@__IMMUTABLE_SEQ__@@';bb.prototype[fb]=true;h(gb,db);function gb(xh){this._array=xh;this.size=xh.length;}gb.prototype.get=function(xh,yh){return this.has(xh)?this._array[u(this,xh)]:yh;};gb.prototype.__iterate=function(xh,yh){var zh=this._array,ai=zh.length-1;for(var bi=0;bi<=ai;bi++)if(xh(zh[yh?ai-bi:bi],bi,this)===false)return bi+1;return bi;};gb.prototype.__iterator=function(xh,yh){var zh=this._array,ai=zh.length-1,bi=0;return new ta(function(){return bi>ai?va():ua(xh,bi,zh[yh?ai-bi++:bi++]);});};h(hb,cb);function hb(xh){var yh=Object.keys(xh);this._object=xh;this._keys=yh;this.size=yh.length;}hb.prototype.get=function(xh,yh){if(yh!==(void 0)&&!this.has(xh))return yh;return this._object[xh];};hb.prototype.has=function(xh){return this._object.hasOwnProperty(xh);};hb.prototype.__iterate=function(xh,yh){var zh=this._object,ai=this._keys,bi=ai.length-1;for(var ci=0;ci<=bi;ci++){var di=ai[yh?bi-ci:ci];if(xh(zh[di],di,this)===false)return ci+1;}return ci;};hb.prototype.__iterator=function(xh,yh){var zh=this._object,ai=this._keys,bi=ai.length-1,ci=0;return new ta(function(){var di=ai[yh?bi-ci:ci];return ci++>bi?va():ua(xh,di,zh[di]);});};hb.prototype[ma]=true;h(ib,db);function ib(xh){this._iterable=xh;this.size=xh.length||xh.size;}ib.prototype.__iterateUncached=function(xh,yh){if(yh)return this.cacheResult().__iterate(xh,yh);var zh=this._iterable,ai=ya(zh),bi=0;if(xa(ai)){var ci;while(!(ci=ai.next()).done)if(xh(ci.value,bi++,this)===false)break;}return bi;};ib.prototype.__iteratorUncached=function(xh,yh){if(yh)return this.cacheResult().__iterator(xh,yh);var zh=this._iterable,ai=ya(zh);if(!xa(ai))return new ta(va);var bi=0;return new ta(function(){var ci=ai.next();return ci.done?ci:ua(xh,bi++,ci.value);});};h(jb,db);function jb(xh){this._iterator=xh;this._iteratorCache=[];}jb.prototype.__iterateUncached=function(xh,yh){if(yh)return this.cacheResult().__iterate(xh,yh);var zh=this._iterator,ai=this._iteratorCache,bi=0;while(bi<ai.length)if(xh(ai[bi],bi++,this)===false)return bi;var ci;while(!(ci=zh.next()).done){var di=ci.value;ai[bi]=di;if(xh(di,bi++,this)===false)break;}return bi;};jb.prototype.__iteratorUncached=function(xh,yh){if(yh)return this.cacheResult().__iterator(xh,yh);var zh=this._iterator,ai=this._iteratorCache,bi=0;return new ta(function(){if(bi>=ai.length){var ci=zh.next();if(ci.done)return ci;ai[bi]=ci.value;}return ua(xh,bi,ai[bi++]);});};function kb(xh){return !!(xh&&xh[fb]);}var lb;function mb(){return lb||(lb=new gb([]));}function nb(xh){var yh=Array.isArray(xh)?new gb(xh).fromEntrySeq():xa(xh)?new jb(xh).fromEntrySeq():wa(xh)?new ib(xh).fromEntrySeq():typeof xh==='object'?new hb(xh):(void 0);if(!yh)throw new TypeError('Expected Array or iterable object of [k, v] entries, '+'or keyed object: '+xh);return yh;}function ob(xh){var yh=qb(xh);if(!yh)throw new TypeError('Expected Array or iterable object of values: '+xh);return yh;}function pb(xh){var yh=qb(xh)||(typeof xh==='object'&&new hb(xh));if(!yh)throw new TypeError('Expected Array or iterable object of values, or keyed object: '+xh);return yh;}function qb(xh){return (ab(xh)?new gb(xh):xa(xh)?new jb(xh):wa(xh)?new ib(xh):(void 0));}function rb(xh,yh,zh,ai){var bi=xh._cache;if(bi){var ci=bi.length-1;for(var di=0;di<=ci;di++){var ei=bi[zh?ci-di:di];if(yh(ei[1],ai?ei[0]:di,xh)===false)return di+1;}return di;}return xh.__iterateUncached(yh,zh);}function sb(xh,yh,zh,ai){var bi=xh._cache;if(bi){var ci=bi.length-1,di=0;return new ta(function(){var ei=bi[zh?ci-di:di];return di++>ci?va():ua(yh,ai?ei[0]:di-1,ei[1]);});}return xh.__iteratorUncached(yh,zh);}h(tb,aa);function tb(){throw TypeError('Abstract');}h(ub,tb);function ub(){}h(vb,tb);function vb(){}h(wb,tb);function wb(){}tb.Keyed=ub;tb.Indexed=vb;tb.Set=wb;function xb(xh,yh){if(xh===yh||(xh!==xh&&yh!==yh))return true;if(!xh||!yh)return false;if(typeof xh.valueOf==='function'&&typeof yh.valueOf==='function'){xh=xh.valueOf();yh=yh.valueOf();if(xh===yh||(xh!==xh&&yh!==yh))return true;if(!xh||!yh)return false;}if(typeof xh.equals==='function'&&typeof yh.equals==='function'&&xh.equals(yh))return true;return false;}function yb(xh,yh){return yh?zb(yh,xh,'',{'':xh}):ac(xh);}function zb(xh,yh,zh,ai){if(Array.isArray(yh))return xh.call(ai,zh,db(yh).map(function(bi,ci){return zb(xh,bi,ci,yh);}));if(bc(yh))return xh.call(ai,zh,cb(yh).map(function(bi,ci){return zb(xh,bi,ci,yh);}));return yh;}function ac(xh){if(Array.isArray(xh))return db(xh).map(ac).toList();if(bc(xh))return cb(xh).map(ac).toMap();return xh;}function bc(xh){return xh&&(xh.constructor===Object||xh.constructor===(void 0));}var cc=typeof Math.imul==='function'&&Math.imul(4294967295,2)===-2?Math.imul:function xh(yh,zh){yh=yh|0;zh=zh|0;var ai=yh&65535,bi=zh&65535;return (ai*bi)+((((yh>>>16)*bi+ai*(zh>>>16))<<16)>>>0)|0;};function dc(xh){return ((xh>>>1)&1073741824)|(xh&3221225471);}function ec(xh){if(xh===false||xh===null||xh===(void 0))return 0;if(typeof xh.valueOf==='function'){xh=xh.valueOf();if(xh===false||xh===null||xh===(void 0))return 0;}if(xh===true)return 1;var yh=typeof xh;if(yh==='number'){var zh=xh|0;if(zh!==xh)zh^=xh*4294967295;while(xh>4294967295){xh/=4294967295;zh^=xh;}return dc(zh);}if(yh==='string')return xh.length>pc?fc(xh):gc(xh);if(typeof xh.hashCode==='function')return xh.hashCode();return hc(xh);}function fc(xh){var yh=sc[xh];if(yh===(void 0)){yh=gc(xh);if(rc===qc){rc=0;sc={};}rc++;sc[xh]=yh;}return yh;}function gc(xh){var yh=0;for(var zh=0;zh<xh.length;zh++)yh=31*yh+xh.charCodeAt(zh)|0;return dc(yh);}function hc(xh){var yh;if(lc){yh=mc.get(xh);if(yh!==(void 0))return yh;}yh=xh[oc];if(yh!==(void 0))return yh;if(!jc){yh=xh.propertyIsEnumerable&&xh.propertyIsEnumerable[oc];if(yh!==(void 0))return yh;yh=kc(xh);if(yh!==(void 0))return yh;}yh=++nc;if(nc&1073741824)nc=0;if(lc){mc.set(xh,yh);}else if(ic!==(void 0)&&ic(xh)===false){throw new Error('Non-extensible objects are not allowed as keys.');}else if(jc){Object.defineProperty(xh,oc,{enumerable:false,configurable:false,writable:false,value:yh});}else if(xh.propertyIsEnumerable!==(void 0)&&xh.propertyIsEnumerable===xh.constructor.prototype.propertyIsEnumerable){xh.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments);};xh.propertyIsEnumerable[oc]=yh;}else if(xh.nodeType!==(void 0)){xh[oc]=yh;}else throw new Error('Unable to set a non-enumerable property on object.');return yh;}var ic=Object.isExtensible,jc=(function(){try{Object.defineProperty({},'@',{});return true;}catch(xh){return false;}}());function kc(xh){if(xh&&xh.nodeType>0)switch(xh.nodeType){case 1:return xh.uniqueID;case 9:return xh.documentElement&&xh.documentElement.uniqueID;}}var lc=typeof WeakMap==='function',mc;if(lc)mc=new WeakMap();var nc=0,oc='__immutablehash__';if(typeof Symbol==='function')oc=Symbol(oc);var pc=16,qc=255,rc=0,sc={};function tc(xh,yh){if(!xh)throw new Error(yh);}function uc(xh){tc(xh!==Infinity);}h(vc,cb);function vc(xh,yh){this._iter=xh;this._useKeys=yh;this.size=xh.size;}vc.prototype.get=function(xh,yh){return this._iter.get(xh,yh);};vc.prototype.has=function(xh){return this._iter.has(xh);};vc.prototype.valueSeq=function(){return this._iter.valueSeq();};vc.prototype.reverse=function(){var xh=this,yh=bd(this,true);if(!this._useKeys)yh.valueSeq=function(){return xh._iter.toSeq().reverse();};return yh;};vc.prototype.map=function(xh,yh){var zh=this,ai=ad(this,xh,yh);if(!this._useKeys)ai.valueSeq=function(){return zh._iter.toSeq().map(xh,yh);};return ai;};vc.prototype.__iterate=function(xh,yh){var zh=this,ai;return this._iter.__iterate(this._useKeys?function(bi,ci){return xh(bi,ci,zh);}:((ai=yh?sd(this):0),function(bi){return xh(bi,yh?--ai:ai++,zh);}),yh);};vc.prototype.__iterator=function(xh,yh){if(this._useKeys)return this._iter.__iterator(xh,yh);var zh=this._iter.__iterator(oa,yh),ai=yh?sd(this):0;return new ta(function(){var bi=zh.next();return bi.done?bi:ua(xh,yh?--ai:ai++,bi.value,bi);});};vc.prototype[ma]=true;h(wc,db);function wc(xh){this._iter=xh;this.size=xh.size;}wc.prototype.includes=function(xh){return this._iter.includes(xh);};wc.prototype.__iterate=function(xh,yh){var zh=this,ai=0;return this._iter.__iterate(function(bi){return xh(bi,ai++,zh);},yh);};wc.prototype.__iterator=function(xh,yh){var zh=this._iter.__iterator(oa,yh),ai=0;return new ta(function(){var bi=zh.next();return bi.done?bi:ua(xh,ai++,bi.value,bi);});};h(xc,eb);function xc(xh){this._iter=xh;this.size=xh.size;}xc.prototype.has=function(xh){return this._iter.includes(xh);};xc.prototype.__iterate=function(xh,yh){var zh=this;return this._iter.__iterate(function(ai){return xh(ai,ai,zh);},yh);};xc.prototype.__iterator=function(xh,yh){var zh=this._iter.__iterator(oa,yh);return new ta(function(){var ai=zh.next();return ai.done?ai:ua(xh,ai.value,ai.value,ai);});};h(yc,cb);function yc(xh){this._iter=xh;this.size=xh.size;}yc.prototype.entrySeq=function(){return this._iter.toSeq();};yc.prototype.__iterate=function(xh,yh){var zh=this;return this._iter.__iterate(function(ai){if(ai){rd(ai);var bi=ea(ai);return xh(bi?ai.get(1):ai[1],bi?ai.get(0):ai[0],zh);}},yh);};yc.prototype.__iterator=function(xh,yh){var zh=this._iter.__iterator(oa,yh);return new ta(function(){while(true){var ai=zh.next();if(ai.done)return ai;var bi=ai.value;if(bi){rd(bi);var ci=ea(bi);return ua(xh,ci?bi.get(0):bi[0],ci?bi.get(1):bi[1],ai);}}});};wc.prototype.cacheResult=vc.prototype.cacheResult=xc.prototype.cacheResult=yc.prototype.cacheResult=vd;function zc(xh){var yh=ud(xh);yh._iter=xh;yh.size=xh.size;yh.flip=function(){return xh;};yh.reverse=function(){var zh=xh.reverse.apply(this);zh.flip=function(){return xh.reverse();};return zh;};yh.has=function(zh){return xh.includes(zh);};yh.includes=function(zh){return xh.has(zh);};yh.cacheResult=vd;yh.__iterateUncached=function(zh,ai){var bi=this;return xh.__iterate(function(ci,di){return zh(di,ci,bi)!==false;},ai);};yh.__iteratorUncached=function(zh,ai){if(zh===pa){var bi=xh.__iterator(zh,ai);return new ta(function(){var ci=bi.next();if(!ci.done){var di=ci.value[0];ci.value[0]=ci.value[1];ci.value[1]=di;}return ci;});}return xh.__iterator(zh===oa?na:oa,ai);};return yh;}function ad(xh,yh,zh){var ai=ud(xh);ai.size=xh.size;ai.has=function(bi){return xh.has(bi);};ai.get=function(bi,ci){var di=xh.get(bi,m);return di===m?ci:yh.call(zh,di,bi,xh);};ai.__iterateUncached=function(bi,ci){var di=this;return xh.__iterate(function(ei,fi,gi){return bi(yh.call(zh,ei,fi,gi),fi,di)!==false;},ci);};ai.__iteratorUncached=function(bi,ci){var di=xh.__iterator(pa,ci);return new ta(function(){var ei=di.next();if(ei.done)return ei;var fi=ei.value,gi=fi[0];return ua(bi,gi,yh.call(zh,fi[1],gi,xh),ei);});};return ai;}function bd(xh,yh){var zh=ud(xh);zh._iter=xh;zh.size=xh.size;zh.reverse=function(){return xh;};if(xh.flip)zh.flip=function(){var ai=zc(xh);ai.reverse=function(){return xh.flip();};return ai;};zh.get=function(ai,bi){return xh.get(yh?ai:-1-ai,bi);};zh.has=function(ai){return xh.has(yh?ai:-1-ai);};zh.includes=function(ai){return xh.includes(ai);};zh.cacheResult=vd;zh.__iterate=function(ai,bi){var ci=this;return xh.__iterate(function(di,ei){return ai(di,ei,ci);},!bi);};zh.__iterator=function(ai,bi){return xh.__iterator(ai,!bi);};return zh;}function cd(xh,yh,zh,ai){var bi=ud(xh);if(ai){bi.has=function(ci){var di=xh.get(ci,m);return di!==m&&!!yh.call(zh,di,ci,xh);};bi.get=function(ci,di){var ei=xh.get(ci,m);return ei!==m&&yh.call(zh,ei,ci,xh)?ei:di;};}bi.__iterateUncached=function(ci,di){var ei=this,fi=0;xh.__iterate(function(gi,hi,ii){if(yh.call(zh,gi,hi,ii)){fi++;return ci(gi,ai?hi:fi-1,ei);}},di);return fi;};bi.__iteratorUncached=function(ci,di){var ei=xh.__iterator(pa,di),fi=0;return new ta(function(){while(true){var gi=ei.next();if(gi.done)return gi;var hi=gi.value,ii=hi[0],ji=hi[1];if(yh.call(zh,ji,ii,xh))return ua(ci,ai?ii:fi++,ji,gi);}});};return bi;}function dd(xh,yh,zh){var ai=yd().asMutable();xh.__iterate(function(bi,ci){ai.update(yh.call(zh,bi,ci,xh),0,function(di){return di+1;});});return ai.asImmutable();}function ed(xh,yh,zh){var ai=fa(xh),bi=(ia(xh)?xf():yd()).asMutable();xh.__iterate(function(di,ei){bi.update(yh.call(zh,di,ei,xh),function(fi){return (fi=fi||[],fi.push(ai?[ei,di]:di),fi);});});var ci=td(xh);return bi.map(function(di){return qd(xh,ci(di));});}function fd(xh,yh,zh,ai){var bi=xh.size;if(w(yh,zh,bi))return xh;var ci=x(yh,bi),di=y(zh,bi);if(ci!==ci||di!==di)return fd(xh.toSeq().cacheResult(),yh,zh,ai);var ei=di-ci,fi;if(ei===ei)fi=ei<0?0:ei;var gi=ud(xh);gi.size=fi;if(!ai&&kb(xh)&&fi>=0)gi.get=function(hi,ii){hi=u(this,hi);return hi>=0&&hi<fi?xh.get(hi+ci,ii):ii;};gi.__iterateUncached=function(hi,ii){var ji=this;if(fi===0)return 0;if(ii)return this.cacheResult().__iterate(hi,ii);var ki=0,li=true,mi=0;xh.__iterate(function(ni,oi){if(!(li&&(li=ki++<ci))){mi++;return hi(ni,ai?oi:mi-1,ji)!==false&&mi!==fi;}});return mi;};gi.__iteratorUncached=function(hi,ii){if(fi!==0&&ii)return this.cacheResult().__iterator(hi,ii);var ji=fi!==0&&xh.__iterator(hi,ii),ki=0,li=0;return new ta(function(){while(ki++<ci)ji.next();if(++li>fi)return va();var mi=ji.next();if(ai||hi===oa){return mi;}else if(hi===na){return ua(hi,li-1,(void 0),mi);}else return ua(hi,li-1,mi.value[1],mi);});};return gi;}function gd(xh,yh,zh){var ai=ud(xh);ai.__iterateUncached=function(bi,ci){var di=this;if(ci)return this.cacheResult().__iterate(bi,ci);var ei=0;xh.__iterate(function(fi,gi,hi){return yh.call(zh,fi,gi,hi)&&++ei&&bi(fi,gi,di);});return ei;};ai.__iteratorUncached=function(bi,ci){var di=this;if(ci)return this.cacheResult().__iterator(bi,ci);var ei=xh.__iterator(pa,ci),fi=true;return new ta(function(){if(!fi)return va();var gi=ei.next();if(gi.done)return gi;var hi=gi.value,ii=hi[0],ji=hi[1];if(!yh.call(zh,ji,ii,di)){fi=false;return va();}return bi===pa?gi:ua(bi,ii,ji,gi);});};return ai;}function hd(xh,yh,zh,ai){var bi=ud(xh);bi.__iterateUncached=function(ci,di){var ei=this;if(di)return this.cacheResult().__iterate(ci,di);var fi=true,gi=0;xh.__iterate(function(hi,ii,ji){if(!(fi&&(fi=yh.call(zh,hi,ii,ji)))){gi++;return ci(hi,ai?ii:gi-1,ei);}});return gi;};bi.__iteratorUncached=function(ci,di){var ei=this;if(di)return this.cacheResult().__iterator(ci,di);var fi=xh.__iterator(pa,di),gi=true,hi=0;return new ta(function(){var ii,ji,ki;do{ii=fi.next();if(ii.done)if(ai||ci===oa){return ii;}else if(ci===na){return ua(ci,hi++,(void 0),ii);}else return ua(ci,hi++,ii.value[1],ii);var li=ii.value;ji=li[0];ki=li[1];gi&&(gi=yh.call(zh,ki,ji,ei));}while(gi);return ci===pa?ii:ua(ci,ji,ki,ii);});};return bi;}function id(xh,yh){var zh=fa(xh),ai=[xh].concat(yh).map(function(di){if(!ea(di)){di=zh?nb(di):ob(Array.isArray(di)?di:[di]);}else if(zh)di=ba(di);return di;}).filter(function(di){return di.size!==0;});if(ai.length===0)return xh;if(ai.length===1){var bi=ai[0];if(bi===xh||zh&&fa(bi)||ga(xh)&&ga(bi))return bi;}var ci=new gb(ai);if(zh){ci=ci.toKeyedSeq();}else if(!ga(xh))ci=ci.toSetSeq();ci=ci.flatten(true);ci.size=ai.reduce(function(di,ei){if(di!==(void 0)){var fi=ei.size;if(fi!==(void 0))return di+fi;}},0);return ci;}function jd(xh,yh,zh){var ai=ud(xh);ai.__iterateUncached=function(bi,ci){var di=0,ei=false;function fi(gi,hi){var ii=this;gi.__iterate(function(ji,ki){if((!yh||hi<yh)&&ea(ji)){fi(ji,hi+1);}else if(bi(ji,zh?ki:di++,ii)===false)ei=true;return !ei;},ci);}fi(xh,0);return di;};ai.__iteratorUncached=function(bi,ci){var di=xh.__iterator(bi,ci),ei=[],fi=0;return new ta(function(){while(di){var gi=di.next();if(gi.done!==false){di=ei.pop();continue;}var hi=gi.value;if(bi===pa)hi=hi[1];if((!yh||ei.length<yh)&&ea(hi)){ei.push(di);di=hi.__iterator(bi,ci);}else return zh?gi:ua(bi,fi++,hi,gi);}return va();});};return ai;}function kd(xh,yh,zh){var ai=td(xh);return xh.toSeq().map(function(bi,ci){return ai(yh.call(zh,bi,ci,xh));}).flatten(true);}function ld(xh,yh){var zh=ud(xh);zh.size=xh.size&&xh.size*2-1;zh.__iterateUncached=function(ai,bi){var ci=this,di=0;xh.__iterate(function(ei,fi){return (!di||ai(yh,di++,ci)!==false)&&ai(ei,di++,ci)!==false;},bi);return di;};zh.__iteratorUncached=function(ai,bi){var ci=xh.__iterator(oa,bi),di=0,ei;return new ta(function(){if(!ei||di%2){ei=ci.next();if(ei.done)return ei;}return di%2?ua(ai,di++,yh):ua(ai,di++,ei.value,ei);});};return zh;}function md(xh,yh,zh){if(!yh)yh=wd;var ai=fa(xh),bi=0,ci=xh.toSeq().map(function(di,ei){return [ei,di,bi++,zh?zh(di,ei,xh):di];}).toArray();ci.sort(function(di,ei){return yh(di[3],ei[3])||di[2]-ei[2];}).forEach(ai?function(di,ei){ci[ei].length=2;}:function(di,ei){ci[ei]=di[1];});return ai?cb(ci):ga(xh)?db(ci):eb(ci);}function nd(xh,yh,zh){if(!yh)yh=wd;if(zh){var ai=xh.toSeq().map(function(bi,ci){return [bi,zh(bi,ci,xh)];}).reduce(function(bi,ci){return od(yh,bi[1],ci[1])?ci:bi;});return ai&&ai[0];}else return xh.reduce(function(bi,ci){return od(yh,bi,ci)?ci:bi;});}function od(xh,yh,zh){var ai=xh(zh,yh);return (ai===0&&zh!==yh&&(zh===(void 0)||zh===null||zh!==zh))||ai>0;}function pd(xh,yh,zh){var ai=ud(xh);ai.size=new gb(zh).map(function(bi){return bi.size;}).min();ai.__iterate=function(bi,ci){var di=this.__iterator(oa,ci),ei,fi=0;while(!(ei=di.next()).done)if(bi(ei.value,fi++,this)===false)break;return fi;};ai.__iteratorUncached=function(bi,ci){var di=zh.map(function(gi){return (gi=aa(gi),ya(ci?gi.reverse():gi));}),ei=0,fi=false;return new ta(function(){var gi;if(!fi){gi=di.map(function(hi){return hi.next();});fi=gi.some(function(hi){return hi.done;});}if(fi)return va();return ua(bi,ei++,yh.apply(null,gi.map(function(hi){return hi.value;})));});};return ai;}function qd(xh,yh){return kb(xh)?yh:xh.constructor(yh);}function rd(xh){if(xh!==Object(xh))throw new TypeError('Expected [K, V] tuple: '+xh);}function sd(xh){uc(xh.size);return t(xh);}function td(xh){return fa(xh)?ba:ga(xh)?ca:da;}function ud(xh){return Object.create((fa(xh)?cb:ga(xh)?db:eb).prototype);}function vd(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this;}else return bb.prototype.cacheResult.call(this);}function wd(xh,yh){return xh>yh?1:xh<yh?-1:0;}function xd(xh){var yh=ya(xh);if(!yh){if(!ab(xh))throw new TypeError('Expected iterable or array-like: '+xh);yh=ya(aa(xh));}return yh;}h(yd,ub);function yd(xh){return xh===null||xh===(void 0)?me():zd(xh)?xh:me().withMutations(function(yh){var zh=ba(xh);uc(zh.size);zh.forEach(function(ai,bi){return yh.set(bi,ai);});});}yd.prototype.toString=function(){return this.__toString('Map {','}');};yd.prototype.get=function(xh,yh){return this._root?this._root.get(0,(void 0),xh,yh):yh;};yd.prototype.set=function(xh,yh){return ne(this,xh,yh);};yd.prototype.setIn=function(xh,yh){return this.updateIn(xh,m,function(){return yh;});};yd.prototype.remove=function(xh){return ne(this,xh,m);};yd.prototype.deleteIn=function(xh){return this.updateIn(xh,function(){return m;});};yd.prototype.update=function(xh,yh,zh){return arguments.length===1?xh(this):this.updateIn([xh],yh,zh);};yd.prototype.updateIn=function(xh,yh,zh){if(!zh){zh=yh;yh=(void 0);}var ai=xe(this,xd(xh),yh,zh);return ai===m?(void 0):ai;};yd.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=(void 0);this.__altered=true;return this;}return me();};yd.prototype.merge=function(){return ue(this,(void 0),arguments);};yd.prototype.mergeWith=function(xh){var yh=g.call(arguments,1);return ue(this,xh,yh);};yd.prototype.mergeIn=function(xh){var yh=g.call(arguments,1);return this.updateIn(xh,me(),function(zh){return typeof zh.merge==='function'?zh.merge.apply(zh,yh):yh[yh.length-1];});};yd.prototype.mergeDeep=function(){return ue(this,ve((void 0)),arguments);};yd.prototype.mergeDeepWith=function(xh){var yh=g.call(arguments,1);return ue(this,ve(xh),yh);};yd.prototype.mergeDeepIn=function(xh){var yh=g.call(arguments,1);return this.updateIn(xh,me(),function(zh){return typeof zh.mergeDeep==='function'?zh.mergeDeep.apply(zh,yh):yh[yh.length-1];});};yd.prototype.sort=function(xh){return xf(md(this,xh));};yd.prototype.sortBy=function(xh,yh){return xf(md(this,yh,xh));};yd.prototype.withMutations=function(xh){var yh=this.asMutable();xh(yh);return yh.wasAltered()?yh.__ensureOwner(this.__ownerID):this;};yd.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new r());};yd.prototype.asImmutable=function(){return this.__ensureOwner();};yd.prototype.wasAltered=function(){return this.__altered;};yd.prototype.__iterator=function(xh,yh){return new he(this,xh,yh);};yd.prototype.__iterate=function(xh,yh){var zh=this,ai=0;this._root&&this._root.iterate(function(bi){ai++;return xh(bi[1],bi[0],zh);},yh);return ai;};yd.prototype.__ensureOwner=function(xh){if(xh===this.__ownerID)return this;if(!xh){this.__ownerID=xh;this.__altered=false;return this;}return ke(this.size,this._root,xh,this.__hash);};function zd(xh){return !!(xh&&xh[ae]);}yd.isMap=zd;var ae='@@__IMMUTABLE_MAP__@@',be=yd.prototype;be[ae]=true;be[i]=be.remove;be.removeIn=be.deleteIn;function ce(xh,yh){this.ownerID=xh;this.entries=yh;}ce.prototype.get=function(xh,yh,zh,ai){var bi=this.entries;for(var ci=0,di=bi.length;ci<di;ci++)if(xb(zh,bi[ci][0]))return bi[ci][1];return ai;};ce.prototype.update=function(xh,yh,zh,ai,bi,ci,di){var ei=bi===m,fi=this.entries,gi=0;for(var hi=fi.length;gi<hi;gi++)if(xb(ai,fi[gi][0]))break;var ii=gi<hi;if(ii?fi[gi][1]===bi:ei)return this;q(di);(ei||!ii)&&q(ci);if(ei&&fi.length===1)return;if(!ii&&!ei&&fi.length>=cf)return re(xh,fi,ai,bi);var ji=xh&&xh===this.ownerID,ki=ji?fi:s(fi);if(ii){if(ei){gi===hi-1?ki.pop():(ki[gi]=ki.pop());}else ki[gi]=[ai,bi];}else ki.push([ai,bi]);if(ji){this.entries=ki;return this;}return new ce(xh,ki);};function de(xh,yh,zh){this.ownerID=xh;this.bitmap=yh;this.nodes=zh;}de.prototype.get=function(xh,yh,zh,ai){if(yh===(void 0))yh=ec(zh);var bi=(1<<((xh===0?yh:yh>>>xh)&l)),ci=this.bitmap;return (ci&bi)===0?ai:this.nodes[ye(ci&(bi-1))].get(xh+j,yh,zh,ai);};de.prototype.update=function(xh,yh,zh,ai,bi,ci,di){if(zh===(void 0))zh=ec(ai);var ei=(yh===0?zh:zh>>>yh)&l,fi=1<<ei,gi=this.bitmap,hi=(gi&fi)!==0;if(!hi&&bi===m)return this;var ii=ye(gi&(fi-1)),ji=this.nodes,ki=hi?ji[ii]:(void 0),li=oe(ki,xh,yh+j,zh,ai,bi,ci,di);if(li===ki)return this;if(!hi&&li&&ji.length>=df)return te(xh,ji,gi,ei,li);if(hi&&!li&&ji.length===2&&pe(ji[ii^1]))return ji[ii^1];if(hi&&li&&ji.length===1&&pe(li))return li;var mi=xh&&xh===this.ownerID,ni=hi?li?gi:gi^fi:gi|fi,oi=hi?li?ze(ji,ii,li,mi):bf(ji,ii,mi):af(ji,ii,li,mi);if(mi){this.bitmap=ni;this.nodes=oi;return this;}return new de(xh,ni,oi);};function ee(xh,yh,zh){this.ownerID=xh;this.count=yh;this.nodes=zh;}ee.prototype.get=function(xh,yh,zh,ai){if(yh===(void 0))yh=ec(zh);var bi=(xh===0?yh:yh>>>xh)&l,ci=this.nodes[bi];return ci?ci.get(xh+j,yh,zh,ai):ai;};ee.prototype.update=function(xh,yh,zh,ai,bi,ci,di){if(zh===(void 0))zh=ec(ai);var ei=(yh===0?zh:zh>>>yh)&l,fi=bi===m,gi=this.nodes,hi=gi[ei];if(fi&&!hi)return this;var ii=oe(hi,xh,yh+j,zh,ai,bi,ci,di);if(ii===hi)return this;var ji=this.count;if(!hi){ji++;}else if(!ii){ji--;if(ji<ef)return se(xh,gi,ji,ei);}var ki=xh&&xh===this.ownerID,li=ze(gi,ei,ii,ki);if(ki){this.count=ji;this.nodes=li;return this;}return new ee(xh,ji,li);};function fe(xh,yh,zh){this.ownerID=xh;this.keyHash=yh;this.entries=zh;}fe.prototype.get=function(xh,yh,zh,ai){var bi=this.entries;for(var ci=0,di=bi.length;ci<di;ci++)if(xb(zh,bi[ci][0]))return bi[ci][1];return ai;};fe.prototype.update=function(xh,yh,zh,ai,bi,ci,di){if(zh===(void 0))zh=ec(ai);var ei=bi===m;if(zh!==this.keyHash){if(ei)return this;q(di);q(ci);return qe(this,xh,yh,zh,[ai,bi]);}var fi=this.entries,gi=0;for(var hi=fi.length;gi<hi;gi++)if(xb(ai,fi[gi][0]))break;var ii=gi<hi;if(ii?fi[gi][1]===bi:ei)return this;q(di);(ei||!ii)&&q(ci);if(ei&&hi===2)return new ge(xh,this.keyHash,fi[gi^1]);var ji=xh&&xh===this.ownerID,ki=ji?fi:s(fi);if(ii){if(ei){gi===hi-1?ki.pop():(ki[gi]=ki.pop());}else ki[gi]=[ai,bi];}else ki.push([ai,bi]);if(ji){this.entries=ki;return this;}return new fe(xh,this.keyHash,ki);};function ge(xh,yh,zh){this.ownerID=xh;this.keyHash=yh;this.entry=zh;}ge.prototype.get=function(xh,yh,zh,ai){return xb(zh,this.entry[0])?this.entry[1]:ai;};ge.prototype.update=function(xh,yh,zh,ai,bi,ci,di){var ei=bi===m,fi=xb(ai,this.entry[0]);if(fi?bi===this.entry[1]:ei)return this;q(di);if(ei){q(ci);return;}if(fi){if(xh&&xh===this.ownerID){this.entry[1]=bi;return this;}return new ge(xh,this.keyHash,[ai,bi]);}q(ci);return qe(this,xh,yh,ec(ai),[ai,bi]);};ce.prototype.iterate=fe.prototype.iterate=function(xh,yh){var zh=this.entries;for(var ai=0,bi=zh.length-1;ai<=bi;ai++)if(xh(zh[yh?bi-ai:ai])===false)return false;};de.prototype.iterate=ee.prototype.iterate=function(xh,yh){var zh=this.nodes;for(var ai=0,bi=zh.length-1;ai<=bi;ai++){var ci=zh[yh?bi-ai:ai];if(ci&&ci.iterate(xh,yh)===false)return false;}};ge.prototype.iterate=function(xh,yh){return xh(this.entry);};h(he,ta);function he(xh,yh,zh){this._type=yh;this._reverse=zh;this._stack=xh._root&&je(xh._root);}he.prototype.next=function(){var xh=this._type,yh=this._stack;while(yh){var zh=yh.node,ai=yh.index++,bi;if(zh.entry){if(ai===0)return ie(xh,zh.entry);}else if(zh.entries){bi=zh.entries.length-1;if(ai<=bi)return ie(xh,zh.entries[this._reverse?bi-ai:ai]);}else{bi=zh.nodes.length-1;if(ai<=bi){var ci=zh.nodes[this._reverse?bi-ai:ai];if(ci){if(ci.entry)return ie(xh,ci.entry);yh=this._stack=je(ci,yh);}continue;}}yh=this._stack=this._stack.__prev;}return va();};function ie(xh,yh){return ua(xh,yh[0],yh[1]);}function je(xh,yh){return {node:xh,index:0,__prev:yh};}function ke(xh,yh,zh,ai){var bi=Object.create(be);bi.size=xh;bi._root=yh;bi.__ownerID=zh;bi.__hash=ai;bi.__altered=false;return bi;}var le;function me(){return le||(le=ke(0));}function ne(xh,yh,zh){var ai,bi;if(!xh._root){if(zh===m)return xh;bi=1;ai=new ce(xh.__ownerID,[[yh,zh]]);}else{var ci=p(n),di=p(o);ai=oe(xh._root,xh.__ownerID,0,(void 0),yh,zh,ci,di);if(!di.value)return xh;bi=xh.size+(ci.value?zh===m?-1:1:0);}if(xh.__ownerID){xh.size=bi;xh._root=ai;xh.__hash=(void 0);xh.__altered=true;return xh;}return ai?ke(bi,ai):me();}function oe(xh,yh,zh,ai,bi,ci,di,ei){if(!xh){if(ci===m)return xh;q(ei);q(di);return new ge(yh,ai,[bi,ci]);}return xh.update(yh,zh,ai,bi,ci,di,ei);}function pe(xh){return xh.constructor===ge||xh.constructor===fe;}function qe(xh,yh,zh,ai,bi){if(xh.keyHash===ai)return new fe(yh,ai,[xh.entry,bi]);var ci=(zh===0?xh.keyHash:xh.keyHash>>>zh)&l,di=(zh===0?ai:ai>>>zh)&l,ei,fi=ci===di?[qe(xh,yh,zh+j,ai,bi)]:((ei=new ge(yh,ai,bi)),ci<di?[xh,ei]:[ei,xh]);return new de(yh,(1<<ci)|(1<<di),fi);}function re(xh,yh,zh,ai){if(!xh)xh=new r();var bi=new ge(xh,ec(zh),[zh,ai]);for(var ci=0;ci<yh.length;ci++){var di=yh[ci];bi=bi.update(xh,0,(void 0),di[0],di[1]);}return bi;}function se(xh,yh,zh,ai){var bi=0,ci=0,di=new Array(zh);for(var ei=0,fi=1,gi=yh.length;ei<gi;ei++,fi<<=1){var hi=yh[ei];if(hi!==(void 0)&&ei!==ai){bi|=fi;di[ci++]=hi;}}return new de(xh,bi,di);}function te(xh,yh,zh,ai,bi){var ci=0,di=new Array(k);for(var ei=0;zh!==0;ei++,zh>>>=1)di[ei]=zh&1?yh[ci++]:(void 0);di[ai]=bi;return new ee(xh,ci+1,di);}function ue(xh,yh,zh){var ai=[];for(var bi=0;bi<zh.length;bi++){var ci=zh[bi],di=ba(ci);if(!ea(ci))di=di.map(function(ei){return yb(ei);});ai.push(di);}return we(xh,yh,ai);}function ve(xh){return function(yh,zh,ai){return yh&&yh.mergeDeepWith&&ea(zh)?yh.mergeDeepWith(xh,zh):xh?xh(yh,zh,ai):zh;};}function we(xh,yh,zh){zh=zh.filter(function(ai){return ai.size!==0;});if(zh.length===0)return xh;if(xh.size===0&&!xh.__ownerID&&zh.length===1)return xh.constructor(zh[0]);return xh.withMutations(function(ai){var bi=yh?function(di,ei){ai.update(ei,m,function(fi){return fi===m?di:yh(fi,di,ei);});}:function(di,ei){ai.set(ei,di);};for(var ci=0;ci<zh.length;ci++)zh[ci].forEach(bi);});}function xe(xh,yh,zh,ai){var bi=xh===m,ci=yh.next();if(ci.done){var di=bi?zh:xh,ei=ai(di);return ei===di?xh:ei;}tc(bi||(xh&&xh.set));var fi=ci.value,gi=bi?m:xh.get(fi,m),hi=xe(gi,yh,zh,ai);return hi===gi?xh:hi===m?xh.remove(fi):(bi?me():xh).set(fi,hi);}function ye(xh){xh=xh-((xh>>1)&1431655765);xh=(xh&858993459)+((xh>>2)&858993459);xh=(xh+(xh>>4))&252645135;xh=xh+(xh>>8);xh=xh+(xh>>16);return xh&127;}function ze(xh,yh,zh,ai){var bi=ai?xh:s(xh);bi[yh]=zh;return bi;}function af(xh,yh,zh,ai){var bi=xh.length+1;if(ai&&yh+1===bi){xh[yh]=zh;return xh;}var ci=new Array(bi),di=0;for(var ei=0;ei<bi;ei++)if(ei===yh){ci[ei]=zh;di=-1;}else ci[ei]=xh[ei+di];return ci;}function bf(xh,yh,zh){var ai=xh.length-1;if(zh&&yh===ai){xh.pop();return xh;}var bi=new Array(ai),ci=0;for(var di=0;di<ai;di++){if(di===yh)ci=1;bi[di]=xh[di+ci];}return bi;}var cf=k/4,df=k/2,ef=k/4;h(ff,vb);function ff(xh){var yh=pf();if(xh===null||xh===(void 0))return yh;if(gf(xh))return xh;var zh=ca(xh),ai=zh.size;if(ai===0)return yh;uc(ai);if(ai>0&&ai<k)return nf(0,ai,j,null,new kf(zh.toArray()));return yh.withMutations(function(bi){bi.setSize(ai);zh.forEach(function(ci,di){return bi.set(di,ci);});});}ff.of=function(){return this(arguments);};ff.prototype.toString=function(){return this.__toString('List [',']');};ff.prototype.get=function(xh,yh){xh=u(this,xh);if(xh<0||xh>=this.size)return yh;xh+=this._origin;var zh=tf(this,xh);return zh&&zh.array[xh&l];};ff.prototype.set=function(xh,yh){return qf(this,xh,yh);};ff.prototype.remove=function(xh){return !this.has(xh)?this:xh===0?this.shift():xh===this.size-1?this.pop():this.splice(xh,1);};ff.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=j;this._root=this._tail=null;this.__hash=(void 0);this.__altered=true;return this;}return pf();};ff.prototype.push=function(){var xh=arguments,yh=this.size;return this.withMutations(function(zh){uf(zh,0,yh+xh.length);for(var ai=0;ai<xh.length;ai++)zh.set(yh+ai,xh[ai]);});};ff.prototype.pop=function(){return uf(this,0,-1);};ff.prototype.unshift=function(){var xh=arguments;return this.withMutations(function(yh){uf(yh,-xh.length);for(var zh=0;zh<xh.length;zh++)yh.set(zh,xh[zh]);});};ff.prototype.shift=function(){return uf(this,1);};ff.prototype.merge=function(){return vf(this,(void 0),arguments);};ff.prototype.mergeWith=function(xh){var yh=g.call(arguments,1);return vf(this,xh,yh);};ff.prototype.mergeDeep=function(){return vf(this,ve((void 0)),arguments);};ff.prototype.mergeDeepWith=function(xh){var yh=g.call(arguments,1);return vf(this,ve(xh),yh);};ff.prototype.setSize=function(xh){return uf(this,0,xh);};ff.prototype.slice=function(xh,yh){var zh=this.size;if(w(xh,yh,zh))return this;return uf(this,x(xh,zh),y(yh,zh));};ff.prototype.__iterator=function(xh,yh){var zh=0,ai=mf(this,yh);return new ta(function(){var bi=ai();return bi===lf?va():ua(xh,zh++,bi);});};ff.prototype.__iterate=function(xh,yh){var zh=0,ai=mf(this,yh),bi;while((bi=ai())!==lf)if(xh(bi,zh++,this)===false)break;return zh;};ff.prototype.__ensureOwner=function(xh){if(xh===this.__ownerID)return this;if(!xh){this.__ownerID=xh;return this;}return nf(this._origin,this._capacity,this._level,this._root,this._tail,xh,this.__hash);};function gf(xh){return !!(xh&&xh[hf]);}ff.isList=gf;var hf='@@__IMMUTABLE_LIST__@@',jf=ff.prototype;jf[hf]=true;jf[i]=jf.remove;jf.setIn=be.setIn;jf.deleteIn=jf.removeIn=be.removeIn;jf.update=be.update;jf.updateIn=be.updateIn;jf.mergeIn=be.mergeIn;jf.mergeDeepIn=be.mergeDeepIn;jf.withMutations=be.withMutations;jf.asMutable=be.asMutable;jf.asImmutable=be.asImmutable;jf.wasAltered=be.wasAltered;function kf(xh,yh){this.array=xh;this.ownerID=yh;}kf.prototype.removeBefore=function(xh,yh,zh){if(zh===yh?1<<yh:this.array.length===0)return this;var ai=(zh>>>yh)&l;if(ai>=this.array.length)return new kf([],xh);var bi=ai===0,ci;if(yh>0){var di=this.array[ai];ci=di&&di.removeBefore(xh,yh-j,zh);if(ci===di&&bi)return this;}if(bi&&!ci)return this;var ei=sf(this,xh);if(!bi)for(var fi=0;fi<ai;fi++)ei.array[fi]=(void 0);if(ci)ei.array[ai]=ci;return ei;};kf.prototype.removeAfter=function(xh,yh,zh){if(zh===yh?1<<yh:this.array.length===0)return this;var ai=((zh-1)>>>yh)&l;if(ai>=this.array.length)return this;var bi=ai===this.array.length-1,ci;if(yh>0){var di=this.array[ai];ci=di&&di.removeAfter(xh,yh-j,zh);if(ci===di&&bi)return this;}if(bi&&!ci)return this;var ei=sf(this,xh);if(!bi)ei.array.pop();if(ci)ei.array[ai]=ci;return ei;};var lf={};function mf(xh,yh){var zh=xh._origin,ai=xh._capacity,bi=wf(ai),ci=xh._tail;return di(xh._root,xh._level,0);function di(gi,hi,ii){return hi===0?ei(gi,ii):fi(gi,hi,ii);}function ei(gi,hi){var ii=hi===bi?ci&&ci.array:gi&&gi.array,ji=hi>zh?0:zh-hi,ki=ai-hi;if(ki>k)ki=k;return function(){if(ji===ki)return lf;var li=yh?--ki:ji++;return ii&&ii[li];};}function fi(gi,hi,ii){var ji,ki=gi&&gi.array,li=ii>zh?0:(zh-ii)>>hi,mi=((ai-ii)>>hi)+1;if(mi>k)mi=k;return function(){do{if(ji){var ni=ji();if(ni!==lf)return ni;ji=null;}if(li===mi)return lf;var oi=yh?--mi:li++;ji=di(ki&&ki[oi],hi-j,ii+(oi<<hi));}while(true);};}}function nf(xh,yh,zh,ai,bi,ci,di){var ei=Object.create(jf);ei.size=yh-xh;ei._origin=xh;ei._capacity=yh;ei._level=zh;ei._root=ai;ei._tail=bi;ei.__ownerID=ci;ei.__hash=di;ei.__altered=false;return ei;}var of;function pf(){return of||(of=nf(0,0,j));}function qf(xh,yh,zh){yh=u(xh,yh);if(yh>=xh.size||yh<0)return xh.withMutations(function(di){yh<0?uf(di,yh).set(0,zh):uf(di,0,yh+1).set(yh,zh);});yh+=xh._origin;var ai=xh._tail,bi=xh._root,ci=p(o);if(yh>=wf(xh._capacity)){ai=rf(ai,xh.__ownerID,0,yh,zh,ci);}else bi=rf(bi,xh.__ownerID,xh._level,yh,zh,ci);if(!ci.value)return xh;if(xh.__ownerID){xh._root=bi;xh._tail=ai;xh.__hash=(void 0);xh.__altered=true;return xh;}return nf(xh._origin,xh._capacity,xh._level,bi,ai);}function rf(xh,yh,zh,ai,bi,ci){var di=(ai>>>zh)&l,ei=xh&&di<xh.array.length;if(!ei&&bi===(void 0))return xh;var fi;if(zh>0){var gi=xh&&xh.array[di],hi=rf(gi,yh,zh-j,ai,bi,ci);if(hi===gi)return xh;fi=sf(xh,yh);fi.array[di]=hi;return fi;}if(ei&&xh.array[di]===bi)return xh;q(ci);fi=sf(xh,yh);if(bi===(void 0)&&di===fi.array.length-1){fi.array.pop();}else fi.array[di]=bi;return fi;}function sf(xh,yh){if(yh&&xh&&yh===xh.ownerID)return xh;return new kf(xh?xh.array.slice():[],yh);}function tf(xh,yh){if(yh>=wf(xh._capacity))return xh._tail;if(yh<1<<(xh._level+j)){var zh=xh._root,ai=xh._level;while(zh&&ai>0){zh=zh.array[(yh>>>ai)&l];ai-=j;}return zh;}}function uf(xh,yh,zh){var ai=xh.__ownerID||new r(),bi=xh._origin,ci=xh._capacity,di=bi+yh,ei=zh===(void 0)?ci:zh<0?ci+zh:bi+zh;if(di===bi&&ei===ci)return xh;if(di>=ei)return xh.clear();var fi=xh._level,gi=xh._root,hi=0;while(di+hi<0){gi=new kf(gi&&gi.array.length?[(void 0),gi]:[],ai);fi+=j;hi+=1<<fi;}if(hi){di+=hi;bi+=hi;ei+=hi;ci+=hi;}var ii=wf(ci),ji=wf(ei);while(ji>=1<<(fi+j)){gi=new kf(gi&&gi.array.length?[gi]:[],ai);fi+=j;}var ki=xh._tail,li=ji<ii?tf(xh,ei-1):ji>ii?new kf([],ai):ki;if(ki&&ji>ii&&di<ci&&ki.array.length){gi=sf(gi,ai);var mi=gi;for(var ni=fi;ni>j;ni-=j){var oi=(ii>>>ni)&l;mi=mi.array[oi]=sf(mi.array[oi],ai);}mi.array[(ii>>>j)&l]=ki;}if(ei<ci)li=li&&li.removeAfter(ai,0,ei);if(di>=ji){di-=ji;ei-=ji;fi=j;gi=null;li=li&&li.removeBefore(ai,0,di);}else if(di>bi||ji<ii){hi=0;while(gi){var pi=(di>>>fi)&l;if(pi!==(ji>>>fi)&l)break;if(pi)hi+=(1<<fi)*pi;fi-=j;gi=gi.array[pi];}if(gi&&di>bi)gi=gi.removeBefore(ai,fi,di-hi);if(gi&&ji<ii)gi=gi.removeAfter(ai,fi,ji-hi);if(hi){di-=hi;ei-=hi;}}if(xh.__ownerID){xh.size=ei-di;xh._origin=di;xh._capacity=ei;xh._level=fi;xh._root=gi;xh._tail=li;xh.__hash=(void 0);xh.__altered=true;return xh;}return nf(di,ei,fi,gi,li);}function vf(xh,yh,zh){var ai=[],bi=0;for(var ci=0;ci<zh.length;ci++){var di=zh[ci],ei=ca(di);if(ei.size>bi)bi=ei.size;if(!ea(di))ei=ei.map(function(fi){return yb(fi);});ai.push(ei);}if(bi>xh.size)xh=xh.setSize(bi);return we(xh,yh,ai);}function wf(xh){return xh<k?0:(((xh-1)>>>j)<<j);}h(xf,yd);function xf(xh){return xh===null||xh===(void 0)?bg():yf(xh)?xh:bg().withMutations(function(yh){var zh=ba(xh);uc(zh.size);zh.forEach(function(ai,bi){return yh.set(bi,ai);});});}xf.of=function(){return this(arguments);};xf.prototype.toString=function(){return this.__toString('OrderedMap {','}');};xf.prototype.get=function(xh,yh){var zh=this._map.get(xh);return zh!==(void 0)?this._list.get(zh)[1]:yh;};xf.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this;}return bg();};xf.prototype.set=function(xh,yh){return cg(this,xh,yh);};xf.prototype.remove=function(xh){return cg(this,xh,m);};xf.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered();};xf.prototype.__iterate=function(xh,yh){var zh=this;return this._list.__iterate(function(ai){return ai&&xh(ai[1],ai[0],zh);},yh);};xf.prototype.__iterator=function(xh,yh){return this._list.fromEntrySeq().__iterator(xh,yh);};xf.prototype.__ensureOwner=function(xh){if(xh===this.__ownerID)return this;var yh=this._map.__ensureOwner(xh),zh=this._list.__ensureOwner(xh);if(!xh){this.__ownerID=xh;this._map=yh;this._list=zh;return this;}return zf(yh,zh,xh,this.__hash);};function yf(xh){return zd(xh)&&ia(xh);}xf.isOrderedMap=yf;xf.prototype[ma]=true;xf.prototype[i]=xf.prototype.remove;function zf(xh,yh,zh,ai){var bi=Object.create(xf.prototype);bi.size=xh?xh.size:0;bi._map=xh;bi._list=yh;bi.__ownerID=zh;bi.__hash=ai;return bi;}var ag;function bg(){return ag||(ag=zf(me(),pf()));}function cg(xh,yh,zh){var ai=xh._map,bi=xh._list,ci=ai.get(yh),di=ci!==(void 0),ei,fi;if(zh===m){if(!di)return xh;if(bi.size>=k&&bi.size>=ai.size*2){fi=bi.filter(function(gi,hi){return gi!==(void 0)&&ci!==hi;});ei=fi.toKeyedSeq().map(function(gi){return gi[0];}).flip().toMap();if(xh.__ownerID)ei.__ownerID=fi.__ownerID=xh.__ownerID;}else{ei=ai.remove(yh);fi=ci===bi.size-1?bi.pop():bi.set(ci,(void 0));}}else if(di){if(zh===bi.get(ci)[1])return xh;ei=ai;fi=bi.set(ci,[yh,zh]);}else{ei=ai.set(yh,bi.size);fi=bi.set(bi.size,[yh,zh]);}if(xh.__ownerID){xh.size=ei.size;xh._map=ei;xh._list=fi;xh.__hash=(void 0);return xh;}return zf(ei,fi);}h(dg,vb);function dg(xh){return xh===null||xh===(void 0)?jg():eg(xh)?xh:jg().unshiftAll(xh);}dg.of=function(){return this(arguments);};dg.prototype.toString=function(){return this.__toString('Stack [',']');};dg.prototype.get=function(xh,yh){var zh=this._head;xh=u(this,xh);while(zh&&xh--)zh=zh.next;return zh?zh.value:yh;};dg.prototype.peek=function(){return this._head&&this._head.value;};dg.prototype.push=function(){if(arguments.length===0)return this;var xh=this.size+arguments.length,yh=this._head;for(var zh=arguments.length-1;zh>=0;zh--)yh={value:arguments[zh],next:yh};if(this.__ownerID){this.size=xh;this._head=yh;this.__hash=(void 0);this.__altered=true;return this;}return hg(xh,yh);};dg.prototype.pushAll=function(xh){xh=ca(xh);if(xh.size===0)return this;uc(xh.size);var yh=this.size,zh=this._head;xh.reverse().forEach(function(ai){yh++;zh={value:ai,next:zh};});if(this.__ownerID){this.size=yh;this._head=zh;this.__hash=(void 0);this.__altered=true;return this;}return hg(yh,zh);};dg.prototype.pop=function(){return this.slice(1);};dg.prototype.unshift=function(){return this.push.apply(this,arguments);};dg.prototype.unshiftAll=function(xh){return this.pushAll(xh);};dg.prototype.shift=function(){return this.pop.apply(this,arguments);};dg.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=(void 0);this.__hash=(void 0);this.__altered=true;return this;}return jg();};dg.prototype.slice=function(xh,yh){if(w(xh,yh,this.size))return this;var zh=x(xh,this.size),ai=y(yh,this.size);if(ai!==this.size)return vb.prototype.slice.call(this,xh,yh);var bi=this.size-zh,ci=this._head;while(zh--)ci=ci.next;if(this.__ownerID){this.size=bi;this._head=ci;this.__hash=(void 0);this.__altered=true;return this;}return hg(bi,ci);};dg.prototype.__ensureOwner=function(xh){if(xh===this.__ownerID)return this;if(!xh){this.__ownerID=xh;this.__altered=false;return this;}return hg(this.size,this._head,xh,this.__hash);};dg.prototype.__iterate=function(xh,yh){if(yh)return this.reverse().__iterate(xh);var zh=0,ai=this._head;while(ai){if(xh(ai.value,zh++,this)===false)break;ai=ai.next;}return zh;};dg.prototype.__iterator=function(xh,yh){if(yh)return this.reverse().__iterator(xh);var zh=0,ai=this._head;return new ta(function(){if(ai){var bi=ai.value;ai=ai.next;return ua(xh,zh++,bi);}return va();});};function eg(xh){return !!(xh&&xh[fg]);}dg.isStack=eg;var fg='@@__IMMUTABLE_STACK__@@',gg=dg.prototype;gg[fg]=true;gg.withMutations=be.withMutations;gg.asMutable=be.asMutable;gg.asImmutable=be.asImmutable;gg.wasAltered=be.wasAltered;function hg(xh,yh,zh,ai){var bi=Object.create(gg);bi.size=xh;bi._head=yh;bi.__ownerID=zh;bi.__hash=ai;bi.__altered=false;return bi;}var ig;function jg(){return ig||(ig=hg(0));}h(kg,wb);function kg(xh){return xh===null||xh===(void 0)?rg():lg(xh)?xh:rg().withMutations(function(yh){var zh=da(xh);uc(zh.size);zh.forEach(function(ai){return yh.add(ai);});});}kg.of=function(){return this(arguments);};kg.fromKeys=function(xh){return this(ba(xh).keySeq());};kg.prototype.toString=function(){return this.__toString('Set {','}');};kg.prototype.has=function(xh){return this._map.has(xh);};kg.prototype.add=function(xh){return og(this,this._map.set(xh,true));};kg.prototype.remove=function(xh){return og(this,this._map.remove(xh));};kg.prototype.clear=function(){return og(this,this._map.clear());};kg.prototype.union=function(){var xh=g.call(arguments,0);xh=xh.filter(function(yh){return yh.size!==0;});if(xh.length===0)return this;if(this.size===0&&!this.__ownerID&&xh.length===1)return this.constructor(xh[0]);return this.withMutations(function(yh){for(var zh=0;zh<xh.length;zh++)da(xh[zh]).forEach(function(ai){return yh.add(ai);});});};kg.prototype.intersect=function(){var xh=g.call(arguments,0);if(xh.length===0)return this;xh=xh.map(function(zh){return da(zh);});var yh=this;return this.withMutations(function(zh){yh.forEach(function(ai){if(!xh.every(function(bi){return bi.includes(ai);}))zh.remove(ai);});});};kg.prototype.subtract=function(){var xh=g.call(arguments,0);if(xh.length===0)return this;xh=xh.map(function(zh){return da(zh);});var yh=this;return this.withMutations(function(zh){yh.forEach(function(ai){if(xh.some(function(bi){return bi.includes(ai);}))zh.remove(ai);});});};kg.prototype.merge=function(){return this.union.apply(this,arguments);};kg.prototype.mergeWith=function(xh){var yh=g.call(arguments,1);return this.union.apply(this,yh);};kg.prototype.sort=function(xh){return sg(md(this,xh));};kg.prototype.sortBy=function(xh,yh){return sg(md(this,yh,xh));};kg.prototype.wasAltered=function(){return this._map.wasAltered();};kg.prototype.__iterate=function(xh,yh){var zh=this;return this._map.__iterate(function(ai,bi){return xh(bi,bi,zh);},yh);};kg.prototype.__iterator=function(xh,yh){return this._map.map(function(zh,ai){return ai;}).__iterator(xh,yh);};kg.prototype.__ensureOwner=function(xh){if(xh===this.__ownerID)return this;var yh=this._map.__ensureOwner(xh);if(!xh){this.__ownerID=xh;this._map=yh;return this;}return this.__make(yh,xh);};function lg(xh){return !!(xh&&xh[mg]);}kg.isSet=lg;var mg='@@__IMMUTABLE_SET__@@',ng=kg.prototype;ng[mg]=true;ng[i]=ng.remove;ng.mergeDeep=ng.merge;ng.mergeDeepWith=ng.mergeWith;ng.withMutations=be.withMutations;ng.asMutable=be.asMutable;ng.asImmutable=be.asImmutable;ng.__empty=rg;ng.__make=pg;function og(xh,yh){if(xh.__ownerID){xh.size=yh.size;xh._map=yh;return xh;}return yh===xh._map?xh:yh.size===0?xh.__empty():xh.__make(yh);}function pg(xh,yh){var zh=Object.create(ng);zh.size=xh?xh.size:0;zh._map=xh;zh.__ownerID=yh;return zh;}var qg;function rg(){return qg||(qg=pg(me()));}h(sg,kg);function sg(xh){return xh===null||xh===(void 0)?xg():tg(xh)?xh:xg().withMutations(function(yh){var zh=da(xh);uc(zh.size);zh.forEach(function(ai){return yh.add(ai);});});}sg.of=function(){return this(arguments);};sg.fromKeys=function(xh){return this(ba(xh).keySeq());};sg.prototype.toString=function(){return this.__toString('OrderedSet {','}');};function tg(xh){return lg(xh)&&ia(xh);}sg.isOrderedSet=tg;var ug=sg.prototype;ug[ma]=true;ug.__empty=xg;ug.__make=vg;function vg(xh,yh){var zh=Object.create(ug);zh.size=xh?xh.size:0;zh._map=xh;zh.__ownerID=yh;return zh;}var wg;function xg(){return wg||(wg=vg(bg()));}h(yg,ub);function yg(xh,yh){var zh,ai=function ci(di){if(di instanceof ai)return di;if(!(this instanceof ai))return new ai(di);if(!zh){zh=true;var ei=Object.keys(xh);ch(bi,ei);bi.size=ei.length;bi._name=yh;bi._keys=ei;bi._defaultValues=xh;}this._map=yd(di);},bi=ai.prototype=Object.create(zg);bi.constructor=ai;return ai;}yg.prototype.toString=function(){return this.__toString(bh(this)+' {','}');};yg.prototype.has=function(xh){return this._defaultValues.hasOwnProperty(xh);};yg.prototype.get=function(xh,yh){if(!this.has(xh))return yh;var zh=this._defaultValues[xh];return this._map?this._map.get(xh,zh):zh;};yg.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this;}var xh=this.constructor;return xh._empty||(xh._empty=ah(this,me()));};yg.prototype.set=function(xh,yh){if(!this.has(xh))throw new Error('Cannot set unknown key "'+xh+'" on '+bh(this));var zh=this._map&&this._map.set(xh,yh);if(this.__ownerID||zh===this._map)return this;return ah(this,zh);};yg.prototype.remove=function(xh){if(!this.has(xh))return this;var yh=this._map&&this._map.remove(xh);if(this.__ownerID||yh===this._map)return this;return ah(this,yh);};yg.prototype.wasAltered=function(){return this._map.wasAltered();};yg.prototype.__iterator=function(xh,yh){var zh=this;return ba(this._defaultValues).map(function(ai,bi){return zh.get(bi);}).__iterator(xh,yh);};yg.prototype.__iterate=function(xh,yh){var zh=this;return ba(this._defaultValues).map(function(ai,bi){return zh.get(bi);}).__iterate(xh,yh);};yg.prototype.__ensureOwner=function(xh){if(xh===this.__ownerID)return this;var yh=this._map&&this._map.__ensureOwner(xh);if(!xh){this.__ownerID=xh;this._map=yh;return this;}return ah(this,yh,xh);};var zg=yg.prototype;zg[i]=zg.remove;zg.deleteIn=zg.removeIn=be.removeIn;zg.merge=be.merge;zg.mergeWith=be.mergeWith;zg.mergeIn=be.mergeIn;zg.mergeDeep=be.mergeDeep;zg.mergeDeepWith=be.mergeDeepWith;zg.mergeDeepIn=be.mergeDeepIn;zg.setIn=be.setIn;zg.update=be.update;zg.updateIn=be.updateIn;zg.withMutations=be.withMutations;zg.asMutable=be.asMutable;zg.asImmutable=be.asImmutable;function ah(xh,yh,zh){var ai=Object.create(Object.getPrototypeOf(xh));ai._map=yh;ai.__ownerID=zh;return ai;}function bh(xh){return xh._name||xh.constructor.name||'Record';}function ch(xh,yh){try{yh.forEach(dh.bind((void 0),xh));}catch(zh){}}function dh(xh,yh){Object.defineProperty(xh,yh,{get:function(){return this.get(yh);},set:function(zh){tc(this.__ownerID);this.set(yh,zh);}});}function eh(xh,yh){if(xh===yh)return true;if(!ea(yh)||xh.size!==(void 0)&&yh.size!==(void 0)&&xh.size!==yh.size||xh.__hash!==(void 0)&&yh.__hash!==(void 0)&&xh.__hash!==yh.__hash||fa(xh)!==fa(yh)||ga(xh)!==ga(yh)||ia(xh)!==ia(yh))return false;if(xh.size===0&&yh.size===0)return true;var zh=!ha(xh);if(ia(xh)){var ai=xh.entries();return yh.every(function(fi,gi){var hi=ai.next().value;return hi&&xb(hi[1],fi)&&(zh||xb(hi[0],gi));})&&ai.next().done;}var bi=false;if(xh.size===(void 0))if(yh.size===(void 0)){if(typeof xh.cacheResult==='function')xh.cacheResult();}else{bi=true;var ci=xh;xh=yh;yh=ci;}var di=true,ei=yh.__iterate(function(fi,gi){if(zh?!xh.has(fi):bi?!xb(fi,xh.get(gi,m)):!xb(xh.get(gi,m),fi)){di=false;return false;}});return di&&xh.size===ei;}h(fh,db);function fh(xh,yh,zh){if(!(this instanceof fh))return new fh(xh,yh,zh);tc(zh!==0);xh=xh||0;if(yh===(void 0))yh=Infinity;zh=zh===(void 0)?1:Math.abs(zh);if(yh<xh)zh=-zh;this._start=xh;this._end=yh;this._step=zh;this.size=Math.max(0,Math.ceil((yh-xh)/zh-1)+1);if(this.size===0){if(gh)return gh;gh=this;}}fh.prototype.toString=function(){if(this.size===0)return 'Range []';return 'Range [ '+this._start+'...'+this._end+(this._step>1?' by '+this._step:'')+' ]';};fh.prototype.get=function(xh,yh){return this.has(xh)?this._start+u(this,xh)*this._step:yh;};fh.prototype.includes=function(xh){var yh=(xh-this._start)/this._step;return yh>=0&&yh<this.size&&yh===Math.floor(yh);};fh.prototype.slice=function(xh,yh){if(w(xh,yh,this.size))return this;xh=x(xh,this.size);yh=y(yh,this.size);if(yh<=xh)return new fh(0,0);return new fh(this.get(xh,this._end),this.get(yh,this._end),this._step);};fh.prototype.indexOf=function(xh){var yh=xh-this._start;if(yh%this._step===0){var zh=yh/this._step;if(zh>=0&&zh<this.size)return zh;}return -1;};fh.prototype.lastIndexOf=function(xh){return this.indexOf(xh);};fh.prototype.__iterate=function(xh,yh){var zh=this.size-1,ai=this._step,bi=yh?this._start+zh*ai:this._start;for(var ci=0;ci<=zh;ci++){if(xh(bi,ci,this)===false)return ci+1;bi+=yh?-ai:ai;}return ci;};fh.prototype.__iterator=function(xh,yh){var zh=this.size-1,ai=this._step,bi=yh?this._start+zh*ai:this._start,ci=0;return new ta(function(){var di=bi;bi+=yh?-ai:ai;return ci>zh?va():ua(xh,ci++,di);});};fh.prototype.equals=function(xh){return xh instanceof fh?this._start===xh._start&&this._end===xh._end&&this._step===xh._step:eh(this,xh);};var gh;h(hh,db);function hh(xh,yh){if(!(this instanceof hh))return new hh(xh,yh);this._value=xh;this.size=yh===(void 0)?Infinity:Math.max(0,yh);if(this.size===0){if(ih)return ih;ih=this;}}hh.prototype.toString=function(){if(this.size===0)return 'Repeat []';return 'Repeat [ '+this._value+' '+this.size+' times ]';};hh.prototype.get=function(xh,yh){return this.has(xh)?this._value:yh;};hh.prototype.includes=function(xh){return xb(this._value,xh);};hh.prototype.slice=function(xh,yh){var zh=this.size;return w(xh,yh,zh)?this:new hh(this._value,y(yh,zh)-x(xh,zh));};hh.prototype.reverse=function(){return this;};hh.prototype.indexOf=function(xh){if(xb(this._value,xh))return 0;return -1;};hh.prototype.lastIndexOf=function(xh){if(xb(this._value,xh))return this.size;return -1;};hh.prototype.__iterate=function(xh,yh){for(var zh=0;zh<this.size;zh++)if(xh(this._value,zh,this)===false)return zh+1;return zh;};hh.prototype.__iterator=function(xh,yh){var zh=this,ai=0;return new ta(function(){return ai<zh.size?ua(xh,ai++,zh._value):va();});};hh.prototype.equals=function(xh){return xh instanceof hh?xb(this._value,xh._value):eh(xh);};var ih;function jh(xh,yh){var zh=function(ai){xh.prototype[ai]=yh[ai];};Object.keys(yh).forEach(zh);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(yh).forEach(zh);return xh;}aa.Iterator=ta;jh(aa,{toArray:function(){uc(this.size);var xh=new Array(this.size||0);this.valueSeq().__iterate(function(yh,zh){xh[zh]=yh;});return xh;},toIndexedSeq:function(){return new wc(this);},toJS:function(){return this.toSeq().map(function(xh){return xh&&typeof xh.toJS==='function'?xh.toJS():xh;}).__toJS();},toJSON:function(){return this.toSeq().map(function(xh){return xh&&typeof xh.toJSON==='function'?xh.toJSON():xh;}).__toJS();},toKeyedSeq:function(){return new vc(this,true);},toMap:function(){return yd(this.toKeyedSeq());},toObject:function(){uc(this.size);var xh={};this.__iterate(function(yh,zh){xh[zh]=yh;});return xh;},toOrderedMap:function(){return xf(this.toKeyedSeq());},toOrderedSet:function(){return sg(fa(this)?this.valueSeq():this);},toSet:function(){return kg(fa(this)?this.valueSeq():this);},toSetSeq:function(){return new xc(this);},toSeq:function(){return ga(this)?this.toIndexedSeq():fa(this)?this.toKeyedSeq():this.toSetSeq();},toStack:function(){return dg(fa(this)?this.valueSeq():this);},toList:function(){return ff(fa(this)?this.valueSeq():this);},toString:function(){return '[Iterable]';},__toString:function(xh,yh){if(this.size===0)return xh+yh;return xh+' '+this.toSeq().map(this.__toStringMapper).join(', ')+' '+yh;},concat:function(){var xh=g.call(arguments,0);return qd(this,id(this,xh));},contains:function(xh){return this.includes(xh);},includes:function(xh){return this.some(function(yh){return xb(yh,xh);});},entries:function(){return this.__iterator(pa);},every:function(xh,yh){uc(this.size);var zh=true;this.__iterate(function(ai,bi,ci){if(!xh.call(yh,ai,bi,ci)){zh=false;return false;}});return zh;},filter:function(xh,yh){return qd(this,cd(this,xh,yh,true));},find:function(xh,yh,zh){var ai=this.findEntry(xh,yh);return ai?ai[1]:zh;},findEntry:function(xh,yh){var zh;this.__iterate(function(ai,bi,ci){if(xh.call(yh,ai,bi,ci)){zh=[bi,ai];return false;}});return zh;},findLastEntry:function(xh,yh){return this.toSeq().reverse().findEntry(xh,yh);},forEach:function(xh,yh){uc(this.size);return this.__iterate(yh?xh.bind(yh):xh);},join:function(xh){uc(this.size);xh=xh!==(void 0)?''+xh:',';var yh='',zh=true;this.__iterate(function(ai){zh?(zh=false):(yh+=xh);yh+=ai!==null&&ai!==(void 0)?ai.toString():'';});return yh;},keys:function(){return this.__iterator(na);},map:function(xh,yh){return qd(this,ad(this,xh,yh));},reduce:function(xh,yh,zh){uc(this.size);var ai,bi;if(arguments.length<2){bi=true;}else ai=yh;this.__iterate(function(ci,di,ei){if(bi){bi=false;ai=ci;}else ai=xh.call(zh,ai,ci,di,ei);});return ai;},reduceRight:function(xh,yh,zh){var ai=this.toKeyedSeq().reverse();return ai.reduce.apply(ai,arguments);},reverse:function(){return qd(this,bd(this,true));},slice:function(xh,yh){return qd(this,fd(this,xh,yh,true));},some:function(xh,yh){return !this.every(oh(xh),yh);},sort:function(xh){return qd(this,md(this,xh));},values:function(){return this.__iterator(oa);},butLast:function(){return this.slice(0,-1);},isEmpty:function(){return this.size!==(void 0)?this.size===0:!this.some(function(){return true;});},count:function(xh,yh){return t(xh?this.toSeq().filter(xh,yh):this);},countBy:function(xh,yh){return dd(this,xh,yh);},equals:function(xh){return eh(this,xh);},entrySeq:function(){var xh=this;if(xh._cache)return new gb(xh._cache);var yh=xh.toSeq().map(nh).toIndexedSeq();yh.fromEntrySeq=function(){return xh.toSeq();};return yh;},filterNot:function(xh,yh){return this.filter(oh(xh),yh);},findLast:function(xh,yh,zh){return this.toKeyedSeq().reverse().find(xh,yh,zh);},first:function(){return this.find(v);},flatMap:function(xh,yh){return qd(this,kd(this,xh,yh));},flatten:function(xh){return qd(this,jd(this,xh,true));},fromEntrySeq:function(){return new yc(this);},get:function(xh,yh){return this.find(function(zh,ai){return xb(ai,xh);},(void 0),yh);},getIn:function(xh,yh){var zh=this,ai=xd(xh),bi;while(!(bi=ai.next()).done){var ci=bi.value;zh=zh&&zh.get?zh.get(ci,m):m;if(zh===m)return yh;}return zh;},groupBy:function(xh,yh){return ed(this,xh,yh);},has:function(xh){return this.get(xh,m)!==m;},hasIn:function(xh){return this.getIn(xh,m)!==m;},isSubset:function(xh){xh=typeof xh.includes==='function'?xh:aa(xh);return this.every(function(yh){return xh.includes(yh);});},isSuperset:function(xh){return xh.isSubset(this);},keySeq:function(){return this.toSeq().map(mh).toIndexedSeq();},last:function(){return this.toSeq().reverse().first();},max:function(xh){return nd(this,xh);},maxBy:function(xh,yh){return nd(this,yh,xh);},min:function(xh){return nd(this,xh?ph(xh):sh);},minBy:function(xh,yh){return nd(this,yh?ph(yh):sh,xh);},rest:function(){return this.slice(1);},skip:function(xh){return this.slice(Math.max(0,xh));},skipLast:function(xh){return qd(this,this.toSeq().reverse().skip(xh).reverse());},skipWhile:function(xh,yh){return qd(this,hd(this,xh,yh,true));},skipUntil:function(xh,yh){return this.skipWhile(oh(xh),yh);},sortBy:function(xh,yh){return qd(this,md(this,yh,xh));},take:function(xh){return this.slice(0,Math.max(0,xh));},takeLast:function(xh){return qd(this,this.toSeq().reverse().take(xh).reverse());},takeWhile:function(xh,yh){return qd(this,gd(this,xh,yh));},takeUntil:function(xh,yh){return this.takeWhile(oh(xh),yh);},valueSeq:function(){return this.toIndexedSeq();},hashCode:function(){return this.__hash||(this.__hash=th(this));}});var kh=aa.prototype;kh[ja]=true;kh[sa]=kh.values;kh.__toJS=kh.toArray;kh.__toStringMapper=qh;kh.inspect=kh.toSource=function(){return this.toString();};kh.chain=kh.flatMap;(function(){try{Object.defineProperty(kh,'length',{get:function(){if(!aa.noLengthWarning){var yh;try{throw new Error();}catch(zh){yh=zh.stack;}if(yh.indexOf('_wrapObject')===-1){console&&emptyFunction&&false;return this.size;}}}});}catch(xh){}})();jh(ba,{flip:function(){return qd(this,zc(this));},findKey:function(xh,yh){var zh=this.findEntry(xh,yh);return zh&&zh[0];},findLastKey:function(xh,yh){return this.toSeq().reverse().findKey(xh,yh);},keyOf:function(xh){return this.findKey(function(yh){return xb(yh,xh);});},lastKeyOf:function(xh){return this.findLastKey(function(yh){return xb(yh,xh);});},mapEntries:function(xh,yh){var zh=this,ai=0;return qd(this,this.toSeq().map(function(bi,ci){return xh.call(yh,[ci,bi],ai++,zh);}).fromEntrySeq());},mapKeys:function(xh,yh){var zh=this;return qd(this,this.toSeq().flip().map(function(ai,bi){return xh.call(yh,ai,bi,zh);}).flip());}});var lh=ba.prototype;lh[ka]=true;lh[sa]=kh.entries;lh.__toJS=kh.toObject;lh.__toStringMapper=function(xh,yh){return JSON.stringify(yh)+': '+qh(xh);};jh(ca,{toKeyedSeq:function(){return new vc(this,false);},filter:function(xh,yh){return qd(this,cd(this,xh,yh,false));},findIndex:function(xh,yh){var zh=this.findEntry(xh,yh);return zh?zh[0]:-1;},indexOf:function(xh){var yh=this.toKeyedSeq().keyOf(xh);return yh===(void 0)?-1:yh;},lastIndexOf:function(xh){return this.toSeq().reverse().indexOf(xh);},reverse:function(){return qd(this,bd(this,false));},slice:function(xh,yh){return qd(this,fd(this,xh,yh,false));},splice:function(xh,yh){var zh=arguments.length;yh=Math.max(yh|0,0);if(zh===0||(zh===2&&!yh))return this;xh=x(xh,this.size);var ai=this.slice(0,xh);return qd(this,zh===1?ai:ai.concat(s(arguments,2),this.slice(xh+yh)));},findLastIndex:function(xh,yh){var zh=this.toKeyedSeq().findLastKey(xh,yh);return zh===(void 0)?-1:zh;},first:function(){return this.get(0);},flatten:function(xh){return qd(this,jd(this,xh,false));},get:function(xh,yh){xh=u(this,xh);return (xh<0||(this.size===Infinity||(this.size!==(void 0)&&xh>this.size)))?yh:this.find(function(zh,ai){return ai===xh;},(void 0),yh);},has:function(xh){xh=u(this,xh);return xh>=0&&(this.size!==(void 0)?this.size===Infinity||xh<this.size:this.indexOf(xh)!==-1);},interpose:function(xh){return qd(this,ld(this,xh));},interleave:function(){var xh=[this].concat(s(arguments)),yh=pd(this.toSeq(),db.of,xh),zh=yh.flatten(true);if(yh.size)zh.size=yh.size*xh.length;return qd(this,zh);},last:function(){return this.get(-1);},skipWhile:function(xh,yh){return qd(this,hd(this,xh,yh,false));},zip:function(){var xh=[this].concat(s(arguments));return qd(this,pd(this,rh,xh));},zipWith:function(xh){var yh=s(arguments);yh[0]=this;return qd(this,pd(this,xh,yh));}});ca.prototype[la]=true;ca.prototype[ma]=true;jh(da,{get:function(xh,yh){return this.has(xh)?xh:yh;},includes:function(xh){return this.has(xh);},keySeq:function(){return this.valueSeq();}});da.prototype.has=kh.includes;jh(cb,ba.prototype);jh(db,ca.prototype);jh(eb,da.prototype);jh(ub,ba.prototype);jh(vb,ca.prototype);jh(wb,da.prototype);function mh(xh,yh){return yh;}function nh(xh,yh){return [yh,xh];}function oh(xh){return function(){return !xh.apply(this,arguments);};}function ph(xh){return function(){return -xh.apply(this,arguments);};}function qh(xh){return typeof xh==='string'?JSON.stringify(xh):xh;}function rh(){return s(arguments);}function sh(xh,yh){return xh<yh?1:xh>yh?-1:0;}function th(xh){if(xh.size===Infinity)return 0;var yh=ia(xh),zh=fa(xh),ai=yh?1:0,bi=xh.__iterate(zh?yh?function(ci,di){ai=31*ai+vh(ec(ci),ec(di))|0;}:function(ci,di){ai=ai+vh(ec(ci),ec(di))|0;}:yh?function(ci){ai=31*ai+ec(ci)|0;}:function(ci){ai=ai+ec(ci)|0;});return uh(bi,ai);}function uh(xh,yh){yh=cc(yh,3432918353);yh=cc(yh<<15|yh>>>-15,461845907);yh=cc(yh<<13|yh>>>-13,5);yh=(yh+3864292196|0)^xh;yh=cc(yh^yh>>>16,2246822507);yh=cc(yh^yh>>>13,3266489909);yh=dc(yh^yh>>>16);return yh;}function vh(xh,yh){return xh^yh+2654435769+(xh<<6)+(xh>>2)|0;}var wh={Iterable:aa,Seq:bb,Collection:tb,Map:yd,OrderedMap:xf,List:ff,Stack:dg,Set:kg,OrderedSet:sg,Record:yg,Range:fh,Repeat:hh,is:xb,fromJS:yb};return wh;}));},null);
__d("UFIMentionsInputProxy.react",["Bootloader","immutable","React","cx","emptyFunction","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=0,n=i.createClass({displayName:"UFIMentionsInputProxy",getInitialState:function(){return {cmdBuffer:h.List(),component:null};},componentDidMount:function(){if(this.props.initialData)this._bootload();},componentDidUpdate:function(){if(this.state.component&&this._shouldDrainBuffer()){m++;l(function(){m--;this._execCmd(this._drainFnBuffer());}.bind(this));}},hasEnteredText:function(){return this._fillCmdBuffer({fn:'hasEnteredText',args:[]});},setSignature:function(o){this._fillCmdBuffer({fn:'setSignature',args:[o]});},focus:function(){this._bootload();this._fillCmdBuffer({fn:'focus',args:[]});},submitComment:function(event){this._fillCmdBuffer({fn:'submitComment',args:[event]});},insertMention:function(o){this._fillCmdBuffer({fn:'insertMention',args:[o]});},insertEmoticon:function(o){this._fillCmdBuffer({fn:'insertEmoticon',args:[o]});},_bootload:function(){g.loadModules(["UFIMentionsInput.react"],function(o){return this.setState({component:o});}.bind(this));},_shouldDrainBuffer:function(){var o=this.state.cmdBuffer.size;return o>0&&m<o;},_fillCmdBuffer:function(o){if(this.refs.mentionsinputchild){return this._execCmd(o);}else this.setState({cmdBuffer:this.state.cmdBuffer.push(o)});},_drainFnBuffer:function(){var o=this.state.cmdBuffer.first();this.setState({cmdBuffer:this.state.cmdBuffer.shift()});return o;},_execCmd:function(o){var p=this.refs.mentionsinputchild;return p[o.fn].apply(p,o.args);},_renderProxyInput:function(){var o="_1osa mentionsHidden";return (i.createElement("input",{className:o,name:"add_comment_text",ref:"proxyInput",onFocus:this.focus,tabIndex:"-1"}));},_renderDummy:function(){var o="UFIAddCommentInput _1osb _1osc";return (i.createElement("div",{onFocus:this.focus,onClick:this.focus,onTouchStart:k,onMouseOver:this._bootload},i.createElement("div",{className:o},this._renderProxyInput(),this.props.placeholder)));},render:function(){var o=this.state.component;if(!o)return this._renderDummy();return (i.createElement(o,i.__spread({key:"mentionsinputchild",ref:"mentionsinputchild"},this.props),this.props.children));}});e.exports=n;},null);
__d("MentionsInputTypeaheadView.react",["MentionsTypeaheadViewItem.react","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=h,k=j.PropTypes,l=h.createClass({displayName:"MentionsInputTypeaheadView",propTypes:{id:k.string,highlightedEntry:k.object,entries:k.array.isRequired,onSelect:k.func.isRequired,onHighlight:k.func,onRenderHighlight:k.func},_renderItem:function(m){var n=m===this.props.highlightedEntry;return (h.createElement(g,{key:m.getUniqueID(),entry:m,highlighted:n,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));},render:function(){var m=(("_5u8_")+(!this.props.entries.length?' '+"_5u90":''));return (h.createElement("ul",{className:m,role:"listbox",id:this.props.id},this.props.entries.map(this._renderItem)));}});e.exports=l;},null);
__d("XUIButton.react",["AbstractButton.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=h,l=k.PropTypes,m='medium',n=h.createClass({displayName:"XUIButton",statics:{getButtonSize:function(o){return o.size||m;}},propTypes:{use:l.oneOf(['default','special','confirm']),size:l.oneOf(['small','medium','large','xlarge','xxlarge']),borderShade:l.oneOf(['light','dark']),suppressed:l.bool},getDefaultProps:function(){return {use:'default',size:m,borderShade:'light',suppressed:false};},render:function(){var o=this.props.use,p=n.getButtonSize(this.props),q=this.props.borderShade,r=this.props.suppressed,s=(("_4jy0")+(p==='small'?' '+"_517i":'')+(p==='medium'?' '+"_4jy3":'')+(p==='large'?' '+"_4jy4":'')+(p==='xlarge'?' '+"_4jy5":'')+(p==='xxlarge'?' '+"_4jy6":'')+(o==='default'?' '+"_517h":'')+(o==='confirm'?' '+"_4jy1":'')+(o==='special'?' '+"_4jy2":'')+(q==='light'?' '+"_51sy":'')+(q==='dark'?' '+"_9c6":'')+(r?' '+"_59pe":'')+(o==='confirm'||o==='special'?' '+"selected":''));return (h.createElement(g,h.__spread({},this.props,{className:j(this.props.className,s)})));}});e.exports=n;},null);
__d("XUIDialogBody.react",["React","cx","joinClasses","XUIText.react"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k=g,l=k.PropTypes,m=g.createClass({displayName:"XUIDialogBody",propTypes:{useCustomPadding:l.bool},render:function(){var n=(("_4-i2")+(!this.props.useCustomPadding?' '+"_57_a":''));return (g.createElement(j,g.__spread({},this.props,{className:i(this.props.className,n),display:"block",size:"medium"}),this.props.children));}});e.exports=m;},null);
__d("ReactLayer",["React","ReactBrowserEventEmitter","SubscriptionsHandler","emptyFunction","getObjectValues","invariant","renderSubtreeIntoContainer"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n={componentDidMount:function(){this._layerContainer=document.createElement('div');this._renderContentIntoContainer();this.layer=this.createLayer(this._layerContainer);l(this.layer);this.layerSubscriptions=new i();this.layerSubscribe('show',function(){return this.props.onToggle&&this.props.onToggle(true);}.bind(this));this.layerSubscribe('hide',function(){return this.props.onToggle&&this.props.onToggle(false);}.bind(this));this.layerSubscribe('blur',function(){return this.props.onBlur&&this.props.onBlur();}.bind(this));this._resetBehaviors();},componentDidUpdate:function(p){this._renderContentIntoContainer();this.receiveProps(this.props,p);},componentWillUnmount:function(){g.unmountComponentAtNode(this._layerContainer);this._layerContainer=null;if(this.layer){this.layer.destroy();this.layer=null;}if(this.layerSubscriptions){this.layerSubscriptions.release();this.layerSubscriptions=null;}},_renderContentIntoContainer:function(){m(this,g.createElement("div",null,this.props.children),this._layerContainer);},render:function(){return null;},enumerateBehaviors:function(p){p=this.getEffectiveBehaviors(p);return k(p).filter(j.thatReturnsArgument);},_resetBehaviors:function(){this._diffBehaviors({},this.props.behaviors);},updateBehaviors:function(p,q){this._diffBehaviors(p,q);},_diffBehaviors:function(p,q){p=this.getEffectiveBehaviors(p);q=this.getEffectiveBehaviors(q);var r;for(r in p)if(!q[r])this.layer.disableBehavior(p[r]);for(r in q){var s=p[r],t=q[r];if(s&&t){l(s===t);continue;}s&&this.layer.disableBehavior(s);t&&this.layer.enableBehavior(t);}},getEffectiveBehaviors:function(p){if(!this.getDefaultEnabledBehaviors)return p||{};return Object.assign({},this.getDefaultEnabledBehaviors(),p);},layerSubscribe:function(p,q){var r=this.layer,s=r.subscribe||r.addListener;this.layerSubscriptions.addSubscriptions(s.call(r,p,function(t,u){h.isEnabled()&&q(t,u);}));}},o={createClass:function(p){return g.createClass({mixins:[n,p]});}};e.exports=o;},null);
__d("AttachmentRelatedShareConstants",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={ARTICLE_CLICK:'article_click',VIDEO_CLICK:'video_click',FBVIDEO_CLICK:'fbvideo_click',GAME_CLICK:'game_click',EVENT_DELAY:1000,HIDE_DELAY:100,PHOTO_CLICK:'photo_click',EVENT_JOIN:'event_join'};e.exports=g;},null);
__d("FeedBlacklistButton",["Arbiter","Event"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={BLACKLIST:'feed_blacklist',UNBLACKLIST:'feed_unblacklist',init:function(j,k,l,m){h.listen(k,'click',function(){var n={profile_id:m};g.inform(i.BLACKLIST,n);g.inform('UnfollowingUser',n);});h.listen(l,'click',function(){var n={profile_id:m};g.inform(i.UNBLACKLIST,n);g.inform('FollowingUser',n);});g.subscribe(i.BLACKLIST,function(n,o){if(m==o.profile_id)j.swap();});g.subscribe(i.UNBLACKLIST,function(n,o){if(m==o.profile_id)j.unswap();});}};e.exports=a.FeedBlacklistButton||i;},null);
__d("XPubcontentChainedSuggestionsController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pubcontent\/chained_suggestions\/",{pageid:{type:"String"},profileid:{type:"Int"},eh:{type:"Bool",defaultValue:false},friendid:{type:"Int"}});},null);
__d("SubscribeButton",["Arbiter","AsyncRequest","Button","CSS","Event","Tooltip","XPubcontentChainedSuggestionsController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n={SUBSCRIBED:'FollowingUser',UNSUBSCRIBED:'UnfollowingUser',RECAP:'RecapUser',_enable:function(o){i.setEnabled(o,true);l.remove(o);},_disable:function(o,p){i.setEnabled(o,false);if(p)l.set(o,p);},init:function(o,p,q,r,s,t,u,v,w){v=(typeof v!=='undefined')?v:false;var x=(typeof w!=='undefined');if(x&&!u&&!v)n._disable(p,w);k.listen(p,'click',function(){g.inform(n.SUBSCRIBED,{profile_id:r,suppress:true});});g.subscribe(n.SUBSCRIBED,function(y,z){if(r==z.profile_id){if(!s)q.suppressNextMouseEnter&&q.suppressNextMouseEnter();if(x){if(typeof z.connected!=='undefined')u=z.connected;if(u||v)n._enable(p);}o.swap();if(t===true&&z.chaining!==false){var aa=(m.getURIBuilder()).setInt('profileid',r).getURI();new h().setURI(aa).send();}}});g.subscribe(n.UNSUBSCRIBED,function(y,z){if(r==z.profile_id){o.unswap();q.hideFlyout&&q.hideFlyout();if(x){if(typeof z.connected!=='undefined')u=z.connected;if(!u&&!v)n._disable(p,w);}g.inform('SubMenu/Reset');}});},initSubscribe:function(o,p){k.listen(o,'click',function(){setTimeout(g.inform.bind(g,n.SUBSCRIBED,{profile_id:p}),0);});},initUnsubscribe:function(o,p){k.listen(o,'click',function(){setTimeout(g.inform.bind(g,n.UNSUBSCRIBED,{profile_id:p}),0);});},initSubscribeMenuItem:function(o,p,q){j.hide(p);this._initMenuItem(o,p,q);},initUnsubscribeMenuItem:function(o,p,q){j.hide(o);this._initMenuItem(o,p,q);},_initMenuItem:function(o,p,q){this.initSubscribe(o,q);this.initUnsubscribe(p,q);g.subscribe(n.SUBSCRIBED,function(r,s){j.hide(o);j.show(p);});g.subscribe(n.UNSUBSCRIBED,function(r,s){j.hide(p);j.show(o);});}};e.exports=n;},null);
__d("SimpleDrag",["Event","ArbiterMixin","UserAgent_DEPRECATED","Vector","copyProperties","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();function m(n){this.minDragDistance=0;g.listen(n,'mousedown',this._start.bind(this));}k(m.prototype,h,{setMinDragDistance:function(n){this.minDragDistance=n;},_start:function(event){var n=false,o=true,p=null;if(this.inform('mousedown',event))o=false;if(this.minDragDistance){p=j.getEventPosition(event);}else{n=true;var q=this.inform('start',event);if(q===true){o=false;}else if(q===false){n=false;return;}}var r=i.ie()<9?document.documentElement:window,s=g.listen(r,{selectstart:o?g.prevent:l,mousemove:function(event){if(!n){var t=j.getEventPosition(event);if(p.distanceTo(t)<this.minDragDistance)return;n=true;if(this.inform('start',event)===false){n=false;return;}}this.inform('update',event);}.bind(this),mouseup:function(event){for(var t in s)s[t].remove();if(n){this.inform('end',event);}else this.inform('click',event);}.bind(this)});o&&event.prevent();}});e.exports=m;},null);
__d("DialogHideOnSuccess",["CSS","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(k){"use strict";this._layer=k;}j.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe('success',this._handle.bind(this));};j.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};j.prototype._handle=function(k,event){"use strict";if(g.hasClass(event.getTarget(),"_s"))this._layer.hide();};h(j.prototype,{_subscription:null});e.exports=j;},null);
__d("ReactRenderer",["React","Run","$"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(n,o,p){var q=g.constructAndRenderComponent(n,o,p);h.onLeave(function(){g.unmountComponentAtNode(p);});return q;}function k(n,o,p){return g.constructAndRenderComponent(n,o,p);}function l(n,o,p){return j(n,o,i(p));}function m(n,o,p){return k(n,o,i(p));}e.exports={constructAndRenderComponent:j,constructAndRenderComponentByID:l,constructAndRenderComponentAcrossTransitions:k,constructAndRenderComponentByIDAcrossTransitions:m};},null);
__d("SelectableMenuUtils",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();var g={doesItemSupportSelect:function(i){return h(i);},isSelected:function(i){return h(i)&&i.isSelected();}};function h(i){return i.select&&i.deselect&&i.isSelected;}e.exports=g;},null);
__d("Tour",["Arbiter","LayerDestroyOnHide","LayerHideOnEscape","NavigationMessage","PageEvents","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();function m(){"use strict";if(m._instance)m._instance.setTourComplete();m._instance=this;}m.prototype.init=function(){"use strict";this._pageLeaveToken=g.subscribe(k.AJAXPIPE_ONUNLOAD,this.handleLeavePage.bind(this));this._navigationBeginToken=g.subscribe(j.NAVIGATION_BEGIN,this.handleTransition.bind(this));this.steps={};return this;};m.prototype.registerStep=function(n,o){"use strict";n.disableBehavior(h);n.disableBehavior(i);this.steps[o]=n;n.subscribe('show',function(){n.inform('tour-dialog-show',n);});if(!this.getTourStarted())this.setTourStart();};m.prototype._unsubscribeSubscriptions=function(){"use strict";this._navigationBeginToken.unsubscribe();this._pageLeaveToken.unsubscribe();};m.prototype.handleLeavePage=function(){"use strict";this._unsubscribeSubscriptions();};m.prototype.handleTransition=function(){"use strict";this._unsubscribeSubscriptions();};m.prototype.handleTourStart=function(){"use strict";};m.prototype.handleTourStop=function(){"use strict";};m.prototype.handleTourComplete=function(){"use strict";};m.prototype.showStep=function(n){"use strict";var o=this.steps[n];if(!(this.openDialog==o))this.hideOpenDialog();if(!o)return;this.openDialog=o;o.show();};m.prototype.hideOpenDialog=function(){"use strict";if(this.openDialog){this.openDialog.hide();this.openDialog=null;}};m.prototype.getTourStarted=function(){"use strict";return this.tourStarted;};m.prototype.setTourStart=function(){"use strict";this.tourStarted=true;this.handleTourStart();};m.prototype.setTourStop=function(){"use strict";this.tourStarted=false;this.hideOpenDialog();this.handleTourStop();};m.prototype.setTourComplete=function(){"use strict";if(this.tourComplete)return;this.setTourStop();this.tourComplete=true;this.handleTourComplete();};m.prototype.hideStep=function(n){"use strict";var o=this.steps[n];o&&o.hide();};m.getInstance=function(){"use strict";return m._instance||(m._instance=new m());};l(m.prototype,{tourStarted:false,tourComplete:false,_navigationBeginToken:null,_pageLeaveToken:null,steps:{},openDialog:null});e.exports=m;},null);
__d("XHPTemplate",["DataStore","DOM","HTML"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(l){"use strict";this._model=l;}j.prototype.render=function(){"use strict";if(i.isHTML(this._model))this._model=h.setContent(document.createDocumentFragment(),this._model)[0];return this._model.cloneNode(true);};j.prototype.build=function(){"use strict";return new k(this.render());};j.getNode=function(l,m){"use strict";return j.getNodes(l)[m];};j.getNodes=function(l){"use strict";var m=g.get(l,'XHPTemplate:nodes');if(!m){m={};var n=h.scry(l,'[data-jsid]');n.push(l);var o=n.length;while(o--){var p=n[o];m[p.getAttribute('data-jsid')]=p;p.removeAttribute('data-jsid');}g.set(l,'XHPTemplate:nodes',m);}return m;};function k(l){"use strict";this._root=l;this._populateNodes();}k.prototype._populateNodes=function(){"use strict";this._nodes={};this._leaves={};var l=this._root.getElementsByTagName('*');for(var m=0,n=l.length;m<n;m++){var o=l[m],p=o.getAttribute('data-jsid');if(p){o.removeAttribute('data-jsid');this._nodes[p]=o;this._leaves[p]=!o.childNodes.length;}}};k.prototype.getRoot=function(){"use strict";return this._root;};k.prototype.getNode=function(l){"use strict";return this._nodes[l];};k.prototype.setNodeProperty=function(l,m,n){"use strict";this.getNode(l)[m]=n;return this;};k.prototype.setNodeContent=function(l,m){"use strict";if(!this._leaves[l])throw new Error("Can't setContent on non-leaf node: "+l);h.setContent(this.getNode(l),m);return this;};e.exports=j;},null);
__d("PageFanning",["Animation","AsyncRequest","CSS","DOM","Parent","URI","ActorURI","$","collectDataAttributes","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q={setFanStatus:function(s,t,u,v,w,x,y){var z={ft:{}};if(s)z={ft:o(s,['ft']).ft};w=w||function(da){var ea=da.getPayload();if(!ea||!s)return;if(ea.reload){q.reloadOnFanStatusChanged();}else r(s,ea);};var aa={fbpage_id:t,add:u,reload:v};if(y!=null)p(aa,y);p(aa,z);var ba='/ajax/pages/fan_status.php';if(y!=null&&y.actor_id!=null)ba=m.create(ba,y.actor_id);var ca=new h().setURI(ba).setData(aa).setNectarModuleDataSafe(s).setHandler(w);if(x)ca.setErrorHandler(x);ca.send();return false;},reloadOnFanStatusChanged:function(){var s=l.getRequestURI();window.location.href=s;},toggleLikeOnFanStatusChanged:function(s,t){var u=n('liked_pages_like_action_'+s),v=n('liked_pages_undo_action_'+s);i.conditionClass(u,'hidden_elem',t);i.conditionClass(v,'hidden_elem',!t);}};function r(s,t){var u=t.feedback;if(!u)return;if(k.byClass(s,'fbTimelineEscapeSectionItem'))s=k.byClass(s,'fan_status_inactive')||s;var v=j.create('span',{className:'fan_status_inactive'},u);s.parentNode.replaceChild(v,s);var w=function(){if(t.can_repeat_action)v.parentNode.replaceChild(s,v);};new g(v).duration(3000).checkpoint().to('backgroundColor','#FFFFFF').duration(1000).ondone(w).go();}e.exports=q;},null);
__d("XPagesLikeCountController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pages\/x\/updateLikeCountDomString\/",{page_id:{type:"Int",required:true},like_id:{type:"String",required:true}});},null);
__d("PageLikeButton",["Arbiter","AsyncRequest","AsyncResponse","Event","FeedBlacklistButton","PageFanning","SubscribeButton","Tour","URI","XPagesLikeCountController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();var q={LIKED:'liked',UNLIKED:'unliked',LIKED_SUCCESS:'liked_success',SPM_CALLOUT:'spm_callout',init:function(u,v,w,x,y,z,aa,ba,ca,da,ea,fa){g.subscribe(q.LIKED,function(ga,ha){if(t(x,fa,ha)){u.swap();if(!ca)w.suppressNextMouseEnter&&w.suppressNextMouseEnter();}});g.subscribe(q.UNLIKED,function(ga,ha){if(t(x,fa,ha)){u.unswap();w.hideFlyout&&w.hideFlyout();}});if(ea)g.subscribe(q.SPM_CALLOUT,function(ga,ha){if(t(x,fa,ha)){ea.show();g._releaseAllEvents(q.SPM_CALLOUT);}});j.listen(v,'click',function(event){var ga=u.getCurrentButton();if(fa&&fa.actor_id!==null){var ha={actor_id:fa.actor_id};s(x,y,z,aa,ga,event,ha);}else s(x,y,z,aa,ga,event);}.bind(this));},initCallout:function(u,v){var w=document.getElementById('pageActionLikeCalloutButton');j.listen(w,'click',s.bind(null,u,v,null,null,null));},initUnlike:function(u,v,w,x){var y=x?x.actor_id:null;j.listen(u,'click',function(event){r(event.getTarget(),v,false,function(z){g.inform(q.LIKED,{profile_id:v,actor_id:y});i.defaultErrorHandler(z);},w,null,null,{actor_id:y});q.informUnlike(v,y);});},informLike:function(u,v,w,x){var y=x?x.actor_id:y,z={profile_id:u,actor_id:y,target:v,origin:w};g.inform(q.LIKED,z);z.connected=true;g.inform(m.SUBSCRIBED,z);g.inform(k.UNBLACKLIST,z);},informLikeSuccess:function(u){var v={profile_id:u};g.inform(q.LIKED_SUCCESS,v);g.inform(q.SPM_CALLOUT,v);},informUnlike:function(u,v){var w={profile_id:u,actor_id:v};setTimeout(g.inform.bind(g,q.UNLIKED,w),0);w.connected=false;setTimeout(g.inform.bind(g,m.UNSUBSCRIBED,w),0);g.inform(k.BLACKLIST,w);},updateLikeCount:function(u,v){g.subscribe(q.LIKED_SUCCESS,function(w,x){var y=x.profile_id;if(v==y){var z=p.getURIBuilder().setInt('page_id',v).setString('like_id',u).getURI();new h().setURI(z).send();}});}};function r(u,v,w,x,y,z,aa,ba){var ca=ba?ba.actor_id:null;n.getInstance().hideStep('low_page_likes');l.setFanStatus(u,v,w,false,function(){q.informLikeSuccess(v);},x,{fan_origin:y,fan_source:z,cat:aa,actor_id:ca});}function s(u,v,w,x,y,event,z){var aa=z?z.actor_id:null;r(event.getTarget(),u,true,function(ba){g.inform(q.UNLIKED,{profile_id:u,actor_id:aa});i.defaultErrorHandler(ba);},v,w,x,z);q.informLike(u,y,v,z);}function t(u,v,w){var x=v?v.actor_id:null;if(u===w.profile_id){if(x===null)return true;if(w.actor_id!==null&&x===w.actor_id)return true;}return false;}e.exports=q;a.PageLikeButton=q;},null);
__d("FbFeedHighlight",["JSXDOM","CSS","DOM","DOMScroll","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=1000,m=1000,n=null;function o(){return (g.div({className:"_1usz"},g.div({className:"_1us-"}),g.div({className:"_1us_"}),g.div({className:"_1ut0"}),g.div({className:"_1ut1"})));}var p={highlightAndScrollTo:function(q){p.highlight(q);p.scrollTo(q);},highlightSingle:function(q){var r=o();i.appendContent(q,r);setTimeout(function(){if(n)i.remove(n);n=r;h.addClass(q,"_1ut2");},0);setTimeout(function(){h.removeClass(q,"_1ut2");setTimeout(function(){i.remove(r);if(r==n)n=null;},l+m);},l+m);},highlight:function(q){var r=p.highlightPermanent(q);setTimeout(function(){h.removeClass(q,"_1ut2");setTimeout(i.remove.bind(null,r),l+l);},l+m);},highlightPermanent:function(q){var r=o();i.appendContent(q,r);setTimeout(h.addClass.bind(null,q,"_1ut2"),0);return r;},scrollTo:function(q){setTimeout(j.scrollTo.bind(null,q),0);}};e.exports=p;},null);
__d("ScrollableArea",["Animation","ArbiterMixin","BrowserSupport","CSS","DataStore","DOM","Event","Parent","Run","Scroll","SimpleDrag","Style","UserAgent_DEPRECATED","Vector","throttle","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();var w=12,x=v(h);for(var y in x)if(x.hasOwnProperty(y))aa[y]=x[y];var z=x===null?null:x.prototype;aa.prototype=Object.create(z);aa.prototype.constructor=aa;aa.__superConstructor__=x;function aa(ba,ca){"use strict";if(!ba)return;ca=ca||{};this._elem=ba;this._wrap=l.find(ba,'div.uiScrollableAreaWrap');this._body=l.find(this._wrap,'div.uiScrollableAreaBody');this._content=l.find(this._body,'div.uiScrollableAreaContent');this._track=l.find(ba,'div.uiScrollableAreaTrack');this._gripper=l.find(this._track,'div.uiScrollableAreaGripper');this._options=ca;this._throttledComputeHeights=u.withBlocking(this._computeHeights,250,this);this.throttledAdjustGripper=u.withBlocking(this.adjustGripper,250,this);this._throttledShowGripperAndShadows=u.withBlocking(this._showGripperAndShadows,250,this);this._throttledRespondMouseMove=u(this._respondMouseMove,250,this);setTimeout(this.adjustGripper.bind(this),0);this._listeners=[m.listen(this._wrap,'scroll',this._handleScroll.bind(this)),m.listen(ba,'mousemove',this._handleMouseMove.bind(this)),m.listen(this._track,'click',this._handleClickOnTrack.bind(this))];if(i.hasPointerEvents())this._listeners.push(m.listen(ba,'mousedown',this._handleClickOnTrack.bind(this)));if(ca.fade!==false){this._listeners.push(m.listen(ba,'mouseenter',this._handleMouseEnter.bind(this)),m.listen(ba,'mouseleave',this._handleMouseLeave.bind(this)),m.listen(ba,'focusin',this.showScrollbar.bind(this,false)),m.listen(ba,'focusout',this.hideScrollbar.bind(this)));}else if(i.hasPointerEvents())this._listeners.push(m.listen(ba,'mouseleave',j.removeClass.bind(null,ba,'uiScrollableAreaTrackOver')));if(s.webkit()||s.chrome()){this._listeners.push(m.listen(ba,'mousedown',function(){var da=m.listen(window,'mouseup',function(){if(p.getLeft(ba))p.setLeft(ba,0);da.remove();});}));}else if(s.firefox())this._wrap.addEventListener('DOMMouseScroll',function(event){event.axis===event.HORIZONTAL_AXIS&&event.preventDefault();},false);this.initDrag();k.set(this._elem,'ScrollableArea',this);if(!ca.persistent)o.onLeave(this.destroy.bind(this));if(ca.shadow!==false)j.addClass(this._elem,'uiScrollableAreaWithShadow');}aa.prototype.getElement=function(){"use strict";return this._elem;};aa.prototype.initDrag=function(){"use strict";var ba=i.hasPointerEvents(),ca=new q(ba?this._elem:this._gripper);ca.subscribe('start',function(da,event){if(!((event.which&&event.which===1)||(event.button&&event.button===1)))return;var ea=t.getEventPosition(event,'viewport');if(ba){var fa=this._gripper.getBoundingClientRect();if(ea.x<fa.left||ea.x>fa.right||ea.y<fa.top||ea.y>fa.bottom)return false;}this.inform('grip_start');var ga=ea.y,ha=this._gripper.offsetTop;j.addClass(this._elem,'uiScrollableAreaDragging');var ia=ca.subscribe('update',function(ka,event){var la=t.getEventPosition(event,'viewport').y-ga;this._throttledComputeHeights();var ma=this._contentHeight-this._containerHeight,na=ha+la,oa=this._trackHeight-this._gripperHeight;na=Math.max(Math.min(na,oa),0);var pa=na/oa*ma;p.setTop(this._wrap,pa);}.bind(this)),ja=ca.subscribe('end',function(){ca.unsubscribe(ia);ca.unsubscribe(ja);j.removeClass(this._elem,'uiScrollableAreaDragging');this.inform('grip_end');}.bind(this));}.bind(this));};aa.prototype.adjustGripper=function(){"use strict";if(this._needsGripper()){r.set(this._gripper,'height',this._gripperHeight+'px');this._slideGripper();}this._throttledShowGripperAndShadows();return this;};aa.prototype._computeHeights=function(){"use strict";this._containerHeight=this._elem.clientHeight;this._contentHeight=this._content.offsetHeight;this._trackHeight=this._track.offsetHeight;this._gripperHeight=Math.max(this._containerHeight/this._contentHeight*this._trackHeight,w);};aa.prototype._needsGripper=function(){"use strict";this._throttledComputeHeights();return this._gripperHeight<this._trackHeight;};aa.prototype._slideGripper=function(){"use strict";var ba=p.getTop(this._wrap)/(this._contentHeight-this._containerHeight)*(this._trackHeight-this._gripperHeight);r.set(this._gripper,'top',ba+'px');};aa.prototype._showGripperAndShadows=function(){"use strict";j.conditionShow(this._gripper,this._needsGripper());j.conditionClass(this._elem,'contentBefore',p.getTop(this._wrap)>0);j.conditionClass(this._elem,'contentAfter',!this.isScrolledToBottom());};aa.prototype.destroy=function(){"use strict";this._listeners.forEach(function(ba){ba.remove();});this._listeners.length=0;};aa.prototype._handleClickOnTrack=function(event){"use strict";var ba=t.getEventPosition(event,'viewport'),ca=this._gripper.getBoundingClientRect();if(ba.x<ca.right&&ba.x>ca.left){if(ba.y<ca.top){this.setScrollTop(this.getScrollTop()-this._elem.clientHeight);}else if(ba.y>ca.bottom)this.setScrollTop(this.getScrollTop()+this._elem.clientHeight);event.prevent();}};aa.prototype._handleMouseMove=function(event){"use strict";var ba=this._options.fade!==false;if(i.hasPointerEvents()||ba){this._mousePos=t.getEventPosition(event);this._throttledRespondMouseMove();}};aa.prototype._respondMouseMove=function(){"use strict";if(!this._mouseOver)return;var ba=this._options.fade!==false,ca=this._mousePos,da=t.getElementPosition(this._track).x,ea=t.getElementDimensions(this._track).x,fa=Math.abs(da+ea/2-ca.x);j.conditionClass(this._elem,'uiScrollableAreaTrackOver',i.hasPointerEvents()&&fa<=10);if(ba)if(fa<25){this.showScrollbar(false);}else if(!this._options.no_fade_on_hover)this.hideScrollbar();};aa.prototype._handleScroll=function(event){"use strict";if(this._needsGripper())this._slideGripper();this.throttledAdjustGripper();if(this._options.fade!==false)this.showScrollbar();this.inform('scroll');};aa.prototype._handleMouseLeave=function(){"use strict";this._mouseOver=false;this.hideScrollbar();};aa.prototype._handleMouseEnter=function(){"use strict";this._mouseOver=true;this.showScrollbar();};aa.prototype.hideScrollbar=function(ba){"use strict";if(!this._scrollbarVisible)return this;this._scrollbarVisible=false;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(ba){r.set(this._track,'opacity',0);j.addClass.bind(null,this._track,'invisible_elem');}else this._hideTimeout=setTimeout(function(){if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}this._hideAnimation=(new g(this._track)).from('opacity',1).to('opacity',0).duration(250).ondone(j.addClass.bind(null,this._track,'invisible_elem')).go();}.bind(this),750);return this;};aa.prototype.resize=function(){"use strict";if(this._body.style.width)this._body.style.width='';var ba=this._wrap.offsetWidth-this._wrap.clientWidth;if(ba>0)r.set(this._body,'margin-right',(-ba)+'px');return this;};aa.prototype.showScrollbar=function(ba){"use strict";this.throttledAdjustGripper();if(this._scrollbarVisible)return this;this._scrollbarVisible=true;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}r.set(this._track,'opacity',1);j.removeClass(this._track,'invisible_elem');if((ba!==false)&&!this._options.no_fade_on_hover)this.hideScrollbar();return this;};aa.prototype.distanceToBottom=function(){"use strict";this._computeHeights();return this._contentHeight-(p.getTop(this._wrap)+this._containerHeight);};aa.prototype.isScrolledToBottom=function(){"use strict";return this.distanceToBottom()<=0;};aa.prototype.isScrolledToTop=function(){"use strict";return p.getTop(this._wrap)===0;};aa.prototype.scrollToBottom=function(ba,ca){"use strict";this.setScrollTop(this._wrap.scrollHeight,ba,ca);};aa.prototype.scrollToTop=function(ba){"use strict";this.setScrollTop(0,ba);};aa.prototype.scrollIntoView=function(ba,ca){"use strict";var da=this._wrap.clientHeight,ea=ba.offsetHeight,fa=p.getTop(this._wrap),ga=fa+da,ha=ba.offsetTop,ia=ha+ea;if(ha<fa||da<ea){this.setScrollTop(ha,ca);}else if(ia>ga)this.setScrollTop(fa+(ia-ga),ca);};aa.prototype.scrollElemToTop=function(ba,ca,da){"use strict";this.setScrollTop(ba.offsetTop,ca,{callback:da});};aa.prototype.poke=function(){"use strict";var ba=p.getTop(this._wrap);p.setTop(this._wrap,p.getTop(this._wrap)+1);p.setTop(this._wrap,p.getTop(this._wrap)-1);p.setTop(this._wrap,ba);return this.showScrollbar(false);};aa.prototype.getClientHeight=function(){"use strict";return this._wrap.clientHeight;};aa.prototype.getScrollTop=function(){"use strict";return p.getTop(this._wrap);};aa.prototype.getScrollHeight=function(){"use strict";return this._wrap.scrollHeight;};aa.prototype.setScrollTop=function(ba,ca,da){"use strict";da=da||{};if(ca!==false){if(this._scrollTopAnimation)this._scrollTopAnimation.stop();var ea=da.duration||250,fa=da.ease||g.ease.end;this._scrollTopAnimation=(new g(this._wrap)).to('scrollTop',ba).ease(fa).duration(ea).ondone(da.callback).go();}else{p.setTop(this._wrap,ba);da.callback&&da.callback();}};aa.renderDOM=function(){"use strict";var ba=l.create('div',{className:'uiScrollableAreaContent'}),ca=l.create('div',{className:'uiScrollableAreaBody'},ba),da=l.create('div',{className:'uiScrollableAreaWrap scrollable'},ca),ea=l.create('div',{className:'uiScrollableArea native'},da);return {root:ea,wrap:da,body:ca,content:ba};};aa.fromNative=function(ba,ca){"use strict";if(!j.hasClass(ba,'uiScrollableArea')||!j.hasClass(ba,'native'))return;ca=ca||{};j.removeClass(ba,'native');var da=l.create('div',{className:'uiScrollableAreaTrack'},l.create('div',{className:'uiScrollableAreaGripper'}));if(ca.fade!==false){j.addClass(ba,'fade');j.addClass(da,'invisible_elem');}else j.addClass(ba,'nofade');l.appendContent(ba,da);var ea=new aa(ba,ca);ea.resize();return ea;};aa.getInstance=function(ba){"use strict";var ca=n.byClass(ba,'uiScrollableArea');return ca?k.get(ca,'ScrollableArea'):null;};aa.poke=function(ba){"use strict";var ca=aa.getInstance(ba);ca&&ca.poke();};e.exports=aa;},null);
__d("Menu",["BehaviorsMixin","CSS","DataStore","DOM","Event","Keys","KeyStatus","Parent","PopoverMenuInterface","ScrollableArea","Style","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();for(var t in o)if(o.hasOwnProperty(t))v[t]=o[t];var u=o===null?null:o.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=o;function v(w,x){"use strict";o.call(this);this._items=[];for(var y=0;y<w.length;y++){var z=w[y],aa;if(z.ctor){aa=new z.ctor(z);}else aa=new z.type(z.props);this._items[y]=aa;}this._config=x||{};this._theme=x.theme||{};}v.prototype.addItem=function(w){"use strict";this._addItem(w);};v.prototype.addItemBefore=function(w,x){"use strict";this._addItem(w,x,false);};v.prototype.addItemAfter=function(w,x){"use strict";this._addItem(w,x,true);};v.prototype._addItem=function(w,x,y){"use strict";var z=this._items.indexOf(w);if(z>=0){var aa=y?-1:1;if(this._items[z+aa]==x)return;this._items.splice(z,1);}if(x){z=this._items.indexOf(x);if(z<0)throw new Error('reference item must already be in the menu');if(y)z++;this._items.splice(z,0,w);}else this._items.push(w);if(this._root)this._insertItem(w,x,y);};v.prototype.removeItem=function(w){"use strict";var x=this._items.indexOf(w);if(x<0)return;this._items.splice(x,1);this._root&&j.remove(w.getRoot());};v.prototype.forEachItem=function(w){"use strict";this._items.forEach(w);};v.prototype.getFocusedItem=function(){"use strict";return this._focused;};v.prototype.getItemAt=function(w){"use strict";return this._items[w]||null;};v.prototype.getRoot=function(){"use strict";if(!this._root)this._render();return this._root;};v.prototype.onShow=function(){"use strict";if(this._config.maxheight)if(!this._scrollableArea){this._scrollableArea=p.fromNative(this._scrollableElems.root,{fade:true});}else this._scrollableArea.resize();if(m.isKeyDown())this.focusAnItem();this.inform('show');};v.prototype.onHide=function(){"use strict";this.blur();};v.prototype.focusAnItem=function(w){"use strict";return this._attemptFocus(w||0,1);};v.prototype.blur=function(){"use strict";if(this._focused){var w=this._focused;this._focused.blur();this._focused=null;this.inform('blur',{item:w});}};v.prototype.handleKeydown=function(w,x){"use strict";var y=this._items.indexOf(this._focused);switch(w){case l.UP:case l.DOWN:var z=w===l.UP,aa=z?-1:1,ba=z?this._items.length-1:0,ca=z?0:this._items.length-1;if(y===-1){return this._attemptFocus(ba,aa);}else if(y!==ca)return this._attemptFocus(y+aa,aa);break;case l.SPACE:if(this._items.indexOf(this._focused)!==-1){this._handleItemClick(this._focused,x);return true;}return false;default:var da=String.fromCharCode(w).toLowerCase(),ea;for(var fa=y+1;fa<this._items.length;fa++){ea=this._items[fa].getAccessKey();if(ea&&ea.charAt(0).toLowerCase()===da)if(this._focusItem(this._items[fa]))return true;}return false;}};v.prototype._render=function(){"use strict";this._ul=j.create('ul',{className:"_54nf"});this._ul.setAttribute('role','menu');this._items.forEach(function(y){this._insertItem(y,null);}.bind(this));k.listen(this._ul,'click',this._handleClick.bind(this));k.listen(this._ul,'mouseover',this._handleMouseOver.bind(this));k.listen(this._ul,'mouseout',this._handleMouseOut.bind(this));var w=this._ul;if(this._config.maxheight){this._scrollableElems=p.renderDOM();j.setContent(this._scrollableElems.content,this._ul);w=this._scrollableElems.root;q.set(this._scrollableElems.wrap,'max-height',this._config.maxheight+'px');}var x="_54nq"+(this._config.className?' '+this._config.className:'')+(this._theme.className?' '+this._theme.className:'');this._root=j.create('div',{className:x},j.create('div',{className:"_54ng"},w));this._config.id&&this._root.setAttribute('id',this._config.id);if(this._config.behaviors)this.enableBehaviors(this._config.behaviors);this.inform('rendered',this._root);};v.prototype._needsDefaultBehavior=function(w){"use strict";if(w.isDefaultRequested&&w.isDefaultRequested()){var x=n.byTag(w.getTarget(),'a'),y=x&&x.getAttribute('href');return y&&y[0]!=='#';}return false;};v.prototype._handleClick=function(w){"use strict";if(!this._needsDefaultBehavior(w)){var x=this._getItemInstance(w.getTarget());if(x)return this._handleItemClick(x,w);}};v.prototype._handleItemClick=function(w,x){"use strict";this.inform('itemclick',{item:w,event:x});if(w.hasAction())this.done();return w.handleClick(x);};v.prototype._handleMouseOver=function(w){"use strict";var x=this._getItemInstance(w.getTarget());x&&this._focusItem(x,true);};v.prototype._handleMouseOut=function(w){"use strict";var x=this._getItemInstance(w.getTarget());if(x&&this._focused===x)this.blur();};v.prototype._insertItem=function(w,x,y){"use strict";var z=w.getRoot();h.addClass(z,'__MenuItem');i.set(z,'MenuItem',w);if(x){var aa=y?j.insertAfter:j.insertBefore;aa(x.getRoot(),z);}else j.appendContent(this._ul,z);};v.prototype._attemptFocus=function(w,x){"use strict";var y=this.getItemAt(w);if(y)if(this._focusItem(y)){return true;}else return this._attemptFocus(w+x,x);return false;};v.prototype._focusItem=function(w,x){"use strict";if(w.focus(x)!==false){if(this._focused!==w){this.blur();this._focused=w;this.inform('focus',{item:w,from_mouse_over:x});}return true;}return false;};v.prototype._getItemInstance=function(w){"use strict";var x=n.byClass(w,'__MenuItem');return x?i.get(x,'MenuItem'):null;};v.prototype.destroy=function(){"use strict";this._items.forEach(function(w){var x=w.getRoot();i.remove(x,'MenuItem');w.destroy();});this.destroyBehaviors();};r(v.prototype,g,{_focused:null,_root:null});e.exports=v;},null);
__d("MenuItemInterface",["copyProperties","emptyFunction"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(){"use strict";}i.prototype.getRoot=function(){"use strict";if(!this._root)this._root=this.render();return this._root;};g(i.prototype,{_root:null,render:h,getAccessKey:h,hasAction:h.thatReturnsFalse,focus:h.thatReturnsFalse,blur:h.thatReturnsFalse,onShow:h.thatReturnsFalse,handleClick:h.thatReturnsFalse,destroy:h});e.exports=i;},null);
__d("MenuItemBase",["DOM","HTML","MenuItemInterface","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();for(var k in i)if(i.hasOwnProperty(k))m[k]=i[k];var l=i===null?null:i.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=i;function m(n){"use strict";i.call(this);this._data=n;}m.prototype.render=function(){"use strict";var n="_54ni";if(this._data.className)n+=' '+this._data.className;var o={className:n,role:'presentation'};Object.assign(o,this.__getAttributesFromData());return g.create('li',o,this._renderItemContent());};m.prototype._renderItemContent=function(){"use strict";return h(this._data.markup).getNodes();};m.prototype.__getAttributesFromData=function(){"use strict";var n={};for(var o in this._data)if(o.indexOf('data-')===0||o.indexOf('aria-')===0)n[o]=this._data[o];return n;};e.exports=m;},null);
__d("MenuItem",["CSS","DOM","MenuItemBase","React","cloneWithProps","copyProperties","cx","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();var o=['href','rel','ajaxify','target','accesskey'];function p(u,v){var w={};o.forEach(function(x){if(v[x])w[x]=v[x];});h.setAttributes(u,w);}function q(u){o.forEach(function(v){u.removeAttribute(v);});}for(var r in i)if(i.hasOwnProperty(r))t[r]=i[r];var s=i===null?null:i.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=i;function t(u){"use strict";i.call(this,u);this._disabled=!!this._data.disabled;this._onclickHandler=this._data.onclick;}t.prototype.getValue=function(){"use strict";return this._data.value;};t.prototype.getLabel=function(){"use strict";return this._data.label;};t.prototype.getAccessKey=function(){"use strict";return this._data.label&&this._data.label.charAt(0);};t.prototype.focus=function(u){"use strict";if(this.isDisabled()||!this._root.offsetParent)return false;g.addClass(this._root,"_54ne");g.addClass(this._root,'selected');u||this._anchor.focus();};t.prototype.blur=function(){"use strict";g.removeClass(this._root,"_54ne");g.removeClass(this._root,'selected');};t.prototype.handleClick=function(u){"use strict";if(this.isDisabled())return false;if(typeof this._onclickHandler==='function')return this._onclickHandler(u);return true;};t.prototype.setOnClickHandler=function(u){"use strict";this._onclickHandler=u;};t.prototype._renderItemContent=function(){"use strict";this._anchor=h.create(this._data.renderas==='label'?'label':'a',{className:(("_54nc")+(this._data.icon?' '+"_54nu":''))});if(this._data.children){var u=null;if(this._data.icon)u=k(this._data.icon,{className:'mrs'});j.render(j.createElement("span",null,u,j.createElement("span",{className:"_54nh"},this._data.children)),this._anchor);this._data.label=this._anchor.innerText||this._anchor.textContent;}else{var v=h.create('span',null,h.create('span',{className:"_54nh"},this._data.markup||this._data.label));if(this._data.icon)h.prependContent(v,this._data.icon);h.setContent(this._anchor,v);}if(!this._data.href)this._data.href='#';if(!this.isDisabled())p(this._anchor,this._data);h.setAttributes(this._anchor,this.__getAttributesFromData());this._anchor.setAttribute('role','menuitem');var w=this._data.title;w&&this._anchor.setAttribute('title',w);return this._anchor;};t.prototype.isDisabled=function(){"use strict";return this._disabled;};t.prototype.enable=function(){"use strict";p(this._anchor,this._data);g.removeClass(this._root,"_5arm");this._disabled=false;};t.prototype.disable=function(){"use strict";q(this._anchor);g.addClass(this._root,"_5arm");this._disabled=true;};t.prototype.render=function(){"use strict";var u=s.render.call(this);if(this._data.disabled)g.addClass(u,"_5arm");return u;};t.prototype.destroy=function(){"use strict";if(this._anchor)j.unmountComponentAtNode(this._anchor);};l(t.prototype,{hasAction:n.thatReturnsTrue});e.exports=t;},null);
__d("MenuSelectableItem",["CSS","MenuItem","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();for(var k in h)if(h.hasOwnProperty(k))m[k]=h[k];var l=h===null?null:h.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=h;function m(n){"use strict";h.call(this,n);this._selected=!!this._data.selected;}m.prototype.getLabel=function(){"use strict";return this._data.label;};m.prototype.getIcon=function(){"use strict";return this._data.icon;};m.prototype.isSelected=function(){"use strict";return this._selected;};m.prototype.select=function(){"use strict";if(this.isDisabled())return false;g.addClass(this._root,"_54nd");this._anchor.setAttribute('aria-selected','true');this._selected=true;};m.prototype.deselect=function(){"use strict";g.removeClass(this._root,"_54nd");this._anchor.setAttribute('aria-selected','false');this._selected=false;};m.prototype.render=function(){"use strict";var n=l.render.call(this);if(this._data.selected){g.addClass(n,"_54nd");this._anchor.setAttribute('aria-selected','true');}return n;};i(m.prototype,{_selected:false});e.exports=m;},null);
__d("MenuSeparator",["DOM","CSS","MenuItemInterface","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();for(var k in i)if(i.hasOwnProperty(k))m[k]=i[k];var l=i===null?null:i.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=i;function m(n){"use strict";i.call(this,n);this._data=n;this.showFn=this._data.should_show_fn;}m.prototype.updateShownState=function(n){"use strict";if(this.showFn){this._isHidden=!this.showFn(n);if(this._root)h.conditionShow(this._root,!this._isHidden);}};m.prototype.isShown=function(n){"use strict";var o=this.showFn?this.showFn(n):true;return o;};m.prototype.render=function(){"use strict";var n="_54ak";if(this._data.className)n+=' '+this._data.className;var o=this._data.label||'',p=g.create('li',{className:n,role:'separator'},o);if(this._isHidden)h.hide(p);return p;};e.exports=m;},null);
__d("SelectableMenu",["Menu","arrayContains","createArrayFromMixed","SelectableMenuUtils"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();for(var k in g)if(g.hasOwnProperty(k))m[k]=g[k];var l=g===null?null:g.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=g;function m(){"use strict";if(g!==null)g.apply(this,arguments);}m.prototype.focusAnItem=function(){"use strict";for(var n=0;n<this._items.length;n++)if(j.isSelected(this._items[n]))if(this._focusItem(this._items[n])!==false)return true;return l.focusAnItem.call(this);};m.prototype.setValue=function(n){"use strict";if(!this._root)this._render();var o=i(n);this._items.forEach(function(p){if(j.doesItemSupportSelect(p))if(h(o,p.getValue())){p.select();}else if(j.isSelected(p))p.deselect();});this.inform('change',this.getSelection());};m.prototype._handleItemClick=function(n,o){"use strict";if(!j.doesItemSupportSelect(n))return l._handleItemClick.call(this,n,o);var p=this.inform('itemclick',{item:n,event:o});if(p)return;if(this._config.multiple){var q=j.isSelected(n)?n.deselect():n.select();if(q!==false)this.inform('change',this.getSelection());}else{if(!j.isSelected(n))if(n.select()!==false){this._items.forEach(function(r){if(j.isSelected(r)&&r!==n)r.deselect();});this.inform('change',this.getSelection());}this.done();}return n.handleClick();};m.prototype.getSelection=function(){"use strict";var n=[];this._items.forEach(function(o){if(j.isSelected(o))n.push({label:o.getLabel(),value:o.getValue(),item:o});});if(!this._config.multiple)n=n[0];return n;};e.exports=m;},null);
__d("SwapButton",["DOM","Event","Focus","copyProperties"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();function k(m,n,o){g.insertAfter(n,m);g.remove(n);o&&i.setWithoutOutline(m);}function l(m,n,o){"use strict";this._swapperButton=m;this._swappeeButton=n;h.listen(m,'click',k.bind(null,n,m,true));if(o)h.listen(n,'click',k.bind(null,m,n,true));}l.prototype.swap=function(m){"use strict";if(this._swapperButton.parentNode)k(this._swappeeButton,this._swapperButton,m);};l.prototype.unswap=function(m){"use strict";if(!this._swapperButton.parentNode)k(this._swapperButton,this._swappeeButton,m);};l.prototype.toggle=function(m){"use strict";if(this._swapperButton.parentNode){this.swap(m);}else this.unswap(m);};l.prototype.getCurrentButton=function(){"use strict";return this._swapperButton.parentNode?this._swapperButton:this._swappeeButton;};j(l.prototype,{_swapperButton:null,_swappeeButton:null});e.exports=l;},null);
__d("HoverButton",["AsyncRequest","CSS","DOM","URI","copyProperties","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();function m(n,o,p,q){"use strict";this._button=n;this._flyout=o;this._flyoutAjaxify=q;this._flyoutContent=p;o.subscribe('show',this._onShow.bind(this));o.subscribe('hide',this._onHide.bind(this));}m.prototype.showFlyoutBriefly=function(){"use strict";this.showFlyout();this._flyout.hideFlyoutDelayed(5000);};m.prototype.showFlyout=function(){"use strict";this._flyout.showFlyout(this._button,true);this._flyout.inform('show',this._button);};m.prototype.hideFlyout=function(){"use strict";this._flyout.hideFlyout(true);this._flyout.inform('hide',this._button);};m.prototype.enableButton=function(){"use strict";this._flyout.initNode(this._button);};m.prototype.disableButton=function(){"use strict";this.hideFlyout();this._flyout.deactivateNode(this._button);};m.prototype._onShow=function(n,o){"use strict";h.addClass(o,"_52nd");if(h.hasClass(o,'uiButton')||h.hasClass(o,"_42fu"))h.addClass(o,'selected');if(this._flyoutAjaxify){h.addClass(this._flyoutContent,'async_saving');new g().setURI(new j(this._flyoutAjaxify)).setHandler(function(p){h.removeClass(this._flyoutContent,'async_saving');i.setContent(this._flyoutContent,p.payload);}.bind(this)).send();this._flyoutAjaxify=null;}};m.prototype._onHide=function(n,o){"use strict";h.removeClass(o,"_52nd");if(h.hasClass(o,'uiButton')||h.hasClass(o,"_42fu"))h.removeClass(o,'selected');};m.prototype.destroy=function(){"use strict";this.hideFlyout();this._flyout.destroy();};m.prototype.suppressNextMouseEnter=function(){"use strict";this._flyout.setActiveNode(this._button);};k(m.prototype,{_button:null,_flyout:null,_flyoutAjaxify:null,_flyoutContent:null});e.exports=m;},null);
__d("HoverFlyout",["Arbiter","ArbiterMixin","DataStore","Event","Keys","arrayContains","mixin","removeFromArray","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();var p=m(h);for(var q in p)if(p.hasOwnProperty(q))s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t,u,v,w){"use strict";if(t){this._showDelay=v;this._hideDelay=w;this.init(t);if(u)this.initNode(u);}g.subscribe('SwapButtonDEPRECATED/focusOnJoinButton',o(this.hideFlyout,this),g.SUBSCRIBE_ALL);}s.prototype.init=function(t){"use strict";this._flyout=t;this._showDelay=this._showDelay||0;this._hideDelay=this._hideDelay||100;this._showTimeout=null;this._hideTimeout=null;this._flyoutSubscriptions=[this._flyout.subscribe('mouseenter',this._onFlyoutMouseEnter.bind(this)),this._flyout.subscribe('mouseleave',o(this.hideFlyout,this))];this._nodes=[];this._dataStoreUnique='HoverFlyout_'+Date.now()+'_listeners';return this;};s.prototype.initNode=function(t){"use strict";if(l(this._nodes,t))return this;this._nodes.push(t);i.set(t,this._dataStoreUnique,[j.listen(t,'mouseenter',this._onNodeMouseEnter.bind(this,t)),j.listen(t,'mouseleave',o(this.hideFlyout,this)),j.listen(t,'click',this._onNodeMouseEnter.bind(this,t)),j.listen(t,'keydown',this._onNodeKeyEscape.bind(this))]);return this;};s.prototype.deactivateNode=function(t){"use strict";var u=i.get(t,this._dataStoreUnique);if(u)while(u.length)u.pop().remove();n(this._nodes,t);};s.prototype.setShowDelay=function(t){"use strict";this._showDelay=t;return this;};s.prototype.setHideDelay=function(t){"use strict";this._hideDelay=t;return this;};s.prototype.showFlyout=function(t,u){"use strict";this.setActiveNode(t);if(u){this._flyout.setContext(t).show();this.inform('show',t);}else this._showTimeout=setTimeout(this.showFlyout.bind(this,t,true),this._showDelay);return this;};s.prototype.hideFlyout=function(t){"use strict";clearTimeout(this._showTimeout);if(t){this._flyout.hide();this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}else this._hideTimeout=setTimeout(this.hideFlyout.bind(this,true),this._hideDelay);};s.prototype.hideFlyoutDelayed=function(t){"use strict";clearTimeout(this._showTimeout);clearTimeout(this._hideTimeout);this._hideTimeout=setTimeout(this.hideFlyout.bind(this,true),t);};s.prototype.getActiveNode=function(){"use strict";return this._activeNode;};s.prototype.setActiveNode=function(t){"use strict";clearTimeout(this._hideTimeout);if(this._activeNode&&this._activeNode!==t)this.hideFlyout(true);this._activeNode=t;return this;};s.prototype.clearNodes=function(){"use strict";for(var t=this._nodes.length;t>0;t--)this.deactivateNode(this._nodes[t-1]);};s.prototype.destroy=function(){"use strict";while(this._flyoutSubscriptions.length)this._flyout.unsubscribe(this._flyoutSubscriptions.pop());this.clearNodes();};s.prototype._onNodeMouseEnter=function(t){"use strict";if(this._activeNode===t){clearTimeout(this._hideTimeout);}else this.showFlyout(t);};s.prototype._onFlyoutMouseEnter=function(){"use strict";clearTimeout(this._hideTimeout);};s.prototype._onNodeKeyEscape=function(event){"use strict";if(j.getKeyCode(event)===k.ESC){this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}};e.exports=a.HoverFlyout||s;},null);
__d("XUIMenuWithSquareCorner",["CSS","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this.$XUIMenuWithSquareCorner0=j;}i.prototype.enable=function(){"use strict";g.addClass(this.$XUIMenuWithSquareCorner0.getRoot(),"_2n_z");};i.prototype.disable=function(){"use strict";g.removeClass(this.$XUIMenuWithSquareCorner0.getRoot(),"_2n_z");};e.exports=i;},null);
__d("VideoDisplayTimePlayButton",["CSS","Event"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={},j={getClicked:function(k){var l=k.id;if(i.hasOwnProperty(l))return i[l].clicked;return false;},register:function(k,l){var m=k.id;i[m]=h.listen(k,'click',function(){if(l){g.hide(k);g.show(l);}i[m].clicked=true;});},unregister:function(k){var l=k.id;if(i.hasOwnProperty(l))i[l].remove();}};e.exports=j;},null);
__d("VideosRenderingInstrumentation",["DataStore"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={storeRenderTime:function(i){var j=Date.now();g.set(i,'videos_rendering_instrumentation',j);return j;},retrieveRenderTime:function(i){var j=g.get(i,'videos_rendering_instrumentation',NaN);if(Number.isNaN(j))j=h.storeRenderTime(i);return j;}};e.exports=h;},null);