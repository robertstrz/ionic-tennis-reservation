/*!CK:3498859885!*//*1433852123,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["YFHIr"]); }

__d("MNCommerceBubbleType",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={FB_RETAIL_RECEIPT:1,FB_RETAIL_CANCELLATION:2,FB_RETAIL_SHIPMENT:3,FB_RETAIL_SHIPMENT_TRACKING_EVENT_ETA:4,FB_RETAIL_SHIPMENT_TRACKING_EVENT_IN_TRANSIT:5,FB_RETAIL_SHIPMENT_TRACKING_EVENT_OUT_FOR_DELIVERY:6,FB_RETAIL_SHIPMENT_TRACKING_EVENT_DELAYED:7,FB_RETAIL_SHIPMENT_TRACKING_EVENT_DELIVERED:8,FB_RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER:9,FB_RETAIL_SHIPMENT_ETA:10,FB_RETAIL_NOW_IN_STOCK:11};},null);
__d("LeafletPopup.react",["GeoCoordinates","leaflet","LeafletUtils","React","areEqual"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=j,m=l.PropTypes,n=j.createClass({displayName:"LeafletPopup",propTypes:{options:m.object,coordinates:m.instanceOf(g)},statics:{mutate:function(o,p,q){if(!k(p.options,q.options))return false;if(p.coordinates!==q.coordinates)o.setLatLng(i.toLatLng(p.coordinates));var r=o.getContent(),s=j.Children.only(p.children);j.render(s,r);return true;},toLayer:function(o){var p=h.popup(o.options);if(o.coordinates)p.setLatLng(i.toLatLng(o.coordinates));var q=j.Children.only(o.children),r=document.createElement('div');p.setContent(r);j.render(q,r,function(){return p.update();});return p;}},render:function(){return null;}});e.exports=n;},null);
__d("LeafletMarker.react",["GeoCoordinates","leaflet","LeafletLayer.react","LeafletPopup.react","LeafletUtils","React","areEqual"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=l,o=n.PropTypes,p=l.createClass({displayName:"LeafletMarker",propTypes:{options:o.object,eventHandlers:o.object,coordinates:o.instanceOf(g).isRequired,popup:o.instanceOf(j)},statics:{mutate:function(q,r,s){var t=s.options||{},u=t.opacity,v=t.zIndex,w=(function(ca,da){var ea={},fa=Object.prototype.hasOwnProperty;if(ca==null)throw new TypeError();for(var ga in ca)if(fa.call(ca,ga)&&!fa.call(da,ga))ea[ga]=ca[ga];return ea;})(t,{opacity:1,zIndex:1}),x=r.options||{},y=x.opacity,z=x.zIndex,aa=(function(ca,da){var ea={},fa=Object.prototype.hasOwnProperty;if(ca==null)throw new TypeError();for(var ga in ca)if(fa.call(ca,ga)&&!fa.call(da,ga))ea[ga]=ca[ga];return ea;})(x,{opacity:1,zIndex:1});if(!m(aa,w))return false;i.mutateEventHandlers(q,r.eventHandlers,s.eventHandlers);if(y!==u)q.setOpacity(y);if(z!==v)q.setZIndex(z);if(r.coordinates!==s.coordinates)q.setLatLng(k.toLatLng(r.coordinates));if(r.popup){var ba=r.popup.type.mutate(q.getPopup(),r.popup.props,s.popup.props);if(!ba){q.unbindPopup();q.bindPopup(r.popup.type.toLayer(r.popup.props));}}else if(!r.popup&&s.popup)q.unbindPopup();return true;},toLayer:function(q){var r=h.marker(k.toLatLng(q.coordinates),q.options);i.addEventHandlers(r,q.eventHandlers);if(q.popup)r.bindPopup(q.popup.type.toLayer(q.popup.props));return r;}},render:function(){return null;}});e.exports=p;},null);
__d("LeafletPolyline.react",["leaflet","LeafletPath","LeafletUtils","immutable","React","nearlyEqualNumbers"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=k,n=m.PropTypes,o=k.createClass({displayName:"LeafletPolyline",propTypes:{options:n.object,coordinates:n.instanceOf(j.List).isRequired},statics:{coordinatesToLatLngs:function(p){return p.toSeq().map(i.toLatLng).toArray();},mutate:function(p,q,r){if(!o.mutateOptions(p,q.options,r.options))return false;if(!j.is(q.coordinates,r.coordinates))p.setLatLngs(o.coordinatesToLatLngs(q.coordinates));return true;},toLayer:function(p){return g.polyline(o.coordinatesToLatLngs(p.coordinates),p.options);},mutateOptions:function(p,q,r){var s=q||{},t=s.smoothFactor,u=s.noClip,v=(function(aa,ba){var ca={},da=Object.prototype.hasOwnProperty;if(aa==null)throw new TypeError();for(var ea in aa)if(da.call(aa,ea)&&!da.call(ba,ea))ca[ea]=aa[ea];return ca;})(s,{smoothFactor:1,noClip:1}),w=r||{},x=w.smoothFactor,y=w.noClip,z=(function(aa,ba){var ca={},da=Object.prototype.hasOwnProperty;if(aa==null)throw new TypeError();for(var ea in aa)if(da.call(aa,ea)&&!da.call(ba,ea))ca[ea]=aa[ea];return ca;})(w,{smoothFactor:1,noClip:1});if(!h.mutateOptions(p,z,v))return false;if(!l(x,t)||y!==u)return false;return true;}},render:function(){return null;}});e.exports=o;},null);
__d("MessengerPhotoishXMA.react",["React","requireWeak"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i;h(['MessengerPhotosGroup.react'],function(n){i=n;});var j=g.Component;for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(n){j.call(this,n);}m.prototype.shouldComponentUpdate=function(n,o){return this.props!==n;};m.prototype.render=function(){if(!i)return null;return g.createElement(i,g.__spread({},this.props));};e.exports=m;},null);
__d("MNCommerceReceiptActions",["MessengerDispatcher","MNCommerceActionTypes"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i={receiptLoaded:function(j){g.dispatch({type:h.RECEIPT.LOADED,receipt:j});},receiptLoadError:function(j){g.dispatch({type:h.RECEIPT.LOAD_ERROR,receiptID:j});},receiptReload:function(j){g.dispatch({type:h.RECEIPT.RELOAD,receiptID:j});}};e.exports=i;},null);
__d("MNCommerceShipmentActions",["MessengerDispatcher","MNCommerceActionTypes"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i={shipmentLoaded:function(j){g.dispatch({type:h.SHIPMENT.LOADED,shipment:j});},shipmentLoadError:function(j){g.dispatch({type:h.SHIPMENT.LOAD_ERROR,shipmentID:j});},shipmentReload:function(j){g.dispatch({type:h.SHIPMENT.RELOAD,shipmentID:j});}};e.exports=i;},null);
__d("MessengerAttachmentImageBlock.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=g,k=j.PropTypes,l=g.createClass({displayName:"MessengerAttachmentImageBlock",propTypes:{attachment:k.object.isRequired},render:function(){return (g.createElement("div",{className:i(this.props.className,this._computeClass())},this._renderImage(),g.createElement("div",{className:"_5swm"},this.props.children)));},_renderImage:function(){if(!this.props.attachment.media||!this.props.attachment.media.image)return null;var n=this._getDimensions(),o=n.height,p=n.width,q=o>p,r=m(o,p),s=o&&p?o/p*100:100,t=(q||r)?.2:1,u=(q||r)?s:52;return (g.createElement("div",{className:"_3xn1",style:{backgroundImage:'url('+this.props.attachment.media.image+')',paddingBottom:q&&s>150?'136px':u*t+'%'}}));},_computeClass:function(){if(!this.props.attachment.media||!this.props.attachment.media.image)return "_3xn3 _5swn";var n=this._getDimensions(),o=n.height,p=n.width,q=o>p;return (("_3xn3")+(m(o,p)&&!q?' '+"_3xn5":'')+(q?' '+"_3xn6":'')+(p>=o?' '+"_3xn7":''));},_getDimensions:function(){var n=this.props.attachment.properties||{},o=n.height,p=n.width;if(o&&p){o=parseInt(o,10);p=parseInt(p,10);return {height:o,width:p};}return {height:0,width:0};}});function m(n,o){return n<=300&&o<=300;}e.exports=l;},null);
__d("MNCommerceAddress.react",["React"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();'use strict';var h=g,i=h.PropTypes,j=g.createClass({displayName:"MNCommerceAddress",propTypes:{name:i.string,rawAddress:i.string,address:i.shape({street_1:i.string,street_2:i.string,city:i.string,state:i.string,postal_code:i.string})},render:function(){if(this.props.rawAddress)return this._renderFallbackAddress();return this._renderProperAddress();},_renderProperAddress:function(){if(!this.props.address)return null;return (g.createElement("div",null,this._renderName(),g.createElement("div",null,this.props.address.street_1),g.createElement("div",null,this.props.address.street_2),g.createElement("div",null,this._getCityStateZip())));},_getCityStateZip:function(){var k=null;if(this.props.address.city)k=this.props.address.city;if(this.props.address.state){k+=k?', ':'';k+=this.props.address.state;}if(this.props.address.postal_code){k+=k?' ':'';k+=this.props.address.postal_code;}return k;},_renderFallbackAddress:function(){return (g.createElement("div",null,this._renderName(),g.createElement("div",null,this.props.rawAddress)));},_renderName:function(){if(this.props.name)return (g.createElement("div",null,this.props.name));}});e.exports=j;},null);
__d("MNCommerceItemText.react",["MNCommerceOrderStatus","React","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=h,m=l.PropTypes,n=h.createClass({displayName:"MNCommerceItemText",propTypes:{metalines:m.shape({metaline_1:m.string,metaline_2:m.string,metaline_3:m.string}),title:m.string,size:m.oneOf(['large','small']),status:m.string},getDefaultProps:function(){return {size:'small'};},render:function(){var o=this.props,p=o.className,q=(function(s,t){var u={},v=Object.prototype.hasOwnProperty;if(s==null)throw new TypeError();for(var w in s)if(v.call(s,w)&&!v.call(t,w))u[w]=s[w];return u;})(o,{className:1}),r=(("_swr")+(q.size==='small'?' '+"_sws":''));return (h.createElement("div",h.__spread({className:k(p,r)},q),h.createElement("div",{className:"_51fw"},this.props.title),h.createElement("div",{className:"_2y0f"},this._renderMetaData())));},_renderMetaData:function(){if(this.props.metalines)return (h.createElement("div",null,this._renderMetaDataSection(this.props.metalines.metaline_1),this._renderMetaDataSection(this.props.metalines.metaline_2),this._renderPriceMetaDataSection()));},_renderMetaDataSection:function(o){if(o)return (h.createElement("div",null,o));},_renderPriceMetaDataSection:function(){if(this.props.size!=='large')return null;if(this.props.status===g.CANCELED)return (h.createElement("div",null,h.createElement("span",{className:"__hz"},j._("Anulowano"),' \u00b7 '),this.props.metalines.metaline_3));return (h.createElement("div",null,this.props.metalines.metaline_3));}});e.exports=n;},null);
__d("MNCommerceSingleListItem.react",["Image.react","MNCommerceItemText.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=i,m=l.PropTypes,n=i.createClass({displayName:"MNCommerceSingleListItem",propTypes:{description:m.string,thumbURL:m.string,imageDimension:m.number.isRequired,status:m.string},render:function(){return (i.createElement("div",{className:k(this.props.className,"_39q_"),style:{height:this.props.imageDimension,width:this.props.width}},i.createElement("div",{className:"_1fld"},this._renderImage()),i.createElement(h,i.__spread({className:"_1flf",style:{left:this.props.imageDimension},size:this.props.size,status:this.props.status},this.props))));},_renderImage:function(){var o=this.props.imageDimension;if(this.props.thumbURL){return (i.createElement(g,{className:"_1fle",height:o,src:this.props.thumbURL,width:o}));}else return (i.createElement("div",{className:"_1prr",style:{height:o,width:o}}));}});e.exports=n;},null);
__d("MNCommerceItemList.react",["List.react","MNCommerceSingleListItem.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=i,m=l.PropTypes,n=10,o=i.createClass({displayName:"MNCommerceItemList",propTypes:{items:m.array,imageDimension:m.number.isRequired,size:m.oneOf(['large','small']),width:m.number},render:function(){var p=this._getItems(),q=this.props.items.length;if(q>n)p.push(i.createElement("li",{key:"andMore",className:"_24ry",style:{width:this.props.width}},k._("And {Number of items not visible} more",[k.param("Number of items not visible",q-n)])));return (i.createElement("div",null,i.createElement(g,{border:"none",spacing:"none"},p)));},_getItems:function(){var p=this.props,q=p.imageDimension,r=p.items,s=r.map(function(t){return i.createElement("li",{key:t.id,className:(("_24rx")+(this.props.size==='large'?' '+"_1n5y":'')),style:{width:this.props.width}},i.createElement(h,i.__spread({imageDimension:q,size:this.props.size,width:this.props.width},t)));}.bind(this)).slice(0,n);return s;}});e.exports=o;},null);
__d("MNCommerceLogoHeader.react",["Image.react","React","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h,k=j.PropTypes,l=h.createClass({displayName:"MNCommerceLogoHeader",propTypes:{logo:k.object,label:k.string},render:function(){var m=this._renderLogo();if(this.props.label){return (h.createElement("div",{className:"_56rt"},h.createElement("div",{className:"_56ru"},h.createElement("div",{className:"_56rv"},this.props.label)),h.createElement("div",{className:"_56ru"},m)));}else return m;},_renderLogo:function(){var m=this.props.logo;if(!m||!m.src)return null;return (h.createElement(g,{className:"_56rs",height:m.height,src:m.src,width:m.width}));}});e.exports=l;},null);
__d("MNCommerceCancelReturnMercuryAttachment.react",["MNCommerceHeaderLabels","MNCommerceItemList.react","MNCommerceAttachmentConstants","MNCommerceLogoHeader.react","MercuryShareAttachmentRenderLocations","React","StoryAttachmentStyle","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=l,q=p.PropTypes,r='retail_return',s=l.createClass({displayName:"MNCommerceCancelReturnMercuryAttachment",propTypes:{items:q.array.isRequired,logo:q.object,type:q.string,width:q.number,onAttachmentClick:q.func,status:q.string},render:function(){var t=this._getHeaderLabelText();return (l.createElement("div",{onClick:this.props.onAttachmentClick,className:o((("_l4o")+(this.props.location===k.WEB_INBOX?' '+"_1hf9":'')),this.props.className)},l.createElement("div",{className:"_l4p"},l.createElement(j,{label:t,logo:this.props.logo})),l.createElement("div",{className:"_l4q"},this._renderItemDescriptions())));},_getHeaderLabelText:function(){var t;switch(this.props.type){case m.RETAIL_CANCELLATION:t=g.CANCELED;break;case r:t=g.RETURNED;break;}var u;if(t)if(this.props.items.length===1){u=t.single;}else u=t.plural;return u;},_renderItemDescriptions:function(){if(!this.props.items.length)return null;var t=this.props.width-2*i.BUBBLE_PADDING;return (l.createElement(h,{items:this.props.items,imageDimension:i.LARGE_IMAGE_DIMENSION,size:"small",status:this.props.status,width:t}));}});e.exports=s;},null);
__d("MNCommerceDetailSection.react",["React","cx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();'use strict';var i=g,j=i.PropTypes,k=g.createClass({displayName:"MNCommerceDetailSection",propTypes:{headerLabel:j.string.isRequired,margin:j.number},getDefaultProps:function(){return {margin:0};},render:function(){return (g.createElement("div",{className:this.props.className},g.createElement("div",{className:"_5171",style:{marginBottom:this.props.margin}},this.props.headerLabel),this.props.children));}});e.exports=k;},null);
__d("MNCommerceOrderDetailsDialog.react",["MNCommerceAddress.react","MNCommerceAttachmentConstants","MNCommerceDetailSection.react","MNCommerceItemList.react","MNCommerceLogoHeader.react","React","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogTitle.react","XUISpinner.react","XUIButton.react","cx","fbt","mergeDeep"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=l,v=u.PropTypes,w=[h.ORDER_DETAIL.SUB_TOTAL,h.ORDER_DETAIL.SHIPPING,h.ORDER_DETAIL.TAX,h.ORDER_DETAIL.TOTAL],x={};x[h.ORDER_DETAIL.SUB_TOTAL]=s._("Subtotal");x[h.ORDER_DETAIL.SHIPPING]=s._("Shipping");x[h.ORDER_DETAIL.TAX]=s._("Tax");x[h.ORDER_DETAIL.TOTAL]=s._("Total");var y=l.createClass({displayName:"MNCommerceOrderDetailsDialog",propTypes:{receipt:v.object,shown:v.bool.isRequired,error:v.object,loading:v.bool.isRequired,onTryAgain:v.func.isRequired},getDefaultProps:function(){return {shown:false};},getInitialState:function(){return this._calculateState(this.props);},componentWillReceiveProps:function(z){this.setState(this._calculateState(z));},_calculateState:function(z){if(!z.receipt)return {};var aa=z.receipt,ba=Array.isArray(aa.structured_address)?null:aa.structured_address;return {address:ba,items:this._processItems(aa.items),logo:aa.partner_logo?{height:aa.partner_logo.height,width:aa.partner_logo.width,src:aa.partner_logo.url}:null,name:aa.recipient_name,orderDate:aa.order_time,orderNumber:aa.order_id,orderStatus:aa.status,payment:aa.payment_method,rawAddress:aa.address,shippingCost:aa.shipping_cost,subTotal:aa.subtotal,tax:aa.total_tax,totalCost:aa.total_cost};},render:function(){var z=null;if(this.props.loading){z=this._renderLoadingDetailsSection();}else if(this.props.error){z=this._renderErrorDetailsSection();}else z=this._renderFullDetailsSection();return (l.createElement(m,{className:"_1eio",onToggle:this.props.onToggle,shown:this.props.shown},l.createElement(o,null,s._("Order Details")),l.createElement(n,{useCustomPadding:true},l.createElement("div",{className:"_4vx2"},z))));},_renderErrorDetailsSection:function(){return (l.createElement("div",{className:"_289q"},l.createElement("p",{className:"_289r"},"Sorry, Something Went Wrong"),l.createElement("p",{className:"_289s"},"Your order details couldn't be shown."),l.createElement(q,{onClick:this.props.onTryAgain,label:s._("Try Again")})));},_renderLoadingDetailsSection:function(){return (l.createElement("div",{className:"_p43"},l.createElement(p,{background:"light",size:"large",paused:false})));},_renderFullDetailsSection:function(){return (l.createElement("div",null,this._renderLogo(),this._renderItems(),l.createElement("div",{className:"_2hsz"}),l.createElement("div",null,l.createElement(i,{className:"_4vx4 _4vx5",headerLabel:s._("Ordered on")},this.state.orderDate),l.createElement(i,{className:"_4vx4",headerLabel:s._("Ship to")},l.createElement(g,{name:this.state.name,address:this.state.address,rawAddress:this.state.rawAddress})),l.createElement(i,{className:"_4vx4",headerLabel:s._("Paid with")},this.state.payment),l.createElement(i,{className:"_4vx4",headerLabel:s._("Summary")},this._renderOrderSummary())),l.createElement("div",{className:"_4vx6"},s._("Order number: {order number}",[s.param("order number",this.state.orderNumber)]))));},_processItems:function(z){if(!z)return null;var aa=Object.keys(z).map(function(ba){var ca=z[ba],da=t({},ca);da.id=ba;da.thumbURL=ca.thumb_url;return da;});return aa;},_renderLogo:function(){if(!this.state.logo)return null;return (l.createElement("div",{className:"_4vx3"},l.createElement(k,{logo:this.state.logo})));},_renderItems:function(){var z=h.DIALOG.WIDTH-2*h.DIALOG.PADDING;return (l.createElement("div",{className:"_39yr"},l.createElement(j,{imageDimension:h.XLARGE_IMAGE_DIMENSION,items:this.state.items,size:"large",width:z})));},_renderOrderSummary:function(){var z=w.map(function(aa){var ba=this.state[aa];return (l.createElement("div",{className:((aa==='totalCost'?"_4vx9":'')),key:aa},l.createElement("div",{className:"_4vx5"},x[aa]),l.createElement("div",{className:"_4vx5"},ba||'--')));}.bind(this));return z;}});e.exports=y;},null);
__d("MNCommerceCacheTimeoutLimits",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();'use strict';var g={SUCCESS_TIMEOUT:10,ERROR_TIMEOUT:1};e.exports=g;},null);
__d("XMNCommerceOrderDetailsController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/messages\/commerce\/order_details\/",{receipt_id:{type:"String",required:true}});},null);
__d("MNCommerceReceiptDataManager",["AsyncRequest","MNCommerceReceiptActions","XMNCommerceOrderDetailsController"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(){}j.prototype.fetchReceipt=function(k){var l=i.getURIBuilder().setString('receipt_id',k).getURI();new g().setURI(l).setHandler(this.$MNCommerceReceiptDataManager0).setErrorHandler(this.$MNCommerceReceiptDataManager1).send();};j.prototype.$MNCommerceReceiptDataManager0=function(k){h.receiptLoaded(k.payload);};j.prototype.$MNCommerceReceiptDataManager1=function(k){var l=k.getRequest().uri.getQueryData(),m=l.receipt_id;h.receiptLoadError(m);};e.exports=new j();},null);
__d("MNCommerceReceiptStore",["Cache","FluxStore","LoadObject","MessengerDispatcher","MNCommerceActionTypes","MNCommerceCacheTimeoutLimits","MNCommerceReceiptDataManager"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';for(var n in h)if(h.hasOwnProperty(n))p[n]=h[n];var o=h===null?null:h.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=h;function p(){h.call(this,j);this.$MNCommerceReceiptStore0=new g();}p.prototype.__onDispatch=function(q){var r=q.type,s=q.receiptID;switch(r){case k.RECEIPT.LOADED:var t=q.receipt;this.$MNCommerceReceiptStore0.set(t.receipt_id,i.empty().setValue(t),null,l.SUCCESS_TIMEOUT);this.__emitChange();break;case k.RECEIPT.LOAD_ERROR:this.$MNCommerceReceiptStore0.set(s,i.empty().setError(new Error('Unable to load receipt: '+s)),null,l.ERROR_TIMEOUT);this.__emitChange();break;case k.RECEIPT.RELOAD:if(s){this.$MNCommerceReceiptStore0.set(s,i.loading());m.fetchReceipt(s);}this.__emitChange();break;}};p.prototype.getReceipt=function(q){if(q&&!this.$MNCommerceReceiptStore0.has(q)){this.$MNCommerceReceiptStore0.set(q,i.loading().setValue({receiptID:q}));m.fetchReceipt(q);}return this.$MNCommerceReceiptStore0.get(q)||i.empty();};e.exports=new p();},null);
__d("MNCommerceOrderDetailsDialogContainer.react",["BanzaiLogger","MNCommerceDialogStateActions","MNCommerceDialogStateStore","MNCommerceLoggingConstants","MNCommerceLoggerEvents","MNCommerceOrderDetailsDialog.react","MNCommerceReceiptActions","MNCommerceReceiptStore","PureStoreBasedStateMixin","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q=p.createClass({displayName:"MNCommerceOrderDetailsDialogContainer",mixins:[o(n)],statics:{calculateState:function(){var r=i.getState(),s=null;if(r)s=r.receiptID;var t=n.getReceipt(s);if(!t.isLoading())g.log('MessengerCommerceLoggerConfig',{event:(t.hasError()?k.DIALOG_LOAD_ERROR:k.DIALOG_LOAD_SUCCESS),debug_data:JSON.stringify({dialog_surface:j.DIALOG_SURFACE.RECEIPT,receipt_id:s})});return {shown:!!r,loading:t.isLoading(),receiptID:s,receipt:t.getValue(),error:t.getError()};}},render:function(){return (p.createElement(l,{loading:this.state.loading,error:this.state.error,onToggle:this._onToggle,onTryAgain:this._onTryAgainClick,shown:this.state.shown,receipt:this.state.receipt}));},_onToggle:function(r){if(!r){g.log('MessengerCommerceLoggerConfig',{event:k.DIALOG_CLOSED,debug_data:JSON.stringify({dialog_surface:j.DIALOG_SURFACE.RECEIPT,receipt_id:this.state.receipt.receipt_id})});h.hideDialog();}},_onTryAgainClick:function(){m.receiptReload(this.state.receiptID);}});e.exports=q;},null);
__d("MNCommerceCancelReturnMercuryShareAttachment.react",["MercuryShareAttachmentReactShape","MNCommerceCancelReturnMercuryAttachment.react","MNCommerceDialogStateActions","MNCommerceOrderDetailsDialogContainer.react","StoryAttachmentStyle","React"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=l,n=m.PropTypes,o=l.createClass({displayName:"MNCommerceCancelReturnMercuryShareAttachment",propTypes:{attachment:g,maxWidth:n.number},render:function(){var p=this.props.attachment,q=[],r=p.target.items;Object.keys(r).forEach(function(t){var u=r[t],v=Object.assign({},u);v.id=t;v.thumbURL=u.thumb_url;q.push(v);});var s={items:q,location:this.props.location,onAttachmentClick:this._onAttachmentClick,type:k.RETAIL_CANCELLATION,width:this.props.maxWidth,status:p.target.status};return (l.createElement(h,l.__spread({},s)));},_onAttachmentClick:function(){i.showDialog(j,{receiptID:this.props.attachment.target.receipt_id});}});e.exports=o;},null);
__d("MNCommerceFooterTypes",["keyMirror"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h=g({TOTAL:null,REFUND:null});e.exports=h;},null);
__d("MNCommerceTotalCostFooter.react",["LeftRight.react","MNCommerceFooterTypes","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=i,m=l.PropTypes,n=i.createClass({displayName:"MNCommerceTotalCostFooter",propTypes:{type:m.oneOf(Object.keys(h)),totalCost:m.string},render:function(){var o,p;switch(this.props.type){case h.TOTAL:o=(k._("Total"));p="_28k2";break;case h.REFUND:o=(k._("Refund"));p="_28k3";break;default:o='';p='';break;}return (i.createElement(g,{className:p},i.createElement("div",null,o),i.createElement("div",{className:"_28k4"},this.props.totalCost)));}});e.exports=n;},null);
__d("MercuryShareImage.react",["ChatImageArrowDirection","ChatImageWithArrow.react","React","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();'use strict';var k=i,l=k.PropTypes,m=i.createClass({displayName:"MercuryShareImage",propTypes:{height:l.number.isRequired,source:l.string.isRequired,width:l.number.isRequired},render:function(){return (i.createElement("div",{className:"_4hsl"},i.createElement(h,{arrowDirection:g.BOTH,height:this.props.height,source:this.props.source,width:this.props.width})));}});e.exports=m;},null);
__d("MNCommerceReceiptMercuryAttachment.react",["MNCommerceFooterTypes","MNCommerceItemList.react","MNCommerceAttachmentConstants","MNCommerceLogoHeader.react","MNCommerceItemText.react","MNCommerceTotalCostFooter.react","MercuryShareAttachmentRenderLocations","MercuryShareImage.react","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=o,s=r.PropTypes,t=o.createClass({displayName:"MNCommerceReceiptMercuryAttachment",propTypes:{items:s.array.isRequired,location:s.oneOf(m.getValues()),logo:s.object,totalCost:s.string,width:s.number,onAttachmentClick:s.func,status:s.string},render:function(){var u=this.props.items.length>1?"_abt":"_abu",v=this.props.logo,w=v?o.createElement("div",{className:u},o.createElement(j,{logo:v})):null;return (o.createElement("div",{className:q((("_1xjh")+(this.props.location===m.WEB_INBOX?' '+"_1hf9":'')),this.props.className),onClick:this.props.onAttachmentClick},this._renderSingleImage(),o.createElement("div",{className:"_4qgg"},w,o.createElement("div",{className:"_xmt"},this._renderItemDescriptions()),o.createElement("div",{className:"_xmx"},o.createElement(l,{totalCost:this.props.totalCost,type:g.TOTAL})))));},_renderSingleImage:function(){if(!this.props.items.length||this.props.items.length>1)return null;var u=this.props.items[0];if(this.props.location===m.CHAT)return (o.createElement(n,{height:i.SINGLE_IMAGE_HEIGHT,source:u.thumbURL,width:this.props.width}));return (o.createElement("div",{className:"_xm1",style:{backgroundImage:'url('+u.thumbURL+')'}}));},_renderItemDescriptions:function(){if(!this.props.items.length)return null;var u=this.props.width-2*i.BUBBLE_PADDING,v={size:'small',width:u};if(this.props.items.length===1){var w=this.props.items[0];return (o.createElement(k,o.__spread({description:w.description,title:w.title,status:w.status,metalines:w.metalines},v)));}return (o.createElement(h,o.__spread({items:this.props.items,imageDimension:i.LARGE_IMAGE_DIMENSION},v)));}});e.exports=t;},null);
__d("MNCommerceReceiptMercuryShareAttachment.react",["BanzaiLogger","MercuryShareAttachmentReactShape","MNCommerceDialogStateActions","MNCommerceLoggingConstants","MNCommerceLoggerEvents","MNCommerceOrderDetailsDialogContainer.react","MNCommerceReceiptMercuryAttachment.react","React","mergeDeep"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){b.__markCompiled&&b.__markCompiled();'use strict';var p=n,q=p.PropTypes,r=n.createClass({displayName:"MNCommerceReceiptMercuryShareAttachment",propTypes:{attachment:h,maxWidth:q.number},render:function(){var s=this.props.attachment,t=[],u=s.target.items;Object.keys(u).forEach(function(w){var x=u[w],y=o({},x);y.id=w;y.thumbURL=x.thumb_url;t.push(y);});var v={items:t,totalCost:s.target.total_cost,width:this.props.maxWidth,onAttachmentClick:this._onAttachmentClick,location:this.props.location,logo:s.target.partner_logo?{height:s.target.partner_logo.height,width:s.target.partner_logo.width,src:s.target.partner_logo.url}:null,status:s.target.status};return (n.createElement(m,n.__spread({},v)));},_onAttachmentClick:function(){g.log('MessengerCommerceLoggerConfig',{event:k.DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:j.DIALOG_SURFACE.RECEIPT,receipt_id:this.props.attachment.target.receipt_id})});i.showDialog(l,{receiptID:this.props.attachment.target.receipt_id});}});e.exports=r;},null);
__d("XTilesStaticMapController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/staticmap\/",{bbox:{type:"String"},center:{type:"String"},circle:{type:"String"},format:{type:"String"},language:{type:"String"},markers:{type:"String"},path:{type:"String"},region:{type:"String"},scale:{type:"Int"},size:{type:"String",required:true},u:{type:"String"},v:{type:"String"},visible:{type:"String"},zoom:{type:"Int"}});},null);
__d("MNCommerceShippingMap.react",["FBTilesMap.react","GeoCoordinates","leaflet","LeafletCircleMarker.react","LeafletPolyline.react","LeafletMarker.react","LeafletUtils","immutable","MercuryShareAttachmentRenderLocations","MercuryShareImage.react","MNCommerceAttachmentConstants","React","ResponsiveBlock.react","XTilesStaticMapController","cssVar","cx","debounce"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){b.__markCompiled&&b.__markCompiled();'use strict';var x=r,y=x.PropTypes,z=.02,aa={boxZoom:false,doubleClickZoom:false,dragging:false,scrollWheelZoom:false,touchZoom:false,zoomControl:false},ba={color:'#70768b',opacity:1,weight:1,fill:true,fillOpacity:1,fillColor:'#ffffff',radius:2.5},ca={color:'black',opacity:.2},da={color:"#5890ff",opacity:1},ea={iconSize:[30,37],iconAnchor:[15,37]},fa=445,ga=242,ha=r.createClass({displayName:"MNCommerceShippingMap",propTypes:{className:y.string,destination:y.instanceOf(h).isRequired,delivered:y.bool,location:y.string,shippingCheckPoints:y.instanceOf(n.List).isRequired,style:y.object,width:y.number},getInitialState:function(){return {height:ga,size:i.point(fa,ga),width:fa};},render:function(){if(this.props.location){return this._renderStaticMap();}else return (r.createElement(g,{className:this.props.className,view:this._getView(),style:this.props.style,options:aa,onViewChange:this._onViewChange,onSizeSettled:this._onSizeSettled},this._renderShippingCheckPoints(),this._renderDestinationPolyline(),this._renderDestinationWayPoint(),this._renderLocationIdentifiers()));},_renderStaticMap:function(){var ia=this.props.width||this.state.width,ja=this.state.height||q.SINGLE_IMAGE_HEIGHT,ka=m.getViewBounds(this._getView(),{width:ia,height:ja}),la=ka.getNorthWest().lat+','+ka.getNorthWest().lng+'|'+ka.getSouthEast().lat+','+ka.getSouthEast().lng,ma=t.getURIBuilder().setString('size',ia+'x'+ja).setString('markers',this.props.destination.latitude+','+this.props.destination.longitude).setInt('scale',2).setString('bbox',la).getURI();if(this.props.location===o.CHAT){return (r.createElement(p,{height:q.SINGLE_IMAGE_HEIGHT,width:this.props.width,source:ma.toString()}));}else return (r.createElement(s,{onResize:w(this._onResize,500,this)},r.createElement("div",{className:this.props.className,style:{backgroundImage:'url('+ma.toString()+')'}})));},_onResize:function(ia,ja){this.setState({width:ia,height:ja});},_onViewChange:function(){},_renderShippingCheckPoints:function(){if(this.props.shippingCheckPoints.size>1)return (r.createElement(k,{coordinates:this.props.shippingCheckPoints,options:da}));},_renderDestinationPolyline:function(){if(!this.props.delivered&&this.props.shippingCheckPoints.size>0){var ia=n.List([this.props.destination,this.props.shippingCheckPoints.first()]);return (r.createElement(k,{coordinates:ia,options:ca}));}},_renderDestinationWayPoint:function(){return (r.createElement(l,{coordinates:this.props.destination,options:{icon:i.divIcon(Object.assign({},ea,{className:"_18ea"}))}}));},_renderLocationIdentifiers:function(){var ia=[this.props.destination];if(this.props.shippingCheckPoints.size>0)return ia.concat(this.props.shippingCheckPoints.toArray()).map(function(ja,ka){return r.createElement(j,{center:ja,key:ka,options:ba});});},_getLatLngPoints:function(){var ia=[this.props.destination];if(this.props.shippingCheckPoints.size>0)ia=ia.concat(this.props.shippingCheckPoints.toArray());return ia.map(m.toLatLng);},_getView:function(){var ia=this._getLatLngPoints(),ja=i.latLngBounds(ia).pad(z);return m.fitBounds(ja,{width:this.state.size.x,height:this.state.size.y},{zoomRange:[0,12]});},_onSizeSettled:function(ia){this.setState({size:ia});}});e.exports=ha;},null);
__d("MNCommerceShippingDetailsDialog.react",["ActionList.react","GeoCoordinates","immutable","Link.react","MNCommerceAddress.react","MNCommerceAttachmentConstants","MNCommerceDetailSection.react","MNCommerceItemList.react","MNCommerceLogoHeader.react","MNCommerceShippingMap.react","React","MNCommerceDialog.react","MNCommerceDialogBody.react","MNCommerceDialogTitle.react","XUISpinner.react","XUIButton.react","cx","fbt","mergeDeep"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();'use strict';var z=q,aa=z.PropTypes,ba=q.createClass({displayName:"MNCommerceShippingDetailsDialog",propTypes:{shipment:aa.shape({address:aa.shape({street_1:aa.string,street_2:aa.string,city:aa.string,state:aa.string,postal_code:aa.string}),carrierInfo:aa.string,changeURL:aa.string,deliverDate:aa.string,name:aa.string,shipDate:aa.string,delivered:aa.bool,destination:aa.instanceOf(h),items:aa.object,logo:aa.shape({height:aa.number,width:aa.number,src:aa.string}),orderDetailsURL:aa.string,rawAddress:aa.string,progress:aa.object,shippingCheckPoints:aa.instanceOf(i.List),trackingNumber:aa.string}),shown:aa.bool.isRequired,error:aa.object,loading:aa.bool.isRequired,onToggle:aa.func,onTryAgain:aa.func},getDefaultProps:function(){return {shown:false};},render:function(){var ca=null;if(this.props.loading){ca=this._renderLoadingDetailsSection();}else if(this.props.error){ca=this._renderErrorDetailsSection();}else ca=this._renderFullDetailsSection();return (q.createElement(r,{className:"_z-y",modal:true,onToggle:this.props.onToggle,shown:this.props.shown},q.createElement(t,null,x._("Shipping Details")),q.createElement(s,{useCustomPadding:true},ca)));},_renderErrorDetailsSection:function(){return (q.createElement("div",{className:"_1bi1"},q.createElement("p",{className:"_1bi3"},"Sorry, Something Went Wrong"),q.createElement("p",{className:"_1bi4"},"Your shipment details couldn't be shown."),q.createElement(v,{onClick:this.props.onTryAgain,label:x._("Try Again")})));},_renderLoadingDetailsSection:function(){return (q.createElement("div",{className:"_p43"},q.createElement(u,{background:"light",size:"large",paused:false})));},_renderFullDetailsSection:function(){return (q.createElement("div",null,this._renderMap(),q.createElement("div",{className:"_3qia"},q.createElement("div",null,this._renderCallToActionList()),q.createElement("div",null,this._renderDeliverySection(),this._renderAddressSection(),this._renderCarrierSection(),this._renderProgressSection(),this._renderItemsSection()),q.createElement("div",{className:"_3qih"},this._renderLogo()))));},_processItems:function(){var ca=Object.keys(this.props.shipment.items).map(function(da){var ea=this.props.shipment.items[da],fa=y({},ea);fa.id=da;fa.thumbURL=ea.thumb_url;return fa;}.bind(this));return ca;},_getItemsHeader:function(){var ca,da=this._processItems();if(da.length===1){ca=(x._("Item"));}else if(da.length>1){ca=(x._("Items"));}else ca=(x._("No items found"));return ca;},_renderDeliverySection:function(){if(!this.props.shipment.deliverDate)return null;return (q.createElement(m,{className:"_3qic",headerLabel:x._("Delivery on")},this.props.shipment.deliverDate));},_renderAddressSection:function(){if(!this.props.shipment.address&&!this.props.rawAddress)return null;return (q.createElement(m,{className:"_3qic",headerLabel:x._("Ship to")},q.createElement(k,{address:this.props.shipment.address,rawAddress:this.props.shipment.rawAddress,name:this.props.shipment.name})));},_renderCarrierSection:function(){if(!this.props.shipment.carrierInfo)return null;return (q.createElement(m,{className:"_3qic",headerLabel:x._("Carrier")},this.props.shipment.carrierInfo));},_renderProgressSection:function(){var ca=this.props.shipment.progress,da=Object.keys(ca).reverse(),ea=null;if(!ca||!da.length){ea=(x._("Tracking info should be available soon"));}else ea=da.map(function(fa){var ga=ca[fa];return (q.createElement("div",{className:"_3qii",key:fa},q.createElement("p",{className:"_3qij"},ga.tracking_event_description),q.createElement("p",{className:"_3qik"},ga.display_time)));});return (q.createElement(m,{className:"_3qic",headerLabel:x._("Tracking")},ea));},_renderItemsSection:function(){if(!this.props.shipment.items)return null;var ca=l.DIALOG.WIDTH-2*l.DIALOG.PADDING;return (q.createElement(m,{className:"_3qic _39yr",headerLabel:this._getItemsHeader(),margin:6},q.createElement(n,{imageDimension:l.SMALL_IMAGE_DIMENSION,items:this._processItems(),size:"small",width:ca})));},_renderLogo:function(){if(!this.props.shipment.logo)return null;var ca=(x._("Tracking number: {tracking number}",[x.param("tracking number",this.props.shipment.trackingNumber)]));return (q.createElement("div",{className:"_3xyi"},q.createElement(o,{logo:this.props.shipment.logo,label:ca})));},_renderMap:function(){if(!this.props.shipment.destination)return null;return (q.createElement(p,{className:"_387w",delivered:this.props.shipment.delivered,destination:this.props.shipment.destination,shippingCheckPoints:this.props.shipment.shippingCheckPoints}));},_renderCallToActionList:function(){var ca=[];if(this.props.shipment.changeURL)ca.push(q.createElement(j,{className:"_3qil",href:this.props.shipment.changeURL,key:"changeDelivery",target:"_blank"},x._("Change Delivery Options")));if(!ca.length)return null;return (q.createElement(g,{className:"_3qim"},ca));},_onViewChange:function(ca){this.setState({view:ca});}});e.exports=ba;},null);
__d("XMNCommerceShippingDetailsController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/messages\/commerce\/shipping_details\/",{shipment_id:{type:"String",required:true}});},null);
__d("MNCommerceShipmentDataManager",["AsyncRequest","MNCommerceShipmentActions","XMNCommerceShippingDetailsController"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';function j(){}j.prototype.fetchShipment=function(k){var l=i.getURIBuilder().setString('shipment_id',k).getURI();new g().setURI(l).setHandler(this.$MNCommerceShipmentDataManager0).setErrorHandler(this.$MNCommerceShipmentDataManager1).send();};j.prototype.$MNCommerceShipmentDataManager0=function(k){h.shipmentLoaded(k.payload);};j.prototype.$MNCommerceShipmentDataManager1=function(k){var l=k.getRequest().uri.getQueryData(),m=l.shipment_id;h.shipmentLoadError(m);};e.exports=new j();},null);
__d("MNCommerceShipmentStore",["Cache","FluxStore","LoadObject","MessengerDispatcher","MNCommerceActionTypes","MNCommerceCacheTimeoutLimits","MNCommerceShipmentDataManager"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';for(var n in h)if(h.hasOwnProperty(n))p[n]=h[n];var o=h===null?null:h.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=h;function p(){h.call(this,j);this.$MNCommerceShipmentStore0=new g();}p.prototype.__onDispatch=function(q){var r=q.type,s=q.shipmentID;switch(r){case k.SHIPMENT.LOADED:var t=q.shipment;this.$MNCommerceShipmentStore0.set(t.shipment_id,i.empty().setValue(t),null,l.SUCCESS_TIMEOUT);this.__emitChange();break;case k.SHIPMENT.LOAD_ERROR:this.$MNCommerceShipmentStore0.set(s,i.empty().setError(new Error('Unable to load shipment: '+s)),null,l.ERROR_TIMEOUT);this.__emitChange();break;case k.SHIPMENT.RELOAD:if(s){this.$MNCommerceShipmentStore0.set(s,i.loading());m.fetchShipment(s);}this.__emitChange();break;}};p.prototype.getShipment=function(q){if(q&&!this.$MNCommerceShipmentStore0.has(q)){this.$MNCommerceShipmentStore0.set(q,i.loading().setValue({shipmentID:q}));m.fetchShipment(q);}return this.$MNCommerceShipmentStore0.get(q)||i.empty();};e.exports=new p();},null);
__d("MNCommerceShippingDetailsDialogContainer.react",["BanzaiLogger","GeoCoordinates","immutable","MNCommerceDialogStateActions","MNCommerceDialogStateStore","MNCommerceLoggingConstants","MNCommerceLoggerEvents","MNCommerceShippingDetailsDialog.react","MNCommerceShipmentActions","MNCommerceShipmentStore","PureStoreBasedStateMixin","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();'use strict';var s=r.createClass({displayName:"MNCommerceShippingDetailsDialogContainer",mixins:[q(p)],statics:{calculateState:function(){var t=k.getState(),u=null;if(t)u=t.shipmentID;var v=p.getShipment(u);if(!v.isLoading())g.log('MessengerCommerceLoggerConfig',{event:(v.hasError()?m.DIALOG_LOAD_ERROR:m.DIALOG_LOAD_SUCCESS),debug_data:JSON.stringify({dialog_surface:l.DIALOG_SURFACE.SHIPMENT,shipment_id:u})});return {shown:!!t,loading:v.isLoading(),shipmentID:u,shipment:v.getValue(),error:v.getError()};}},render:function(){return (r.createElement(n,{loading:this.state.loading,error:this.state.error,onToggle:this._onToggle,onTryAgain:this._onTryAgainClick,shown:this.state.shown,shipment:this._getParsedShipment(this.state.shipment)}));},_getParsedShipment:function(t){if(!t)return {};var u=[],v=t.origin,w=t.events;if(v&&v.latitude&&(!w||Object.keys(w).length===0)){u=[new h(v.latitude,v.longitude)];}else if(w)u=Object.keys(w).map(function(y){var z=w[y];if(z.tracking_event_location&&z.tracking_event_location.latitude)return new h(z.tracking_event_location.latitude,z.tracking_event_location.longitude);});var x=Array.isArray(t.destination)?null:t.destination;return {address:x,carrierInfo:t.carrier,changeURL:t.carrier_tracking_url,delivered:t.delivered,deliverDate:t.estimated_delivery_display_time,shipDate:t.display_ship_date,destination:(t.destination&&t.destination.latitude)?new h(t.destination.latitude,t.destination.longitude):null,items:t.items,logo:t.carrier_logo?{height:t.carrier_logo.height,width:t.carrier_logo.width,src:t.carrier_logo.url}:null,name:t.recipient_name?t.recipient_name:null,orderDetailsURL:t.order_details_url,progress:t.events,shippingCheckPoints:i.List(u),trackingNumber:t.tracking_number};},_onToggle:function(t){if(!t){g.log('MessengerCommerceLoggerConfig',{event:m.DIALOG_CLOSED,debug_data:JSON.stringify({dialog_surface:l.DIALOG_SURFACE.SHIPMENT,shipment_id:this.state.shipment.shipment_id})});j.hideDialog();}},_onTryAgainClick:function(){o.shipmentReload(this.state.shipmentID);}});e.exports=s;},null);
__d("MNCommerceShippingMercuryAttachment.react",["GeoCoordinates","immutable","MNCommerceItemList.react","MNCommerceAttachmentConstants","MNCommerceAttachmentUtils","MNCommerceLogoHeader.react","MNCommerceShipmentTrackingEventTypes","MNCommerceShippingMap.react","MercuryShareAttachmentRenderLocations","React","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();'use strict';var t=p,u=t.PropTypes,v=p.createClass({displayName:"MNCommerceShippingMercuryAttachment",propTypes:{carrierInfo:u.string,carrierTrackingURL:u.string,deliveryDate:u.string,deliveryPeriod:u.string,destination:u.shape,hasUnsupportedCarrier:u.bool,items:u.array.isRequired,location:u.string,logo:u.object,shippingDate:u.string,type:u.number,width:u.number,onAttachmentClick:u.func},render:function(){var w=null;if(!this.props.hasUnsupportedCarrier&&this.props.logo)w=p.createElement("div",{className:"_3lx4"},p.createElement(l,{logo:this.props.logo}));var x=this.props.items.length>1?r._("Items"):r._("Item");return (p.createElement("div",{className:s((("_3lx3")+(this.props.location===o.WEB_INBOX?' '+"_1hf9":'')),this.props.className),onClick:this.props.onAttachmentClick},this._renderUnsupportedURL(),this._renderShippingMap(),p.createElement("div",{className:"_2jdp"},p.createElement("div",{className:"_2jdq"},w,p.createElement("div",{className:"_3lx5"},this._renderShippingMapDescriptionOrFallback(),p.createElement("p",{className:"_5ry9 _3lxb"},x),this._renderItemDescriptions())))));},_renderUnsupportedURL:function(){if(this.props.hasUnsupportedCarrier&&this.props.carrierTrackingURL)return (p.createElement("a",{href:this.props.carrierTrackingURL,target:"_blank"}));},_renderShippingMap:function(){if(k.shouldRenderMap(this.props.destination,this.props.deliveryDate)){var w=new g(this.props.destination.latitude,this.props.destination.longitude);return (p.createElement(n,{className:"_gn9",destination:w,shippingCheckPoints:h.List([]),location:this.props.location,style:{height:j.SINGLE_IMAGE_HEIGHT},width:this.props.width}));}},_renderShippingMapDescriptionOrFallback:function(){if(k.shouldRenderMap(this.props.destination,this.props.deliveryDate)){var w=this.props.deliveryDate;if(this.props.deliveryPeriod)w+=', '+this.props.deliveryPeriod;return (p.createElement("div",{className:"_3lx6"},this._renderDeliverySection(),p.createElement("p",{className:"_5ry9"},r._("Ship to")),p.createElement("p",{className:"_5rya"},this._renderDestinationAddress())));}return (p.createElement("div",null,this._renderShippingSection(),this._renderDeliveryOrCarrierSection()));},_renderDestinationAddress:function(){if(!this.props.destination)return null;var w=this.props.destination&&this.props.destination.street_1;if(!!this.props.destination.city)w=w+' '+this.props.destination.city+',';if(!!this.props.destination.state)w=w+' '+this.props.destination.state;return w;},_renderDeliveryOrCarrierSection:function(){var w,x;if(this.props.hasUnsupportedCarrier){w=(r._("Carrier"));x=p.createElement("p",{className:"_5rya"},this.props.carrierInfo);}else if(!this.props.deliveryDate){return null;}else return (p.createElement("div",{className:"_3lx6"},this._renderDeliverySection()));},_renderDeliverySection:function(){var w,x;w=this._getDeliveryLabel();var y=this.props.type===m.DELAYED?p.createElement("span",null,p.createElement("span",{className:"_5ryb"},r._("Delayed")),' '," Â· ",' '):'',z=this.props.deliveryDate;if(this.props.deliveryPeriod)z+=', '+this.props.deliveryPeriod;x=p.createElement("p",{className:"_5rya"},y,z);return (p.createElement("div",null,p.createElement("p",{className:"_5ry9"},w),x));},_getDeliveryLabel:function(){switch(this.props.type){case m.OUT_FOR_DELIVERY:return (r._("Out for delivery on"));case m.DELIVERED:return (r._("Delivered on"));default:return (r._("Delivery on"));}},_renderShippingSection:function(){if(!this.props.type)return (p.createElement("div",{className:"_3lx6"},p.createElement("p",{className:"_5ry9"},r._("Shipped on")),p.createElement("p",{className:"_5rya"},this.props.shippingDate)));return null;},_renderItemDescriptions:function(){if(!this.props.items.length)return null;var w=this.props.width-2*j.BUBBLE_PADDING;return (p.createElement(i,{items:this.props.items,imageDimension:j.SMALL_IMAGE_DIMENSION,size:"small",width:w}));}});e.exports=v;},null);
__d("MNCommerceShippingMercuryShareAttachment.react",["BanzaiLogger","MercuryShareAttachmentReactShape","MNCommerceBubbleType","MNCommerceDialogStateActions","MNCommerceLoggingConstants","MNCommerceLoggerEvents","MNCommerceShippingDetailsDialogContainer.react","MNCommerceShippingMercuryAttachment.react","ReactComponentWithPureRenderMixin","React","formatDate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();'use strict';var r=p,s=r.PropTypes,t=p.createClass({displayName:"MNCommerceShippingMercuryShareAttachment",mixins:[o],propTypes:{attachment:h,maxWidth:s.number},render:function(){var u=this.props.attachment,v=[],w=u.target.items;Object.keys(w).forEach(function(da){var ea=w[da],fa=Object.assign({},ea);fa.id=da;fa.thumbURL=ea.thumb_url;v.push(fa);});var x=u.target,y=x.ship_date?q(x.ship_date,'D M d')+', '+q(x.ship_date,'g:ia'):null,z=x.estimated_delivery_time||x.timestamp,aa=z?q(z,'D M d'):null,ba=x.messenger_commerce_bubble_type===i.FB_RETAIL_SHIPMENT_FOR_UNSUPPORTED_CARRIER,ca={carrierInfo:x.carrier,carrierTrackingURL:x.carrier_tracking_url,deliveryDate:aa,destination:x.destination,logo:u.target.carrier_logo?{height:u.target.carrier_logo.height,width:u.target.carrier_logo.width,src:u.target.carrier_logo.url}:null,items:v,hasUnsupportedCarrier:ba,location:this.props.location,width:this.props.maxWidth,type:x.tracking_event_type,shippingDate:y,onAttachmentClick:ba?null:this._onAttachmentClick};return (p.createElement(n,p.__spread({},ca)));},_onAttachmentClick:function(){g.log('MessengerCommerceLoggerConfig',{event:l.DIALOG_OPENED,debug_data:JSON.stringify({dialog_surface:k.DIALOG_SURFACE.SHIPMENT,shipment_id:this.props.attachment.target.shipment_id})});j.showDialog(m,{shipmentID:this.props.attachment.target.shipment_id});}});e.exports=t;},null);
__d("XMomentsAppInstallLinkDialogController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/moments_app\/install_link\/dialog\/",{share_id:{type:"String",required:true},__asyncDialog:{type:"Int"}});},null);
__d("MessengerMomentsAppShareAttachment.react",["AsyncRequest","Image.react","ImageBlock.react","Link.react","MarauderLogger","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareImage.react","React","ReactComponentWithPureRenderMixin","XUIButton.react","XMomentsAppInstallLinkDialogController","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=o,v=u.PropTypes,w=173,x=82,y=200,z={},aa=o.createClass({displayName:"MessengerMomentsAppShareAttachment",mixins:[p],propTypes:{attachment:l,location:v.string,rootClassName:v.string},render:function(){var ba=this.props.attachment;if(!ba||!ba.media||!ba.media.image||!ba.target)return null;if(!z[ba.share_id]){z[ba.share_id]=true;k.log('moments_invite_impression',undefined,{share_id:ba.share_id});}return (o.createElement(j,{className:t("_-2m",this.props.rootClassName),onClick:function(){return this._onClick();}.bind(this)},this._renderContentBlock(ba)));},_onClick:function(){var ba=this.props.attachment;if(!ba||!ba.target)return;var ca=String(ba.share_id),da=r.getURIBuilder().setString('share_id',ca).getURI();k.log('moments_invite_install_clicked',undefined,{share_id:ca});new g(da).send();},_renderContentBlock:function(ba){var ca=ba.media.image,da=ba.target.call_to_action_text,ea=this.props.location;if(ea===m.CHAT||ea===m.MESSENGER){var fa=null;if(ea===m.CHAT){fa=(o.createElement(n,{source:ca,width:w,height:x}));}else fa=(o.createElement("div",{className:"_54hl",style:{backgroundImage:'url('+ca+')'}}));return (o.createElement("div",{className:"_54hm"},fa,o.createElement("div",{className:"_1ath"},this._renderTextBlock(ba,"_1ati"),o.createElement("div",{className:"_-2n"}),o.createElement("div",{className:"_1atj"},da))));}else return (o.createElement(i,null,o.createElement(h,{src:ca,width:y}),o.createElement("div",{className:"_2pi8"},this._renderTextBlock(ba),o.createElement(q,{className:"_3-8n",label:da}))));},_renderTextBlock:function(ba,ca){return (o.createElement("div",{className:t("_54hq",ca)},o.createElement("div",{className:"_-2p"},ba.title),o.createElement("div",{className:"_-2q"},ba.description)));}});e.exports=aa;},null);
__d("MercuryFallbackShareAttachmentContent.react",["Image.react","ImageBlock.react","MercuryShareAttachmentRenderLocations","MercuryShareAttachmentReactShape","MercuryShareImage.react","MessengerAttachmentImageBlock.react","React","URI","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();'use strict';var q=m,r=q.PropTypes,s=72,t=m.createClass({displayName:"MercuryFallbackShareAttachmentContent",propTypes:{attachment:j,location:r.oneOf(i.getValues())},statics:{modifyURIUsingLocation:function(u,v){if(v===i.MESSENGER&&!u.getDomain())u.setDomain('facebook.com').setSubdomain(n.getRequestURI().getSubdomain()).setProtocol('https');return u;}},render:function(){var u=this.props.attachment,v=this.props.location,w=((i.CHAT===v?"_49or":'')+(i.WEB_INBOX===v?' '+"__nm":'')+(i.CHAT_PREVIEW===v?' '+"_324d":'')+(i.CHAT!==v?' '+"_tih":'')+(!(u&&u.media.image)?' '+"_49ou":'')),x=(m.createElement("div",{className:"__6j"},m.createElement("div",{className:"__6k"},u.title),m.createElement("div",{className:"__6l"},u.description),m.createElement("div",{className:"__6m"},u.source)));if(u.media&&u.media.image){if(i.CHAT===v||i.CHAT_PREVIEW===v){return (m.createElement(h,{className:w,spacing:"medium"},m.createElement(k,{height:s,source:u.media.image,width:s}),m.createElement("div",{style:{display:'flex',justifyContent:'center',flexDirection:'column',height:s}},x)));}else if(i.MESSENGER===v)return (m.createElement(l,{className:w,attachment:u},x,this.props.children));return (m.createElement(h,{className:p(this.props.className,w)},m.createElement(g,{className:"__6n",src:u.media.image,width:s}),x,this.props.children));}return (m.createElement("div",{className:p(this.props.className,w)},x,this.props.children));}});e.exports=t;},null);
__d("MercuryFallbackShareAttachment.react",["Link.react","MercuryFallbackShareAttachmentContent.react","MercuryShareAttachmentRenderLocations","MercuryShareAttachmentReactShape","React","URI","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();'use strict';var n=k,o=n.PropTypes,p=k.createClass({displayName:"MercuryFallbackShareAttachment",propTypes:{attachment:j,location:o.oneOf(i.getValues())},renderLink:function(q){var r=this.props.location;if(i.isPreview(r))return q;var s=h.modifyURIUsingLocation(new l(this.props.attachment.uri),r);return (k.createElement(g,{className:"_5rw4",href:s,target:"_blank"},q));},render:function(){return this.renderLink(k.createElement(h,k.__spread({},this.props)));}});e.exports=p;},null);
__d("MercuryShareSizeImageByWidthMixin",["Image.react","MercuryAttachment","MercuryShareAttachmentRenderLocations","MercuryShareImage.react","React"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l={_getImageSize:function(m){var n=this.props.attachment&&this.props.attachment.media,o=m?n&&n.animated_image_size:n&&n.image_size;return this.props.maxWidth?h.resizeContain({height:this.props.maxWidth,width:this.props.maxWidth},o):o;},_renderImage:function(m){var n=this.props.attachment&&this.props.attachment.media,o=this._getImageSize(m),p=m?n&&n.animated_image:n&&n.image;if(this.props.location==i.CHAT){return (k.createElement(j,{height:o&&o.height,source:p,width:o&&o.width}));}else return (k.createElement(g,{height:o&&o.height,src:p,width:o&&o.width}));}};e.exports=l;},null);
__d("MercuryAnimatedShareAttachment.react",["Link.react","MercuryAttachmentType","MercuryFallbackShareAttachment.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareSizeImageByWidthMixin","MessengerPhotoishXMA.react","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=n,p=o.PropTypes,q=n.createClass({displayName:"MercuryAnimatedShareAttachment",mixins:[l],propTypes:{attachment:j,location:p.oneOf(k.getValues()),maxWidth:p.number},render:function(){if(this.props.location===k.CHAT_PREVIEW){return n.createElement(i,n.__spread({},this.props));}else if(this.props.location===k.MESSENGER)return (n.createElement(m,{attachType:h.ANIMATED_IMAGE,attachments:[this.props.attachment]}));var r=this.props.attachment&&this.props.attachment.uri;return (n.createElement(g,{href:r,target:"_blank"},this._renderImage(true)));}});e.exports=q;},null);
__d("MercuryImageShareAttachment.react",["Link.react","MercuryAttachmentType","MercuryFallbackShareAttachment.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareSizeImageByWidthMixin","MessengerPhotoishXMA.react","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=n,p=o.PropTypes,q=n.createClass({displayName:"MercuryImageShareAttachment",mixins:[l],propTypes:{attachment:j,location:p.oneOf(k.getValues()),maxWidth:p.number},render:function(){if(this.props.location===k.CHAT_PREVIEW){return n.createElement(i,n.__spread({},this.props));}else if(this.props.location===k.MESSENGER)return (n.createElement(m,{attachType:h.PHOTO,attachments:[this.props.attachment]}));var r=this.props.attachment&&this.props.attachment.uri;return (n.createElement(g,{href:r,target:"_blank"},this._renderImage()));}});e.exports=q;},null);
__d("XPlacesMapController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/places\/map\/",{id:{type:"Int"},latitude:{type:"Float",defaultValue:0},longitude:{type:"Float",defaultValue:0},address:{type:"StringVector",defaultValue:[]},name:{type:"String"},zoom:{type:"Int"},message_location_id:{type:"Int"},__asyncDialog:{type:"Int"}});},null);
__d("MercuryMessageLocationShareAttachment.react",["Link.react","MercuryFallbackShareAttachmentContent.react","MercuryShareAttachmentRenderLocations","MercuryShareAttachmentReactShape","React","URI","XPlacesMapController","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=k,p=o.PropTypes,q=k.createClass({displayName:"MercuryMessageLocationShareAttachment",propTypes:{attachment:j,location:p.oneOf(i.getValues())},renderLink:function(r){var s=this.props.location;if(i.isPreview(s))return r;var t=h.modifyURIUsingLocation(new l(this.props.attachment.uri),s),u=this.props.attachment.deduplication_key,v=m.getURIBuilder().setInt('message_location_id',u).getURI();return (k.createElement(g,{className:"_5rw4",href:t,ajaxify:v,rel:"dialog",target:"_blank"},r));},render:function(){return this.renderLink(k.createElement(h,k.__spread({},this.props)));}});e.exports=q;},null);
__d("MercuryPhotoShareAttachment.react",["Link.react","MercuryAttachmentType","MercuryFallbackShareAttachment.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareSizeImageByWidthMixin","MessengerPhotoishXMA.react","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.__markCompiled&&b.__markCompiled();'use strict';var o=n,p=o.PropTypes,q=n.createClass({displayName:"MercuryPhotoShareAttachment",mixins:[l],propTypes:{attachment:j,location:p.oneOf(k.getValues()),maxWidth:p.number},render:function(){if(this.props.location===k.CHAT_PREVIEW){return n.createElement(i,n.__spread({},this.props));}else if(this.props.location===k.MESSENGER)return (n.createElement(m,{attachType:h.PHOTO,attachments:[this.props.attachment]}));var r=this.props.attachment&&this.props.attachment.uri;return (n.createElement(g,{rel:"theater",href:r},this._renderImage()));}});e.exports=q;},null);
__d("MercuryVideoShareAttachment.react",["CenteredContainer.react","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Image.react","Link.react","MercuryAttachmentType","MercuryFallbackShareAttachment.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareSizeImageByWidthMixin","MessengerPhotoishXMA.react","React","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();'use strict';var u=s,v=u.PropTypes,w=s.createClass({displayName:"MercuryVideoShareAttachment",mixins:[q],propTypes:{attachment:o,location:v.oneOf(p.getValues()),maxWidth:v.number},render:function(){if(this.props.location===p.CHAT_PREVIEW){return s.createElement(n,s.__spread({},this.props));}else if(this.props.location===p.MESSENGER)return (s.createElement(r,{attachType:m.VIDEO,attachments:[this.props.attachment]}));var x=this.props.attachment&&this.props.attachment.uri;return (s.createElement(l,{rel:"theater",href:x},s.createElement(i,{style:this._getImageSize()},s.createElement(h,null,this._renderImage()),s.createElement(j,null,s.createElement(g,{vertical:true},s.createElement(k,{src:t('/images/chat/chat_play_icon.png')}))))));}});e.exports=w;},null);
__d("P2PMercuryAttachment.react",["CurrentUser","Link.react","P2PAcceptMoneyDialog.react","P2PActions","P2PBigAmount.react","P2PButton.react","P2PCreditCardStore","P2PNUXRendererUtils","P2PTransferParam","P2PTransferStatus","P2PTransferStore","P2PVerificationFlowHelper","React","ReactLayeredComponentMixin","XP2PTransactionDetailController","cx","formatDate","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){b.__markCompiled&&b.__markCompiled();'use strict';var y=s,z=y.PropTypes,aa=s.createClass({displayName:"P2PMercuryAttachment",mixins:[t],propTypes:{metadata:z.object.isRequired,theme:z.string},getInitialState:function(){var ba={acceptMoneyDialogShown:false},ca=this.props.metadata,da=q.getTransferByID(ca[o.TRANSFER_ID]);if(da){ca=da;}else j.transferAdded(ca);ba.transfer=ca;ba.viewerIsSender=g.getID()===ba.transfer.sender.id;if(n.doesNUXNeedCreditCards(ba.transfer))ba.creditCardAsyncRequestState=m.getAsyncRequestState(),ba.creditCards=m.getAll();return ba;},componentDidMount:function(){this.creditCardStoreSub=m.addListener('change',this.onCreditCardStoreChange);this.transferStoreSub=q.addListener('change',this.onTransferStoreChange);i.preload();},componentWillUnmount:function(){if(this.creditCardStoreSub){this.creditCardStoreSub.remove();this.creditCardStoreSub=null;}if(this.transferStoreSub){this.transferStoreSub.remove();this.transferStoreSub=null;}},onCreditCardStoreChange:function(){this.setState({creditCardAsyncRequestState:m.getAsyncRequestState(),creditCards:m.getAll()});},onTransferStoreChange:function(){var ba={},ca=q.getTransferByID(this.state.transfer[o.TRANSFER_ID]);if(ca&&ca[o.STATUS]!==this.state.transfer[o.STATUS]){ba.transfer=ca;if(n.doesNUXNeedCreditCards(ba.transfer))ba.creditCardAsyncRequestState=m.getAsyncRequestState(),ba.creditCards=m.getAll();this.setState(ba);}},getStatus:function(){var ba=x._("Oczekuj\u0105cy"),ca=x._("Zako\u0144czono"),da=x._("Anulowano"),ea=x._("Wys\u0142ane"),fa=this.state.viewerIsSender;switch(this.state.transfer[o.STATUS]){case p.PENDING_RECIPIENT_PROCESSING:case p.INTERMEDIATE_PROCESSING:return fa?ea:ca;case p.PENDING_RECIPIENT_NUX:case p.PENDING_RECIPIENT_VERIFICATION:case p.PENDING_RECIPIENT_MANUAL_REVIEW:case p.PENDING_RECIPIENT_VERIFICATION_PROCESSING:case p.PENDING_PUSH_FAIL:case p.PENDING_SENDER_INITED:return fa?ea:ba;case p.PENDING_SENDER_MANUAL_REVIEW:case p.PENDING_SENDER_VERIFICATION:case p.PENDING_SENDER_VERIFICATION_PROCESSING:return ba;case p.CANCELED_SENDER_RISK:case p.CANCELED_DECLINED:case p.CANCELED_RECIPIENT_RISK:case p.CANCELED_SYSTEM_FAIL:case p.CANCELED_EXPIRED:case p.CANCELED_SAME_CARD:return da;case p.COMPLETED:return ca;}},isGrayStatus:function(){switch(this.state.transfer[o.STATUS]){case p.PENDING_RECIPIENT_VERIFICATION:case p.PENDING_RECIPIENT_VERIFICATION_PROCESSING:case p.PENDING_RECIPIENT_MANUAL_REVIEW:case p.PENDING_RECIPIENT_NUX:case p.PENDING_PUSH_FAIL:if(this.state.viewerIsSender)return false;return true;case p.PENDING_SENDER_MANUAL_REVIEW:case p.PENDING_SENDER_VERIFICATION:case p.PENDING_SENDER_VERIFICATION_PROCESSING:case p.CANCELED_SENDER_RISK:case p.CANCELED_DECLINED:case p.CANCELED_RECIPIENT_RISK:case p.CANCELED_SYSTEM_FAIL:case p.CANCELED_EXPIRED:case p.CANCELED_SAME_CARD:return true;case p.COMPLETED:case p.INTERMEDIATE_PROCESSING:case p.PENDING_SENDER_INITED:case p.PENDING_RECIPIENT_PROCESSING:return false;}},shouldRenderBannerFooter:function(){if(n.doesNUXNeedCreditCards(this.state.transfer)&&!m.isCreditCardsFetchComplete())return false;return (n.isRecipientActionableStatus(this.state.transfer));},handleConfirmInfoButtonClicked:function(){r.startVerificationFlow(this.state.transfer[o.TRANSFER_ID],false);},handleAddCardButtonClicked:function(){this.setState({acceptMoneyDialogShown:true});},handleAcceptMoneyDialogClose:function(){this.setState({acceptMoneyDialogShown:false});},renderInlineBanner:function(){var ba=this.state.transfer[o.STATUS];if(ba===p.PENDING_RECIPIENT_NUX){return this.renderPendingRecipientNUX();}else if(ba===p.PENDING_RECIPIENT_VERIFICATION){return this.renderPendingRecipientVerification();}else if(ba===p.PENDING_PUSH_FAIL)return this.renderPendingPushFail();return null;},renderPendingRecipientNUX:function(){var ba=this.state.transfer;return (s.createElement("div",{className:"_3asb"},s.createElement("div",{className:"_3asc"},x._("{sender_name} wys\u0142a\u0142(a) Ci pieni\u0105dze!",[x.param("sender_name",ba.sender.name)])),s.createElement("div",{className:"_3asd"},x._("Akceptacja jest bezp\u0142atna. Wystarczy doda\u0107 kart\u0119 debetow\u0105.")),s.createElement("div",{className:"_5abs"},s.createElement(l,{use:"confirm",className:"_5abt",size:"medium",label:x._("Dodaj kart\u0119 debetow\u0105"),type:"primary",onClick:this.handleAddCardButtonClicked}))));},renderPendingRecipientVerification:function(){return (s.createElement("div",{className:"_3asb"},s.createElement("div",{className:"_3asc"},x._("Potwierd\u017a swoje dane")),s.createElement("div",{className:"_3asd"},x._("Aby zaakceptowa\u0107 pieni\u0105dze wys\u0142ane Ci przez u\u017cytkownika {sender_name}, potwierd\u017a swoje dane.",[x.param("sender_name",this.state.transfer.sender.name)])),s.createElement("div",{className:"_5abs"},s.createElement(l,{use:"confirm",className:"_5abt",size:"medium",label:x._("Potwierd\u017a informacje"),type:"primary",onClick:this.handleConfirmInfoButtonClicked}))));},renderPendingPushFail:function(){return (s.createElement("div",{className:"_3asb"},s.createElement("div",{className:"_3asc"},x._("Zaktualizuj kart\u0119")),s.createElement("div",{className:"_3asd"},x._("Karta prawdopodobnie utraci\u0142a wa\u017cno\u015b\u0107 lub jest nieprawid\u0142owa. Zaktualizuj kart\u0119, aby otrzyma\u0107 {amount} {currency} od u\u017cytkownika {sender_name}.",[x.param("currency",this.state.transfer.currency),x.param("amount",this.state.transfer.amount),x.param("sender_name",this.state.transfer.sender.name)])),s.createElement("div",{className:"_5abs"},s.createElement(l,{use:"confirm",size:"medium",className:"_5abt",label:x._("Zaktualizuj kart\u0119"),type:"primary",href:this.getTransferDetailsURI(),target:"_blank"}))));},getStatusHeaderText:function(){if(this.isMessengerDotComView()){return (x._("Status"));}else return (x._("STATUS"));},getActionHeaderText:function(){var ba=this.state.transfer[o.STATUS],ca=this.isMessengerDotComView(),da=this.state.viewerIsSender,ea=ca?x._("Wys\u0142ano"):x._("WYS\u0141ANO"),fa=ca?x._("Otrzymano"):x._("OTRZYMANO"),ga=ca?x._("Anulowano"):x._("ANULOWANO");switch(ba){case p.PENDING_SENDER_MANUAL_REVIEW:case p.PENDING_RECIPIENT_MANUAL_REVIEW:case p.PENDING_RECIPIENT_PROCESSING:case p.INTERMEDIATE_PROCESSING:case p.COMPLETED:return da?ea:fa;case p.PENDING_RECIPIENT_NUX:case p.PENDING_RECIPIENT_VERIFICATION:case p.PENDING_RECIPIENT_VERIFICATION_PROCESSING:case p.PENDING_PUSH_FAIL:case p.PENDING_SENDER_INITED:return da?ea:null;case p.PENDING_SENDER_VERIFICATION:case p.PENDING_SENDER_VERIFICATION_PROCESSING:return null;case p.CANCELED_SENDER_RISK:case p.CANCELED_DECLINED:case p.CANCELED_RECIPIENT_RISK:case p.CANCELED_SYSTEM_FAIL:case p.CANCELED_EXPIRED:case p.CANCELED_SAME_CARD:return ga;}},isMessengerDotComView:function(){return this.props.theme==='messenger';},isMessagesView:function(){return this.props.theme==='messages';},getTransferStatusDate:function(){var ba,ca=this.state.transfer[o.STATUS];switch(ca){case p.PENDING_RECIPIENT_PROCESSING:case p.INTERMEDIATE_PROCESSING:case p.COMPLETED:ba=this.state.transfer.completedTime;break;case p.CANCELED_SENDER_RISK:case p.CANCELED_DECLINED:case p.CANCELED_RECIPIENT_RISK:case p.CANCELED_SYSTEM_FAIL:case p.CANCELED_EXPIRED:case p.CANCELED_SAME_CARD:ba=this.state.transfer.updatedTime;break;}if(!ba)ba=this.state.transfer.creationTime;return w(ba,'M jS, g:ia');},renderStatusFooter:function(){var ba=this.getActionHeaderText(),ca;if(ba)ca=s.createElement("div",{className:"_4ybr"},s.createElement("div",{className:"_1nkr"},s.createElement("div",{className:"_4ybp"},ba),s.createElement("div",{className:"_4ybq"},this.getTransferStatusDate())));return (s.createElement("div",{className:"_4ybn"},s.createElement("div",{className:"_4ybo"},s.createElement("div",{className:"_1nkq"},s.createElement("div",{className:"_4ybp"},this.getStatusHeaderText()),s.createElement("div",{className:"_4ybq"},this.getStatus()))),ca));},renderLayers:function(){var ba={};if(this.state.acceptMoneyDialogShown)ba.acceptDialog=s.createElement(i,{creditCards:this.state.creditCards,onClose:this.handleAcceptMoneyDialogClose,transfer:this.state.transfer});return ba;},getTransferDetailsURI:function(){return ((u.getURIBuilder()).setString('id',this.state.transfer[o.TRANSFER_ID]).getURI());},renderBigAmount:function(){return (s.createElement(k,{amount:this.state.transfer.amount,isPending:this.isGrayStatus()}));},render:function(){var ba,ca,da="_4ybm",ea=this.getTransferDetailsURI();if(this.shouldRenderBannerFooter()){ba=s.createElement("div",{className:da},this.renderInlineBanner());}else ca=s.createElement("div",{className:da},this.renderStatusFooter());return (s.createElement("div",{className:(("_30of")+(this.state.viewerIsSender?' '+"_4ybf":'')+(this.isMessagesView()?' '+"_4ybg":'')+(this.isMessengerDotComView()?' '+"_4ybh":''))},s.createElement("div",{className:"_3ase"},s.createElement(h,{className:"_3asf",href:ea,target:"_blank"},s.createElement("div",{className:"_4ybi"},this.renderBigAmount()),ca),ba)));}});e.exports=aa;},null);
__d("P2PMercuryShareAttachment.react",["MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","P2PMercuryAttachment.react","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();'use strict';var l=j,m=l.PropTypes,n=j.createClass({displayName:"P2PMercuryShareAttachment",propTypes:{attachment:g,location:m.oneOf(h.getValues())},render:function(){var o={metadata:this.props.attachment.target};if(this.props.location===h.MESSENGER){o.theme='messenger';}else if(this.props.location===h.WEB_INBOX)o.theme='messages';return (j.createElement("div",{className:"_3fyk"},j.createElement(i,j.__spread({},o))));}});e.exports=n;},null);