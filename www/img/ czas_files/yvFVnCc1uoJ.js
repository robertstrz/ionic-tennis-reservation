/*!CK:2811520286!*//*1433729744,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["a0lFb"]); }

__d("ChatSortUsers",["AvailableListConstants","OrderedFriendsList","PresencePrivacy","PresenceStatus","ShortProfiles","TokenizeUtil"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();function m(q,r){var s=i.allows(q),t=i.allows(r);if(s!==t)return s?-1:1;return 0;}var n={};function o(q){if(n[q])return n[q];var r=(k.getNowUnsafe(q)||{}).name;if(r)return n[q]=l.flatten(r);return '~';}var p={sortAlphabetical:function(q,r){var s=o(q),t=o(r);if(s!==t)return s<t?-1:1;return 0;},sortMobile:function(q,r){var s=j.get(q)===g.MOBILE,t=j.get(r)===g.MOBILE;if(s!==t)return t?-1:1;return p.sortAlphabetical(q,r);},sortCoefficient:function(q,r){var s=h.getRank(q),t=h.getRank(r);if(s!==t)return s-t;return p.sortAlphabetical(q,r);},sort:function(q,r){var s=m(q,r);if(s!==0)return s;return p.sortCoefficient(q,r);}};e.exports=p;},null);
__d("legacy:ChatTypeaheadBehavior",["ChatTypeaheadBehavior"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.chatTypeahead=function(h){h.enableBehavior(g);};},3);
__d("Tooltip.react",["React","TooltipMixin"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=g,j=i.PropTypes,k=g.createClass({displayName:"Tooltip",propTypes:{display:j.oneOf(['inline','block'])},getDefaultProps:function(){return {display:'inline'};},mixins:[h],render:function(){if(this.props.display==='block')return (g.createElement("div",g.__spread({},this.props),this.props.children));return g.createElement("span",g.__spread({},this.props),this.props.children);}});e.exports=k;},null);
__d("MercuryTypeaheadDataSource",["Banzai","BanzaiLogger","CurrentUser","DataSource","MercuryParticipantTypes","MercuryTypeaheadConstants","OrderedFriendsList","ShortProfiles","WorkModeConfig","debounce","merge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=500,s=[],t={},u={},v={},w=false,x=false;for(var y in j)if(j.hasOwnProperty(y))aa[y]=j[y];var z=j===null?null:j.prototype;aa.prototype=Object.create(z);aa.prototype.constructor=aa;aa.__superConstructor__=j;function aa(ba){"use strict";ba=ba||{};ba.kanaNormalization=true;j.call(this,ba);this.logQuery=p(function(ca){this.$MercuryTypeaheadDataSource0(ca);},r,this,true);this.logResponse=p(function(ca){this.$MercuryTypeaheadDataSource0(ca);},r,this,true);}aa.prototype.dirty=function(){"use strict";this.$MercuryTypeaheadDataSource1=s;this.localCache=u;this.queryCache=t;this.queryIDs=v;return this;};aa.prototype.bootstrap=function(){"use strict";if(w||x)return false;this.$MercuryTypeaheadDataSource0({event:'bootstrap_start'});x=true;n.fetchAll().then(function(){this.updateBootstrapData();this.$MercuryTypeaheadDataSource0({event:'bootstrap_end'});x=false;w=true;}.bind(this),function(){this.$MercuryTypeaheadDataSource0({event:'bootstrap_failure'});}.bind(this));return true;};aa.prototype.updateBootstrapData=function(){"use strict";var ba=this.getCachedShortProfileIDs(),ca=o.is_work_user?k.FB4C:k.FRIEND,da=ba.map(function(ea){var fa=n.getNow(ea),ga=ea==i.getID()?ca:fa.type,ha=[fa.additionalName,fa.alternateName].concat(fa.searchTokens||[]).join(' ');return {uid:ea,index:m.getActiveRank(ea),text:fa.name,tokens:ha,localized_text:fa.name,additional_text:fa.additionalName,photo:fa.thumbSrc,render_type:ga,type:l.USER_TYPE};});if(da.length)this.addEntries(da);};aa.prototype.query=function(ba,ca,da,ea){"use strict";var fa=ca||ba.length===1;return z.query.call(this,ba,fa,da,ea);};aa.prototype.getQueryData=function(ba,ca){"use strict";return q(z.getQueryData.call(this,ba,ca),{needs_friends:!this.isBootstrapped()});};aa.prototype.setEntry=function(ba,ca){"use strict";this.$MercuryTypeaheadDataSource1[ba]=ca;};aa.prototype.getEntry=function(ba){"use strict";return this.$MercuryTypeaheadDataSource1[ba]||null;};aa.prototype.getCachedShortProfileIDs=function(){"use strict";var ba=n.getCachedProfileIDs(),ca=ba.filter(function(da){var ea=n.getNow(da);return (da==i.getID()||ea.type===k.FRIEND);});return ca;};aa.prototype.isBootstrapped=function(){"use strict";return w;};aa.prototype.isBootstrapping=function(){"use strict";return x;};aa.prototype.processEntries=function(ba,ca){"use strict";ba=ba.map(function(da){if(da.index==null&&da.render_type===k.FRIEND)da.index=m.getActiveRank(da.uid);return da;});return z.processEntries.call(this,ba);};aa.prototype.mergeUids=function(ba,ca,da,ea){"use strict";var fa=ca.sort(function(ga,ha){return this.getEntry(ga).index-this.getEntry(ha).index;}.bind(this));return z.mergeUids.call(this,ba,fa,da,ea);};aa.prototype.$MercuryTypeaheadDataSource0=function(ba){"use strict";if(!g.isEnabled('mercury_typeahead_logging'))return;h.log('MercuryQueryResultsLoggerConfig',ba);};e.exports=aa;},null);
__d("MercuryThreadSearchUtils",["escapeRegex","TokenizeUtil"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={wordsInString:function(j){return (j||'').split(/\s+/).filter(function(k){return k.trim().length>0;});},anyMatchPredicate:function(j,k){for(var l=0;l<j.length;l++)if(k(j[l]))return true;return false;},allMatchPredicate:function(j,k){for(var l=0;l<j.length;l++)if(!k(j[l]))return false;return true;},queryWordMatchesAnyNameWord:function(j,k){var l=new RegExp('^'+g(j),'i');return this.anyMatchPredicate(k,function(m){var n=h.parse(m).flatValue;return l.test(n);});},queryMatchesName:function(j,k){var l=this.wordsInString(j),m=this.wordsInString(k);return this.allMatchPredicate(l,function(n){return this.queryWordMatchesAnyNameWord(n,m);}.bind(this));}};e.exports=i;},null);
__d("ClearableTypeahead",["Event"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={resetOnCloseButtonClick:function(i,j){g.listen(j,'click',function(){var k=i.getCore();k.getElement().focus();k.reset();});}};e.exports=h;},null);
__d("legacy:CompactTypeaheadRenderer",["CompactTypeaheadRenderer"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();if(!a.TypeaheadRenderers)a.TypeaheadRenderers={};a.TypeaheadRenderers.compact=b('CompactTypeaheadRenderer');},3);